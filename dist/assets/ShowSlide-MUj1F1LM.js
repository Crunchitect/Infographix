import{d as w,r as a,o as x,u as g,a as $,e as u,f as n,F as f,p as k,bQ as v,k as y,aH as h,n as C,b8 as j,j as r,_ as B}from"./index-rgW8kFI3.js";import{s as H}from"./supabase-TDJmcE2O.js";import{s as S}from"./index-BnQFQdEN.js";const L=w({__name:"ShowSlide",setup(M){const p=g(),l=$(),d=a([]),c=a([]),m=a("0"),b=a("0"),e=a(0);return x(async()=>{const{data:i,error:t}=await H.from("Projects").select("*").eq("id",p.params.id);if(t&&l.push("/404"),!i)return;const o=i[0];o||l.push("/slide/404"),m.value=o.content.metadata.width,b.value=o.content.metadata.height,c.value=o.content.metadata,d.value=o.content.data}),(i,t)=>{var o;return r(),u(f,null,[t[7]||(t[7]=n("div",{class:"slide"},null,-1)),n("div",{ref:"ctx",class:"ctx",id:"slide_edit_ctx",onKeydown:[t[0]||(t[0]=v(s=>e.value--,["left"])),t[1]||(t[1]=v(s=>e.value++,["right"]))],onClick:t[2]||(t[2]=s=>e.value++)},[(r(!0),u(f,null,k((o=d.value[e.value])==null?void 0:o.content,(s,z)=>(r(),y(j(s.tag),h({id:s.id,style:{...s.styles,color:"black","text-align":"center",position:"fixeds",left:`${s.position.x/19.2+20}vw`,top:`${s.position.y/10.8+20}vh`,width:`${s.position.w/19.2+.1}vw`,height:`${s.position.h/10.8+.1}vh`,"object-fit":"cover","z-index":"6969"}},{ref_for:!0},s.attrs,{innerHTML:C(S)(s.content)}),null,16,["id","style","innerHTML"]))),256))],544),n("button",{class:"btn left",onClick:t[3]||(t[3]=s=>e.value--)},[...t[5]||(t[5]=[n("i",{class:"fa-solid fa-chevron-left"},null,-1)])]),n("button",{class:"btn right",onClick:t[4]||(t[4]=s=>e.value++)},[...t[6]||(t[6]=[n("i",{class:"fa-solid fa-chevron-right"},null,-1)])])],64)}}}),R=B(L,[["__scopeId","data-v-ba504b4e"]]);export{R as default};
