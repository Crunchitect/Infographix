import{B as so,C as lo,D as co,E as uo,G as fo,H as ho,I as po,F as se,K as go,R as vo,S as mo,J as yo,T as bo,L as xo,M as So,N as Eo,O as wo,P as To,V as Co,Q as Oo,U as Io,W as Ao,X as Po,Y as Do,Z as Ro,$ as $o,c as Rr,a0 as Mo,m as Cn,n as De,e as tt,f as O,a1 as No,a2 as Lo,a3 as Fo,a4 as jo,a5 as Bo,A as ar,k as ge,g as xt,a6 as Ho,a7 as zo,d as ce,a8 as Uo,a9 as Wo,aa as Go,ab as Vo,ac as Xo,ad as Ko,ae as Yo,af as Jo,ag as Zo,ah as Qo,ai as ko,aj as qo,ak as $r,al as _o,am as ta,an as ea,ao as na,ap as ra,aq as oa,ar as aa,as as ia,at as sa,au as la,av as ca,aw as ua,ax as da,y as fa,ay as ha,az as pa,aA as ga,aB as va,aC as ma,aD as ya,aE as Mr,aF as ba,aG as Jt,aH as xa,z as nn,aI as Sa,aJ as Ea,aK as wa,aL as Ta,aM as Ca,aN as Oa,o as $n,aO as Ia,aP as Aa,aQ as Nr,aR as Pa,aS as Da,aT as Ra,b as Q,j as Mn,aU as $a,aV as Ma,p as Nn,aW as Na,a as La,aX as Fa,r as k,aY as ja,aZ as Ba,s as Ee,a_ as qn,i as Ha,a$ as za,b0 as Lr,b1 as Ua,b2 as Wa,b3 as Ga,b4 as Va,b5 as Xa,b6 as Ka,b7 as Ya,b8 as Ja,b9 as Za,ba as Qa,bb as ka,t as Kt,bc as qa,bd as _a,be as ti,bf as ei,bg as ni,bh as ri,bi as oi,bj as ai,q as zt,bk as ii,bl as si,bm as rn,bn as li,bo as ci,bp as ui,bq as di,br as fi,bs as hi,bt as pi,bu as gi,x as he,bv as Fr,bw as vi,bx as mi,by as ir,bz as Ln,bA as yi,bB as bi,bC as xi,w as Fn,bD as Si,v as ie,bE as Ei,bF as wi,l as ot,bG as Ti,_ as Bt,u as jr,h as Br}from"./index-QxSvr2SK.js";import{s as Ze}from"./supabase-BtWazWSc.js";import{g as Qe}from"./generate_uuid-DCpGMQ0y.js";import{g as Hr,c as Ci,a as Oi}from"./_commonjsHelpers-C4iS2aBk.js";import{C as un}from"./Card-CjGReCOB.js";import{D as Ii}from"./Dialogue-LjGo76NT.js";/**
* vue v3.4.19
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Ai=()=>{},Pi=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:so,BaseTransitionPropsValidators:lo,Comment:co,DeprecationTypes:uo,EffectScope:fo,ErrorCodes:ho,ErrorTypeStrings:po,Fragment:se,KeepAlive:go,ReactiveEffect:vo,Static:mo,Suspense:yo,Teleport:bo,Text:xo,TrackOpTypes:So,Transition:Eo,TransitionGroup:wo,TriggerOpTypes:To,VueElement:Co,assertNumber:Oo,callWithAsyncErrorHandling:Io,callWithErrorHandling:Ao,camelize:Po,capitalize:Do,cloneVNode:Ro,compatUtils:$o,compile:Ai,computed:Rr,createApp:Mo,createBlock:Cn,createCommentVNode:De,createElementBlock:tt,createElementVNode:O,createHydrationRenderer:No,createPropsRestProxy:Lo,createRenderer:Fo,createSSRApp:jo,createSlots:Bo,createStaticVNode:ar,createTextVNode:ge,createVNode:xt,customRef:Ho,defineAsyncComponent:zo,defineComponent:ce,defineCustomElement:Uo,defineEmits:Wo,defineExpose:Go,defineModel:Vo,defineOptions:Xo,defineProps:Ko,defineSSRCustomElement:Yo,defineSlots:Jo,devtools:Zo,effect:Qo,effectScope:ko,getCurrentInstance:qo,getCurrentScope:$r,getTransitionRawChildren:_o,guardReactiveProps:ta,h:ea,handleError:na,hasInjectionContext:ra,hydrate:oa,initCustomFormatter:aa,initDirectivesForSSR:ia,inject:sa,isMemoSame:la,isProxy:ca,isReactive:ua,isReadonly:da,isRef:fa,isRuntimeOnly:ha,isShallow:pa,isVNode:ga,markRaw:va,mergeDefaults:ma,mergeModels:ya,mergeProps:Mr,nextTick:ba,normalizeClass:Jt,normalizeProps:xa,normalizeStyle:nn,onActivated:Sa,onBeforeMount:Ea,onBeforeUnmount:wa,onBeforeUpdate:Ta,onDeactivated:Ca,onErrorCaptured:Oa,onMounted:$n,onRenderTracked:Ia,onRenderTriggered:Aa,onScopeDispose:Nr,onServerPrefetch:Pa,onUnmounted:Da,onUpdated:Ra,openBlock:Q,popScopeId:Mn,provide:$a,proxyRefs:Ma,pushScopeId:Nn,queuePostFlushCb:Na,reactive:La,readonly:Fa,ref:k,registerRuntimeCompiler:ja,render:Ba,renderList:Ee,renderSlot:qn,resolveComponent:Ha,resolveDirective:za,resolveDynamicComponent:Lr,resolveFilter:Ua,resolveTransitionHooks:Wa,setBlockTracking:Ga,setDevtoolsHook:Va,setTransitionHooks:Xa,shallowReactive:Ka,shallowReadonly:Ya,shallowRef:Ja,ssrContextKey:Za,ssrUtils:Qa,stop:ka,toDisplayString:Kt,toHandlerKey:qa,toHandlers:_a,toRaw:ti,toRef:ei,toRefs:ni,toValue:ri,transformVNodeArgs:oi,triggerRef:ai,unref:zt,useAttrs:ii,useCssModule:si,useCssVars:rn,useModel:li,useSSRContext:ci,useSlots:ui,useTransitionState:di,vModelCheckbox:fi,vModelDynamic:hi,vModelRadio:pi,vModelSelect:gi,vModelText:he,vShow:Fr,version:vi,warn:mi,watch:ir,watchEffect:Ln,watchPostEffect:yi,watchSyncEffect:bi,withAsyncContext:xi,withCtx:Fn,withDefaults:Si,withDirectives:ie,withKeys:Ei,withMemo:wi,withModifiers:ot,withScopeId:Ti},Symbol.toStringTag,{value:"Module"})),On=e=>e instanceof Array?e.map(On):e instanceof Object?Object.fromEntries(Object.entries(Object.assign({},e)).map(([n,r])=>[n,On(r)])):e,zr=k({is_opened:!1,set_is_opened(e){this.is_opened=e}}),Ur=e=>new Promise(n=>setTimeout(n,e)),Di={},Ri={width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},$i=O("path",{d:"M0 9.5C0 11.9844 2.01562 14 4.5 14H16C18.2094 14 20 12.2094 20 10C20 8.06562 18.625 6.45 16.8 6.08125C16.9281 5.74688 17 5.38125 17 5C17 3.34375 15.6562 2 14 2C13.3844 2 12.8094 2.1875 12.3344 2.50625C11.4688 1.00625 9.85312 0 8 0C5.2375 0 3 2.2375 3 5C3 5.08438 3.00312 5.16875 3.00625 5.25313C1.25625 5.86875 0 7.5375 0 9.5Z",fill:"white"},null,-1),Mi=O("circle",{cx:"6",cy:"10",r:"1",fill:"black"},null,-1),Ni=O("circle",{cx:"10",cy:"10",r:"1",fill:"black"},null,-1),Li=O("circle",{cx:"14",cy:"10",r:"1",fill:"black"},null,-1),Fi=[$i,Mi,Ni,Li];function ji(e,n){return Q(),tt("svg",Ri,Fi)}const Bi=Bt(Di,[["render",ji]]),Hi={},zi={width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Ui=O("path",{d:"M0 9.5C0 11.9844 2.01562 14 4.5 14H16C18.2094 14 20 12.2094 20 10C20 8.06562 18.625 6.45 16.8 6.08125C16.9281 5.74688 17 5.38125 17 5C17 3.34375 15.6562 2 14 2C13.3844 2 12.8094 2.1875 12.3344 2.50625C11.4688 1.00625 9.85312 0 8 0C5.2375 0 3 2.2375 3 5C3 5.08438 3.00312 5.16875 3.00625 5.25313C1.25625 5.86875 0 7.5375 0 9.5Z",fill:"white"},null,-1),Wi=O("line",{x1:"4.35355",y1:"8.64645",x2:"7.35355",y2:"11.6464",stroke:"black"},null,-1),Gi=O("line",{x1:"14.3536",y1:"5.35355",x2:"7.35355",y2:"12.3536",stroke:"black"},null,-1),Vi=[Ui,Wi,Gi];function Xi(e,n){return Q(),tt("svg",zi,Vi)}const Ki=Bt(Hi,[["render",Xi]]),Yi={class:"status"},Ji={key:0},Zi={key:1},Qi={style:{"word-wrap":"none"}},ki={class:"share"},qi=ce({__name:"Metadata",props:{name:String,width:String,height:String,language:String,cloud_status:Number,team_id:Number},setup(e){const n=jr(),r=Br(),a=e,o=k(!0),l=k(""),t=()=>{o.value=!o.value,zr.value.set_is_opened(o.value)},i=async u=>{const f=(await Ze.from("Teams").select("team_members").eq("id",a.team_id)).data[0].team_members;console.log([...f,{email:l.value,status:"edit"}]),await Ze.from("Teams").update({team_members:[...f,{email:l.value,status:"edit"}]}).eq("id",a.team_id).select(),u.target.classList.remove("fa-paper-plane"),u.target.classList.add("fa-check"),u.target.classList.add("fa-beat"),await Ur(200),u.target.classList.add("fa-paper-plane"),u.target.classList.remove("fa-check"),u.target.classList.remove("fa-beat"),l.value=""},s=()=>{const u=n.params.id;r.push(`/slide/${u}/present`)},c=Rr(()=>a.cloud_status);return(u,d)=>(Q(),tt(se,null,[O("div",{class:Jt(["metadata",o.value?"op":"cl"])},[O("div",{class:Jt(["content",o.value?"op":"cl"])},[O("h1",null,[ge(Kt(e.name)+" ",1),O("span",Yi,[c.value==0?(Q(),tt("span",Ji,[xt(Bi)])):(Q(),tt("span",Zi,[xt(Ki)]))])]),O("p",Qi,[O("i",{class:"fa-solid fa-desktop",onClick:s}),ge("   "),O("span",ki,[ie(O("input",{type:"text",placeholder:"Share to...","onUpdate:modelValue":d[0]||(d[0]=f=>l.value=f)},null,512),[[he,l.value]]),ge("    "),O("i",{class:"fa-solid fa-paper-plane fa-sm",onClick:i})]),O("strong",null,Kt(e.language=="en"?"Size":"ขนาด")+":",1),ge(" "+Kt(e.width)+" x "+Kt(e.height),1)])],2)],2),O("i",{class:Jt(["fa-solid","fa-chevron-up","fa-xs","chevron",o.value?"op":"cl"]),onClick:t},null,2)],64))}}),_i=Bt(qi,[["__scopeId","data-v-b7d1f28b"]]);var Wr={exports:{}};const ts=Hr(Pi);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function fr(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function re(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?fr(Object(r),!0).forEach(function(a){es(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):fr(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function yn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?yn=function(n){return typeof n}:yn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},yn(e)}function es(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Zt(){return Zt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Zt.apply(this,arguments)}function ns(e,n){if(e==null)return{};var r={},a=Object.keys(e),o,l;for(l=0;l<a.length;l++)o=a[l],!(n.indexOf(o)>=0)&&(r[o]=e[o]);return r}function rs(e,n){if(e==null)return{};var r=ns(e,n),a,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)a=l[o],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function os(e){return as(e)||is(e)||ss(e)||ls()}function as(e){if(Array.isArray(e))return _n(e)}function is(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ss(e,n){if(e){if(typeof e=="string")return _n(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return _n(e,n)}}function _n(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function ls(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cs="1.14.0";function le(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var ue=le(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),on=le(/Edge/i),hr=le(/firefox/i),ke=le(/safari/i)&&!le(/chrome/i)&&!le(/android/i),Gr=le(/iP(ad|od|hone)/i),us=le(/chrome/i)&&le(/android/i),Vr={capture:!1,passive:!1};function it(e,n,r){e.addEventListener(n,r,!ue&&Vr)}function at(e,n,r){e.removeEventListener(n,r,!ue&&Vr)}function In(e,n){if(n){if(n[0]===">"&&(n=n.substring(1)),e)try{if(e.matches)return e.matches(n);if(e.msMatchesSelector)return e.msMatchesSelector(n);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(n)}catch{return!1}return!1}}function ds(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function _t(e,n,r,a){if(e){r=r||document;do{if(n!=null&&(n[0]===">"?e.parentNode===r&&In(e,n):In(e,n))||a&&e===r)return e;if(e===r)break}while(e=ds(e))}return null}var pr=/\s+/g;function Et(e,n,r){if(e&&n)if(e.classList)e.classList[r?"add":"remove"](n);else{var a=(" "+e.className+" ").replace(pr," ").replace(" "+n+" "," ");e.className=(a+(r?" "+n:"")).replace(pr," ")}}function G(e,n,r){var a=e&&e.style;if(a){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),n===void 0?r:r[n];!(n in a)&&n.indexOf("webkit")===-1&&(n="-webkit-"+n),a[n]=r+(typeof r=="string"?"":"px")}}function we(e,n){var r="";if(typeof e=="string")r=e;else do{var a=G(e,"transform");a&&a!=="none"&&(r=a+" "+r)}while(!n&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(r)}function Xr(e,n,r){if(e){var a=e.getElementsByTagName(n),o=0,l=a.length;if(r)for(;o<l;o++)r(a[o],o);return a}return[]}function ne(){var e=document.scrollingElement;return e||document.documentElement}function bt(e,n,r,a,o){if(!(!e.getBoundingClientRect&&e!==window)){var l,t,i,s,c,u,d;if(e!==window&&e.parentNode&&e!==ne()?(l=e.getBoundingClientRect(),t=l.top,i=l.left,s=l.bottom,c=l.right,u=l.height,d=l.width):(t=0,i=0,s=window.innerHeight,c=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(n||r)&&e!==window&&(o=o||e.parentNode,!ue))do if(o&&o.getBoundingClientRect&&(G(o,"transform")!=="none"||r&&G(o,"position")!=="static")){var f=o.getBoundingClientRect();t-=f.top+parseInt(G(o,"border-top-width")),i-=f.left+parseInt(G(o,"border-left-width")),s=t+l.height,c=i+l.width;break}while(o=o.parentNode);if(a&&e!==window){var h=we(o||e),p=h&&h.a,v=h&&h.d;h&&(t/=v,i/=p,d/=p,u/=v,s=t+u,c=i+d)}return{top:t,left:i,bottom:s,right:c,width:d,height:u}}}function gr(e,n,r){for(var a=ve(e,!0),o=bt(e)[n];a;){var l=bt(a)[r],t=void 0;if(r==="top"||r==="left"?t=o>=l:t=o<=l,!t)return a;if(a===ne())break;a=ve(a,!1)}return!1}function $e(e,n,r,a){for(var o=0,l=0,t=e.children;l<t.length;){if(t[l].style.display!=="none"&&t[l]!==Y.ghost&&(a||t[l]!==Y.dragged)&&_t(t[l],r.draggable,e,!1)){if(o===n)return t[l];o++}l++}return null}function sr(e,n){for(var r=e.lastElementChild;r&&(r===Y.ghost||G(r,"display")==="none"||n&&!In(r,n));)r=r.previousElementSibling;return r||null}function Ot(e,n){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Y.clone&&(!n||In(e,n))&&r++;return r}function vr(e){var n=0,r=0,a=ne();if(e)do{var o=we(e),l=o.a,t=o.d;n+=e.scrollLeft*l,r+=e.scrollTop*t}while(e!==a&&(e=e.parentNode));return[n,r]}function fs(e,n){for(var r in e)if(e.hasOwnProperty(r)){for(var a in n)if(n.hasOwnProperty(a)&&n[a]===e[r][a])return Number(r)}return-1}function ve(e,n){if(!e||!e.getBoundingClientRect)return ne();var r=e,a=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var o=G(r);if(r.clientWidth<r.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return ne();if(a||n)return r;a=!0}}while(r=r.parentNode);return ne()}function hs(e,n){if(e&&n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e}function zn(e,n){return Math.round(e.top)===Math.round(n.top)&&Math.round(e.left)===Math.round(n.left)&&Math.round(e.height)===Math.round(n.height)&&Math.round(e.width)===Math.round(n.width)}var qe;function Kr(e,n){return function(){if(!qe){var r=arguments,a=this;r.length===1?e.call(a,r[0]):e.apply(a,r),qe=setTimeout(function(){qe=void 0},n)}}}function ps(){clearTimeout(qe),qe=void 0}function Yr(e,n,r){e.scrollLeft+=n,e.scrollTop+=r}function lr(e){var n=window.Polymer,r=window.jQuery||window.Zepto;return n&&n.dom?n.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function mr(e,n){G(e,"position","absolute"),G(e,"top",n.top),G(e,"left",n.left),G(e,"width",n.width),G(e,"height",n.height)}function Un(e){G(e,"position",""),G(e,"top",""),G(e,"left",""),G(e,"width",""),G(e,"height","")}var jt="Sortable"+new Date().getTime();function gs(){var e=[],n;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(o){if(!(G(o,"display")==="none"||o===Y.ghost)){e.push({target:o,rect:bt(o)});var l=re({},e[e.length-1].rect);if(o.thisAnimationDuration){var t=we(o,!0);t&&(l.top-=t.f,l.left-=t.e)}o.fromRect=l}})}},addAnimationState:function(a){e.push(a)},removeAnimationState:function(a){e.splice(fs(e,{target:a}),1)},animateAll:function(a){var o=this;if(!this.options.animation){clearTimeout(n),typeof a=="function"&&a();return}var l=!1,t=0;e.forEach(function(i){var s=0,c=i.target,u=c.fromRect,d=bt(c),f=c.prevFromRect,h=c.prevToRect,p=i.rect,v=we(c,!0);v&&(d.top-=v.f,d.left-=v.e),c.toRect=d,c.thisAnimationDuration&&zn(f,d)&&!zn(u,d)&&(p.top-d.top)/(p.left-d.left)===(u.top-d.top)/(u.left-d.left)&&(s=ms(p,f,h,o.options)),zn(d,u)||(c.prevFromRect=u,c.prevToRect=d,s||(s=o.options.animation),o.animate(c,p,d,s)),s&&(l=!0,t=Math.max(t,s),clearTimeout(c.animationResetTimer),c.animationResetTimer=setTimeout(function(){c.animationTime=0,c.prevFromRect=null,c.fromRect=null,c.prevToRect=null,c.thisAnimationDuration=null},s),c.thisAnimationDuration=s)}),clearTimeout(n),l?n=setTimeout(function(){typeof a=="function"&&a()},t):typeof a=="function"&&a(),e=[]},animate:function(a,o,l,t){if(t){G(a,"transition",""),G(a,"transform","");var i=we(this.el),s=i&&i.a,c=i&&i.d,u=(o.left-l.left)/(s||1),d=(o.top-l.top)/(c||1);a.animatingX=!!u,a.animatingY=!!d,G(a,"transform","translate3d("+u+"px,"+d+"px,0)"),this.forRepaintDummy=vs(a),G(a,"transition","transform "+t+"ms"+(this.options.easing?" "+this.options.easing:"")),G(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){G(a,"transition",""),G(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},t)}}}}function vs(e){return e.offsetWidth}function ms(e,n,r,a){return Math.sqrt(Math.pow(n.top-e.top,2)+Math.pow(n.left-e.left,2))/Math.sqrt(Math.pow(n.top-r.top,2)+Math.pow(n.left-r.left,2))*a.animation}var Ce=[],Wn={initializeByDefault:!0},an={mount:function(n){for(var r in Wn)Wn.hasOwnProperty(r)&&!(r in n)&&(n[r]=Wn[r]);Ce.forEach(function(a){if(a.pluginName===n.pluginName)throw"Sortable: Cannot mount plugin ".concat(n.pluginName," more than once")}),Ce.push(n)},pluginEvent:function(n,r,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var l=n+"Global";Ce.forEach(function(t){r[t.pluginName]&&(r[t.pluginName][l]&&r[t.pluginName][l](re({sortable:r},a)),r.options[t.pluginName]&&r[t.pluginName][n]&&r[t.pluginName][n](re({sortable:r},a)))})},initializePlugins:function(n,r,a,o){Ce.forEach(function(i){var s=i.pluginName;if(!(!n.options[s]&&!i.initializeByDefault)){var c=new i(n,r,n.options);c.sortable=n,c.options=n.options,n[s]=c,Zt(a,c.defaults)}});for(var l in n.options)if(n.options.hasOwnProperty(l)){var t=this.modifyOption(n,l,n.options[l]);typeof t<"u"&&(n.options[l]=t)}},getEventProperties:function(n,r){var a={};return Ce.forEach(function(o){typeof o.eventProperties=="function"&&Zt(a,o.eventProperties.call(r[o.pluginName],n))}),a},modifyOption:function(n,r,a){var o;return Ce.forEach(function(l){n[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[r]=="function"&&(o=l.optionListeners[r].call(n[l.pluginName],a))}),o}};function Ve(e){var n=e.sortable,r=e.rootEl,a=e.name,o=e.targetEl,l=e.cloneEl,t=e.toEl,i=e.fromEl,s=e.oldIndex,c=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,h=e.putSortable,p=e.extraEventProperties;if(n=n||r&&r[jt],!!n){var v,b=n.options,y="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!ue&&!on?v=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(v=document.createEvent("Event"),v.initEvent(a,!0,!0)),v.to=t||r,v.from=i||r,v.item=o||r,v.clone=l,v.oldIndex=s,v.newIndex=c,v.oldDraggableIndex=u,v.newDraggableIndex=d,v.originalEvent=f,v.pullMode=h?h.lastPutMode:void 0;var x=re(re({},p),an.getEventProperties(a,n));for(var g in x)v[g]=x[g];r&&r.dispatchEvent(v),b[y]&&b[y].call(n,v)}}var ys=["evt"],Wt=function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.evt,l=rs(a,ys);an.pluginEvent.bind(Y)(n,r,re({dragEl:B,parentEl:Tt,ghostEl:et,rootEl:yt,nextEl:Se,lastDownEl:bn,cloneEl:Ct,cloneHidden:pe,dragStarted:Xe,putSortable:$t,activeSortable:Y.active,originalEvent:o,oldIndex:Re,oldDraggableIndex:_e,newIndex:Xt,newDraggableIndex:fe,hideGhostForTarget:kr,unhideGhostForTarget:qr,cloneNowHidden:function(){pe=!0},cloneNowShown:function(){pe=!1},dispatchSortableEvent:function(i){Ht({sortable:r,name:i,originalEvent:o})}},l))};function Ht(e){Ve(re({putSortable:$t,cloneEl:Ct,targetEl:B,rootEl:yt,oldIndex:Re,oldDraggableIndex:_e,newIndex:Xt,newDraggableIndex:fe},e))}var B,Tt,et,yt,Se,bn,Ct,pe,Re,Xt,_e,fe,dn,$t,Pe=!1,An=!1,Pn=[],ye,kt,Gn,Vn,yr,br,Xe,Oe,tn,en=!1,fn=!1,xn,Nt,Xn=[],tr=!1,Dn=[],jn=typeof document<"u",hn=Gr,xr=on||ue?"cssFloat":"float",bs=jn&&!us&&!Gr&&"draggable"in document.createElement("div"),Jr=function(){if(jn){if(ue)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Zr=function(n,r){var a=G(n),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),l=$e(n,0,r),t=$e(n,1,r),i=l&&G(l),s=t&&G(t),c=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+bt(l).width,u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+bt(t).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&i.float&&i.float!=="none"){var d=i.float==="left"?"left":"right";return t&&(s.clear==="both"||s.clear===d)?"vertical":"horizontal"}return l&&(i.display==="block"||i.display==="flex"||i.display==="table"||i.display==="grid"||c>=o&&a[xr]==="none"||t&&a[xr]==="none"&&c+u>o)?"vertical":"horizontal"},xs=function(n,r,a){var o=a?n.left:n.top,l=a?n.right:n.bottom,t=a?n.width:n.height,i=a?r.left:r.top,s=a?r.right:r.bottom,c=a?r.width:r.height;return o===i||l===s||o+t/2===i+c/2},Ss=function(n,r){var a;return Pn.some(function(o){var l=o[jt].options.emptyInsertThreshold;if(!(!l||sr(o))){var t=bt(o),i=n>=t.left-l&&n<=t.right+l,s=r>=t.top-l&&r<=t.bottom+l;if(i&&s)return a=o}}),a},Qr=function(n){function r(l,t){return function(i,s,c,u){var d=i.options.group.name&&s.options.group.name&&i.options.group.name===s.options.group.name;if(l==null&&(t||d))return!0;if(l==null||l===!1)return!1;if(t&&l==="clone")return l;if(typeof l=="function")return r(l(i,s,c,u),t)(i,s,c,u);var f=(t?i:s).options.group.name;return l===!0||typeof l=="string"&&l===f||l.join&&l.indexOf(f)>-1}}var a={},o=n.group;(!o||yn(o)!="object")&&(o={name:o}),a.name=o.name,a.checkPull=r(o.pull,!0),a.checkPut=r(o.put),a.revertClone=o.revertClone,n.group=a},kr=function(){!Jr&&et&&G(et,"display","none")},qr=function(){!Jr&&et&&G(et,"display","")};jn&&document.addEventListener("click",function(e){if(An)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),An=!1,!1},!0);var be=function(n){if(B){n=n.touches?n.touches[0]:n;var r=Ss(n.clientX,n.clientY);if(r){var a={};for(var o in n)n.hasOwnProperty(o)&&(a[o]=n[o]);a.target=a.rootEl=r,a.preventDefault=void 0,a.stopPropagation=void 0,r[jt]._onDragOver(a)}}},Es=function(n){B&&B.parentNode[jt]._isOutsideThisEl(n.target)};function Y(e,n){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=n=Zt({},n),e[jt]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Zr(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,i){t.setData("Text",i.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Y.supportPointer!==!1&&"PointerEvent"in window&&!ke,emptyInsertThreshold:5};an.initializePlugins(this,e,r);for(var a in r)!(a in n)&&(n[a]=r[a]);Qr(n);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=n.forceFallback?!1:bs,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?it(e,"pointerdown",this._onTapStart):(it(e,"mousedown",this._onTapStart),it(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(it(e,"dragover",this),it(e,"dragenter",this)),Pn.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),Zt(this,gs())}Y.prototype={constructor:Y,_isOutsideThisEl:function(n){!this.el.contains(n)&&n!==this.el&&(Oe=null)},_getDirection:function(n,r){return typeof this.options.direction=="function"?this.options.direction.call(this,n,r,B):this.options.direction},_onTapStart:function(n){if(n.cancelable){var r=this,a=this.el,o=this.options,l=o.preventOnFilter,t=n.type,i=n.touches&&n.touches[0]||n.pointerType&&n.pointerType==="touch"&&n,s=(i||n).target,c=n.target.shadowRoot&&(n.path&&n.path[0]||n.composedPath&&n.composedPath()[0])||s,u=o.filter;if(Ds(a),!B&&!(/mousedown|pointerdown/.test(t)&&n.button!==0||o.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&ke&&s&&s.tagName.toUpperCase()==="SELECT")&&(s=_t(s,o.draggable,a,!1),!(s&&s.animated)&&bn!==s)){if(Re=Ot(s),_e=Ot(s,o.draggable),typeof u=="function"){if(u.call(this,n,s,this)){Ht({sortable:r,rootEl:c,name:"filter",targetEl:s,toEl:a,fromEl:a}),Wt("filter",r,{evt:n}),l&&n.cancelable&&n.preventDefault();return}}else if(u&&(u=u.split(",").some(function(d){if(d=_t(c,d.trim(),a,!1),d)return Ht({sortable:r,rootEl:d,name:"filter",targetEl:s,fromEl:a,toEl:a}),Wt("filter",r,{evt:n}),!0}),u)){l&&n.cancelable&&n.preventDefault();return}o.handle&&!_t(c,o.handle,a,!1)||this._prepareDragStart(n,i,s)}}},_prepareDragStart:function(n,r,a){var o=this,l=o.el,t=o.options,i=l.ownerDocument,s;if(a&&!B&&a.parentNode===l){var c=bt(a);if(yt=l,B=a,Tt=B.parentNode,Se=B.nextSibling,bn=a,dn=t.group,Y.dragged=B,ye={target:B,clientX:(r||n).clientX,clientY:(r||n).clientY},yr=ye.clientX-c.left,br=ye.clientY-c.top,this._lastX=(r||n).clientX,this._lastY=(r||n).clientY,B.style["will-change"]="all",s=function(){if(Wt("delayEnded",o,{evt:n}),Y.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!hr&&o.nativeDraggable&&(B.draggable=!0),o._triggerDragStart(n,r),Ht({sortable:o,name:"choose",originalEvent:n}),Et(B,t.chosenClass,!0)},t.ignore.split(",").forEach(function(u){Xr(B,u.trim(),Kn)}),it(i,"dragover",be),it(i,"mousemove",be),it(i,"touchmove",be),it(i,"mouseup",o._onDrop),it(i,"touchend",o._onDrop),it(i,"touchcancel",o._onDrop),hr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,B.draggable=!0),Wt("delayStart",this,{evt:n}),t.delay&&(!t.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(on||ue))){if(Y.eventCanceled){this._onDrop();return}it(i,"mouseup",o._disableDelayedDrag),it(i,"touchend",o._disableDelayedDrag),it(i,"touchcancel",o._disableDelayedDrag),it(i,"mousemove",o._delayedDragTouchMoveHandler),it(i,"touchmove",o._delayedDragTouchMoveHandler),t.supportPointer&&it(i,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(s,t.delay)}else s()}},_delayedDragTouchMoveHandler:function(n){var r=n.touches?n.touches[0]:n;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){B&&Kn(B),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var n=this.el.ownerDocument;at(n,"mouseup",this._disableDelayedDrag),at(n,"touchend",this._disableDelayedDrag),at(n,"touchcancel",this._disableDelayedDrag),at(n,"mousemove",this._delayedDragTouchMoveHandler),at(n,"touchmove",this._delayedDragTouchMoveHandler),at(n,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(n,r){r=r||n.pointerType=="touch"&&n,!this.nativeDraggable||r?this.options.supportPointer?it(document,"pointermove",this._onTouchMove):r?it(document,"touchmove",this._onTouchMove):it(document,"mousemove",this._onTouchMove):(it(B,"dragend",this),it(yt,"dragstart",this._onDragStart));try{document.selection?Sn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(n,r){if(Pe=!1,yt&&B){Wt("dragStarted",this,{evt:r}),this.nativeDraggable&&it(document,"dragover",Es);var a=this.options;!n&&Et(B,a.dragClass,!1),Et(B,a.ghostClass,!0),Y.active=this,n&&this._appendGhost(),Ht({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(kt){this._lastX=kt.clientX,this._lastY=kt.clientY,kr();for(var n=document.elementFromPoint(kt.clientX,kt.clientY),r=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(kt.clientX,kt.clientY),n!==r);)r=n;if(B.parentNode[jt]._isOutsideThisEl(n),r)do{if(r[jt]){var a=void 0;if(a=r[jt]._onDragOver({clientX:kt.clientX,clientY:kt.clientY,target:n,rootEl:r}),a&&!this.options.dragoverBubble)break}n=r}while(r=r.parentNode);qr()}},_onTouchMove:function(n){if(ye){var r=this.options,a=r.fallbackTolerance,o=r.fallbackOffset,l=n.touches?n.touches[0]:n,t=et&&we(et,!0),i=et&&t&&t.a,s=et&&t&&t.d,c=hn&&Nt&&vr(Nt),u=(l.clientX-ye.clientX+o.x)/(i||1)+(c?c[0]-Xn[0]:0)/(i||1),d=(l.clientY-ye.clientY+o.y)/(s||1)+(c?c[1]-Xn[1]:0)/(s||1);if(!Y.active&&!Pe){if(a&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<a)return;this._onDragStart(n,!0)}if(et){t?(t.e+=u-(Gn||0),t.f+=d-(Vn||0)):t={a:1,b:0,c:0,d:1,e:u,f:d};var f="matrix(".concat(t.a,",").concat(t.b,",").concat(t.c,",").concat(t.d,",").concat(t.e,",").concat(t.f,")");G(et,"webkitTransform",f),G(et,"mozTransform",f),G(et,"msTransform",f),G(et,"transform",f),Gn=u,Vn=d,kt=l}n.cancelable&&n.preventDefault()}},_appendGhost:function(){if(!et){var n=this.options.fallbackOnBody?document.body:yt,r=bt(B,!0,hn,!0,n),a=this.options;if(hn){for(Nt=n;G(Nt,"position")==="static"&&G(Nt,"transform")==="none"&&Nt!==document;)Nt=Nt.parentNode;Nt!==document.body&&Nt!==document.documentElement?(Nt===document&&(Nt=ne()),r.top+=Nt.scrollTop,r.left+=Nt.scrollLeft):Nt=ne(),Xn=vr(Nt)}et=B.cloneNode(!0),Et(et,a.ghostClass,!1),Et(et,a.fallbackClass,!0),Et(et,a.dragClass,!0),G(et,"transition",""),G(et,"transform",""),G(et,"box-sizing","border-box"),G(et,"margin",0),G(et,"top",r.top),G(et,"left",r.left),G(et,"width",r.width),G(et,"height",r.height),G(et,"opacity","0.8"),G(et,"position",hn?"absolute":"fixed"),G(et,"zIndex","100000"),G(et,"pointerEvents","none"),Y.ghost=et,n.appendChild(et),G(et,"transform-origin",yr/parseInt(et.style.width)*100+"% "+br/parseInt(et.style.height)*100+"%")}},_onDragStart:function(n,r){var a=this,o=n.dataTransfer,l=a.options;if(Wt("dragStart",this,{evt:n}),Y.eventCanceled){this._onDrop();return}Wt("setupClone",this),Y.eventCanceled||(Ct=lr(B),Ct.draggable=!1,Ct.style["will-change"]="",this._hideClone(),Et(Ct,this.options.chosenClass,!1),Y.clone=Ct),a.cloneId=Sn(function(){Wt("clone",a),!Y.eventCanceled&&(a.options.removeCloneOnHide||yt.insertBefore(Ct,B),a._hideClone(),Ht({sortable:a,name:"clone"}))}),!r&&Et(B,l.dragClass,!0),r?(An=!0,a._loopId=setInterval(a._emulateDragOver,50)):(at(document,"mouseup",a._onDrop),at(document,"touchend",a._onDrop),at(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",l.setData&&l.setData.call(a,o,B)),it(document,"drop",a),G(B,"transform","translateZ(0)")),Pe=!0,a._dragStartId=Sn(a._dragStarted.bind(a,r,n)),it(document,"selectstart",a),Xe=!0,ke&&G(document.body,"user-select","none")},_onDragOver:function(n){var r=this.el,a=n.target,o,l,t,i=this.options,s=i.group,c=Y.active,u=dn===s,d=i.sort,f=$t||c,h,p=this,v=!1;if(tr)return;function b(J,rt){Wt(J,p,re({evt:n,isOwner:u,axis:h?"vertical":"horizontal",revert:t,dragRect:o,targetRect:l,canSort:d,fromSortable:f,target:a,completed:x,onMove:function(ut,pt){return pn(yt,r,B,o,ut,bt(ut),n,pt)},changed:g},rt))}function y(){b("dragOverAnimationCapture"),p.captureAnimationState(),p!==f&&f.captureAnimationState()}function x(J){return b("dragOverCompleted",{insertion:J}),J&&(u?c._hideClone():c._showClone(p),p!==f&&(Et(B,$t?$t.options.ghostClass:c.options.ghostClass,!1),Et(B,i.ghostClass,!0)),$t!==p&&p!==Y.active?$t=p:p===Y.active&&$t&&($t=null),f===p&&(p._ignoreWhileAnimating=a),p.animateAll(function(){b("dragOverAnimationComplete"),p._ignoreWhileAnimating=null}),p!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===B&&!B.animated||a===r&&!a.animated)&&(Oe=null),!i.dragoverBubble&&!n.rootEl&&a!==document&&(B.parentNode[jt]._isOutsideThisEl(n.target),!J&&be(n)),!i.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),v=!0}function g(){Xt=Ot(B),fe=Ot(B,i.draggable),Ht({sortable:p,name:"change",toEl:r,newIndex:Xt,newDraggableIndex:fe,originalEvent:n})}if(n.preventDefault!==void 0&&n.cancelable&&n.preventDefault(),a=_t(a,i.draggable,r,!0),b("dragOver"),Y.eventCanceled)return v;if(B.contains(n.target)||a.animated&&a.animatingX&&a.animatingY||p._ignoreWhileAnimating===a)return x(!1);if(An=!1,c&&!i.disabled&&(u?d||(t=Tt!==yt):$t===this||(this.lastPutMode=dn.checkPull(this,c,B,n))&&s.checkPut(this,c,B,n))){if(h=this._getDirection(n,a)==="vertical",o=bt(B),b("dragOverValid"),Y.eventCanceled)return v;if(t)return Tt=yt,y(),this._hideClone(),b("revert"),Y.eventCanceled||(Se?yt.insertBefore(B,Se):yt.appendChild(B)),x(!0);var m=sr(r,i.draggable);if(!m||Os(n,h,this)&&!m.animated){if(m===B)return x(!1);if(m&&r===n.target&&(a=m),a&&(l=bt(a)),pn(yt,r,B,o,a,l,n,!!a)!==!1)return y(),r.appendChild(B),Tt=r,g(),x(!0)}else if(m&&Cs(n,h,this)){var S=$e(r,0,i,!0);if(S===B)return x(!1);if(a=S,l=bt(a),pn(yt,r,B,o,a,l,n,!1)!==!1)return y(),r.insertBefore(B,S),Tt=r,g(),x(!0)}else if(a.parentNode===r){l=bt(a);var w=0,M,$=B.parentNode!==r,A=!xs(B.animated&&B.toRect||o,a.animated&&a.toRect||l,h),E=h?"top":"left",D=gr(a,"top","top")||gr(B,"top","top"),N=D?D.scrollTop:void 0;Oe!==a&&(M=l[E],en=!1,fn=!A&&i.invertSwap||$),w=Is(n,a,l,h,A?1:i.swapThreshold,i.invertedSwapThreshold==null?i.swapThreshold:i.invertedSwapThreshold,fn,Oe===a);var P;if(w!==0){var R=Ot(B);do R-=w,P=Tt.children[R];while(P&&(G(P,"display")==="none"||P===et))}if(w===0||P===a)return x(!1);Oe=a,tn=w;var U=a.nextElementSibling,F=!1;F=w===1;var H=pn(yt,r,B,o,a,l,n,F);if(H!==!1)return(H===1||H===-1)&&(F=H===1),tr=!0,setTimeout(Ts,30),y(),F&&!U?r.appendChild(B):a.parentNode.insertBefore(B,F?U:a),D&&Yr(D,0,N-D.scrollTop),Tt=B.parentNode,M!==void 0&&!fn&&(xn=Math.abs(M-bt(a)[E])),g(),x(!0)}if(r.contains(B))return x(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){at(document,"mousemove",this._onTouchMove),at(document,"touchmove",this._onTouchMove),at(document,"pointermove",this._onTouchMove),at(document,"dragover",be),at(document,"mousemove",be),at(document,"touchmove",be)},_offUpEvents:function(){var n=this.el.ownerDocument;at(n,"mouseup",this._onDrop),at(n,"touchend",this._onDrop),at(n,"pointerup",this._onDrop),at(n,"touchcancel",this._onDrop),at(document,"selectstart",this)},_onDrop:function(n){var r=this.el,a=this.options;if(Xt=Ot(B),fe=Ot(B,a.draggable),Wt("drop",this,{evt:n}),Tt=B&&B.parentNode,Xt=Ot(B),fe=Ot(B,a.draggable),Y.eventCanceled){this._nulling();return}Pe=!1,fn=!1,en=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),er(this.cloneId),er(this._dragStartId),this.nativeDraggable&&(at(document,"drop",this),at(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),ke&&G(document.body,"user-select",""),G(B,"transform",""),n&&(Xe&&(n.cancelable&&n.preventDefault(),!a.dropBubble&&n.stopPropagation()),et&&et.parentNode&&et.parentNode.removeChild(et),(yt===Tt||$t&&$t.lastPutMode!=="clone")&&Ct&&Ct.parentNode&&Ct.parentNode.removeChild(Ct),B&&(this.nativeDraggable&&at(B,"dragend",this),Kn(B),B.style["will-change"]="",Xe&&!Pe&&Et(B,$t?$t.options.ghostClass:this.options.ghostClass,!1),Et(B,this.options.chosenClass,!1),Ht({sortable:this,name:"unchoose",toEl:Tt,newIndex:null,newDraggableIndex:null,originalEvent:n}),yt!==Tt?(Xt>=0&&(Ht({rootEl:Tt,name:"add",toEl:Tt,fromEl:yt,originalEvent:n}),Ht({sortable:this,name:"remove",toEl:Tt,originalEvent:n}),Ht({rootEl:Tt,name:"sort",toEl:Tt,fromEl:yt,originalEvent:n}),Ht({sortable:this,name:"sort",toEl:Tt,originalEvent:n})),$t&&$t.save()):Xt!==Re&&Xt>=0&&(Ht({sortable:this,name:"update",toEl:Tt,originalEvent:n}),Ht({sortable:this,name:"sort",toEl:Tt,originalEvent:n})),Y.active&&((Xt==null||Xt===-1)&&(Xt=Re,fe=_e),Ht({sortable:this,name:"end",toEl:Tt,originalEvent:n}),this.save()))),this._nulling()},_nulling:function(){Wt("nulling",this),yt=B=Tt=et=Se=Ct=bn=pe=ye=kt=Xe=Xt=fe=Re=_e=Oe=tn=$t=dn=Y.dragged=Y.ghost=Y.clone=Y.active=null,Dn.forEach(function(n){n.checked=!0}),Dn.length=Gn=Vn=0},handleEvent:function(n){switch(n.type){case"drop":case"dragend":this._onDrop(n);break;case"dragenter":case"dragover":B&&(this._onDragOver(n),ws(n));break;case"selectstart":n.preventDefault();break}},toArray:function(){for(var n=[],r,a=this.el.children,o=0,l=a.length,t=this.options;o<l;o++)r=a[o],_t(r,t.draggable,this.el,!1)&&n.push(r.getAttribute(t.dataIdAttr)||Ps(r));return n},sort:function(n,r){var a={},o=this.el;this.toArray().forEach(function(l,t){var i=o.children[t];_t(i,this.options.draggable,o,!1)&&(a[l]=i)},this),r&&this.captureAnimationState(),n.forEach(function(l){a[l]&&(o.removeChild(a[l]),o.appendChild(a[l]))}),r&&this.animateAll()},save:function(){var n=this.options.store;n&&n.set&&n.set(this)},closest:function(n,r){return _t(n,r||this.options.draggable,this.el,!1)},option:function(n,r){var a=this.options;if(r===void 0)return a[n];var o=an.modifyOption(this,n,r);typeof o<"u"?a[n]=o:a[n]=r,n==="group"&&Qr(a)},destroy:function(){Wt("destroy",this);var n=this.el;n[jt]=null,at(n,"mousedown",this._onTapStart),at(n,"touchstart",this._onTapStart),at(n,"pointerdown",this._onTapStart),this.nativeDraggable&&(at(n,"dragover",this),at(n,"dragenter",this)),Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Pn.splice(Pn.indexOf(this.el),1),this.el=n=null},_hideClone:function(){if(!pe){if(Wt("hideClone",this),Y.eventCanceled)return;G(Ct,"display","none"),this.options.removeCloneOnHide&&Ct.parentNode&&Ct.parentNode.removeChild(Ct),pe=!0}},_showClone:function(n){if(n.lastPutMode!=="clone"){this._hideClone();return}if(pe){if(Wt("showClone",this),Y.eventCanceled)return;B.parentNode==yt&&!this.options.group.revertClone?yt.insertBefore(Ct,B):Se?yt.insertBefore(Ct,Se):yt.appendChild(Ct),this.options.group.revertClone&&this.animate(B,Ct),G(Ct,"display",""),pe=!1}}};function ws(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function pn(e,n,r,a,o,l,t,i){var s,c=e[jt],u=c.options.onMove,d;return window.CustomEvent&&!ue&&!on?s=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(s=document.createEvent("Event"),s.initEvent("move",!0,!0)),s.to=n,s.from=e,s.dragged=r,s.draggedRect=a,s.related=o||n,s.relatedRect=l||bt(n),s.willInsertAfter=i,s.originalEvent=t,e.dispatchEvent(s),u&&(d=u.call(c,s,t)),d}function Kn(e){e.draggable=!1}function Ts(){tr=!1}function Cs(e,n,r){var a=bt($e(r.el,0,r.options,!0)),o=10;return n?e.clientX<a.left-o||e.clientY<a.top&&e.clientX<a.right:e.clientY<a.top-o||e.clientY<a.bottom&&e.clientX<a.left}function Os(e,n,r){var a=bt(sr(r.el,r.options.draggable)),o=10;return n?e.clientX>a.right+o||e.clientX<=a.right&&e.clientY>a.bottom&&e.clientX>=a.left:e.clientX>a.right&&e.clientY>a.top||e.clientX<=a.right&&e.clientY>a.bottom+o}function Is(e,n,r,a,o,l,t,i){var s=a?e.clientY:e.clientX,c=a?r.height:r.width,u=a?r.top:r.left,d=a?r.bottom:r.right,f=!1;if(!t){if(i&&xn<c*o){if(!en&&(tn===1?s>u+c*l/2:s<d-c*l/2)&&(en=!0),en)f=!0;else if(tn===1?s<u+xn:s>d-xn)return-tn}else if(s>u+c*(1-o)/2&&s<d-c*(1-o)/2)return As(n)}return f=f||t,f&&(s<u+c*l/2||s>d-c*l/2)?s>u+c/2?1:-1:0}function As(e){return Ot(B)<Ot(e)?1:-1}function Ps(e){for(var n=e.tagName+e.className+e.src+e.href+e.textContent,r=n.length,a=0;r--;)a+=n.charCodeAt(r);return a.toString(36)}function Ds(e){Dn.length=0;for(var n=e.getElementsByTagName("input"),r=n.length;r--;){var a=n[r];a.checked&&Dn.push(a)}}function Sn(e){return setTimeout(e,0)}function er(e){return clearTimeout(e)}jn&&it(document,"touchmove",function(e){(Y.active||Pe)&&e.cancelable&&e.preventDefault()});Y.utils={on:it,off:at,css:G,find:Xr,is:function(n,r){return!!_t(n,r,n,!1)},extend:hs,throttle:Kr,closest:_t,toggleClass:Et,clone:lr,index:Ot,nextTick:Sn,cancelNextTick:er,detectDirection:Zr,getChild:$e};Y.get=function(e){return e[jt]};Y.mount=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n[0].constructor===Array&&(n=n[0]),n.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(Y.utils=re(re({},Y.utils),a.utils)),an.mount(a)})};Y.create=function(e,n){return new Y(e,n)};Y.version=cs;var Pt=[],Ke,nr,rr=!1,Yn,Jn,Rn,Ye;function Rs(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this))}return e.prototype={dragStarted:function(r){var a=r.originalEvent;this.sortable.nativeDraggable?it(document,"dragover",this._handleAutoScroll):this.options.supportPointer?it(document,"pointermove",this._handleFallbackAutoScroll):a.touches?it(document,"touchmove",this._handleFallbackAutoScroll):it(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var a=r.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?at(document,"dragover",this._handleAutoScroll):(at(document,"pointermove",this._handleFallbackAutoScroll),at(document,"touchmove",this._handleFallbackAutoScroll),at(document,"mousemove",this._handleFallbackAutoScroll)),Sr(),En(),ps()},nulling:function(){Rn=nr=Ke=rr=Ye=Yn=Jn=null,Pt.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,a){var o=this,l=(r.touches?r.touches[0]:r).clientX,t=(r.touches?r.touches[0]:r).clientY,i=document.elementFromPoint(l,t);if(Rn=r,a||this.options.forceAutoScrollFallback||on||ue||ke){Zn(r,this.options,i,a);var s=ve(i,!0);rr&&(!Ye||l!==Yn||t!==Jn)&&(Ye&&Sr(),Ye=setInterval(function(){var c=ve(document.elementFromPoint(l,t),!0);c!==s&&(s=c,En()),Zn(r,o.options,c,a)},10),Yn=l,Jn=t)}else{if(!this.options.bubbleScroll||ve(i,!0)===ne()){En();return}Zn(r,this.options,ve(i,!1),!1)}}},Zt(e,{pluginName:"scroll",initializeByDefault:!0})}function En(){Pt.forEach(function(e){clearInterval(e.pid)}),Pt=[]}function Sr(){clearInterval(Ye)}var Zn=Kr(function(e,n,r,a){if(n.scroll){var o=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,t=n.scrollSensitivity,i=n.scrollSpeed,s=ne(),c=!1,u;nr!==r&&(nr=r,En(),Ke=n.scroll,u=n.scrollFn,Ke===!0&&(Ke=ve(r,!0)));var d=0,f=Ke;do{var h=f,p=bt(h),v=p.top,b=p.bottom,y=p.left,x=p.right,g=p.width,m=p.height,S=void 0,w=void 0,M=h.scrollWidth,$=h.scrollHeight,A=G(h),E=h.scrollLeft,D=h.scrollTop;h===s?(S=g<M&&(A.overflowX==="auto"||A.overflowX==="scroll"||A.overflowX==="visible"),w=m<$&&(A.overflowY==="auto"||A.overflowY==="scroll"||A.overflowY==="visible")):(S=g<M&&(A.overflowX==="auto"||A.overflowX==="scroll"),w=m<$&&(A.overflowY==="auto"||A.overflowY==="scroll"));var N=S&&(Math.abs(x-o)<=t&&E+g<M)-(Math.abs(y-o)<=t&&!!E),P=w&&(Math.abs(b-l)<=t&&D+m<$)-(Math.abs(v-l)<=t&&!!D);if(!Pt[d])for(var R=0;R<=d;R++)Pt[R]||(Pt[R]={});(Pt[d].vx!=N||Pt[d].vy!=P||Pt[d].el!==h)&&(Pt[d].el=h,Pt[d].vx=N,Pt[d].vy=P,clearInterval(Pt[d].pid),(N!=0||P!=0)&&(c=!0,Pt[d].pid=setInterval((function(){a&&this.layer===0&&Y.active._onTouchMove(Rn);var U=Pt[this.layer].vy?Pt[this.layer].vy*i:0,F=Pt[this.layer].vx?Pt[this.layer].vx*i:0;typeof u=="function"&&u.call(Y.dragged.parentNode[jt],F,U,e,Rn,Pt[this.layer].el)!=="continue"||Yr(Pt[this.layer].el,F,U)}).bind({layer:d}),24))),d++}while(n.bubbleScroll&&f!==s&&(f=ve(f,!1)));rr=c}},30),_r=function(n){var r=n.originalEvent,a=n.putSortable,o=n.dragEl,l=n.activeSortable,t=n.dispatchSortableEvent,i=n.hideGhostForTarget,s=n.unhideGhostForTarget;if(r){var c=a||l;i();var u=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,d=document.elementFromPoint(u.clientX,u.clientY);s(),c&&!c.el.contains(d)&&(t("spill"),this.onSpill({dragEl:o,putSortable:a}))}};function cr(){}cr.prototype={startIndex:null,dragStart:function(n){var r=n.oldDraggableIndex;this.startIndex=r},onSpill:function(n){var r=n.dragEl,a=n.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=$e(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(r,o):this.sortable.el.appendChild(r),this.sortable.animateAll(),a&&a.animateAll()},drop:_r};Zt(cr,{pluginName:"revertOnSpill"});function ur(){}ur.prototype={onSpill:function(n){var r=n.dragEl,a=n.putSortable,o=a||this.sortable;o.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),o.animateAll()},drop:_r};Zt(ur,{pluginName:"removeOnSpill"});var Yt;function $s(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(r){var a=r.dragEl;Yt=a},dragOverValid:function(r){var a=r.completed,o=r.target,l=r.onMove,t=r.activeSortable,i=r.changed,s=r.cancel;if(t.options.swap){var c=this.sortable.el,u=this.options;if(o&&o!==c){var d=Yt;l(o)!==!1?(Et(o,u.swapClass,!0),Yt=o):Yt=null,d&&d!==Yt&&Et(d,u.swapClass,!1)}i(),a(!0),s()}},drop:function(r){var a=r.activeSortable,o=r.putSortable,l=r.dragEl,t=o||this.sortable,i=this.options;Yt&&Et(Yt,i.swapClass,!1),Yt&&(i.swap||o&&o.options.swap)&&l!==Yt&&(t.captureAnimationState(),t!==a&&a.captureAnimationState(),Ms(l,Yt),t.animateAll(),t!==a&&a.animateAll())},nulling:function(){Yt=null}},Zt(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Yt}}})}function Ms(e,n){var r=e.parentNode,a=n.parentNode,o,l;!r||!a||r.isEqualNode(n)||a.isEqualNode(e)||(o=Ot(e),l=Ot(n),r.isEqualNode(a)&&o<l&&l++,r.insertBefore(n,r.children[o]),a.insertBefore(e,a.children[l]))}var _=[],Vt=[],ze,qt,Ue=!1,Gt=!1,Ie=!1,vt,We,gn;function Ns(){function e(n){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));n.options.supportPointer?it(document,"pointerup",this._deselectMultiDrag):(it(document,"mouseup",this._deselectMultiDrag),it(document,"touchend",this._deselectMultiDrag)),it(document,"keydown",this._checkKeyDown),it(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(o,l){var t="";_.length&&qt===n?_.forEach(function(i,s){t+=(s?", ":"")+i.textContent}):t=l.textContent,o.setData("Text",t)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var a=r.dragEl;vt=a},delayEnded:function(){this.isMultiDrag=~_.indexOf(vt)},setupClone:function(r){var a=r.sortable,o=r.cancel;if(this.isMultiDrag){for(var l=0;l<_.length;l++)Vt.push(lr(_[l])),Vt[l].sortableIndex=_[l].sortableIndex,Vt[l].draggable=!1,Vt[l].style["will-change"]="",Et(Vt[l],this.options.selectedClass,!1),_[l]===vt&&Et(Vt[l],this.options.chosenClass,!1);a._hideClone(),o()}},clone:function(r){var a=r.sortable,o=r.rootEl,l=r.dispatchSortableEvent,t=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||_.length&&qt===a&&(Er(!0,o),l("clone"),t()))},showClone:function(r){var a=r.cloneNowShown,o=r.rootEl,l=r.cancel;this.isMultiDrag&&(Er(!1,o),Vt.forEach(function(t){G(t,"display","")}),a(),gn=!1,l())},hideClone:function(r){var a=this;r.sortable;var o=r.cloneNowHidden,l=r.cancel;this.isMultiDrag&&(Vt.forEach(function(t){G(t,"display","none"),a.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),o(),gn=!0,l())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&qt&&qt.multiDrag._deselectMultiDrag(),_.forEach(function(a){a.sortableIndex=Ot(a)}),_=_.sort(function(a,o){return a.sortableIndex-o.sortableIndex}),Ie=!0},dragStarted:function(r){var a=this,o=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(o.captureAnimationState(),this.options.animation)){_.forEach(function(t){t!==vt&&G(t,"position","absolute")});var l=bt(vt,!1,!0,!0);_.forEach(function(t){t!==vt&&mr(t,l)}),Gt=!0,Ue=!0}o.animateAll(function(){Gt=!1,Ue=!1,a.options.animation&&_.forEach(function(t){Un(t)}),a.options.sort&&vn()})}},dragOver:function(r){var a=r.target,o=r.completed,l=r.cancel;Gt&&~_.indexOf(a)&&(o(!1),l())},revert:function(r){var a=r.fromSortable,o=r.rootEl,l=r.sortable,t=r.dragRect;_.length>1&&(_.forEach(function(i){l.addAnimationState({target:i,rect:Gt?bt(i):t}),Un(i),i.fromRect=t,a.removeAnimationState(i)}),Gt=!1,Ls(!this.options.removeCloneOnHide,o))},dragOverCompleted:function(r){var a=r.sortable,o=r.isOwner,l=r.insertion,t=r.activeSortable,i=r.parentEl,s=r.putSortable,c=this.options;if(l){if(o&&t._hideClone(),Ue=!1,c.animation&&_.length>1&&(Gt||!o&&!t.options.sort&&!s)){var u=bt(vt,!1,!0,!0);_.forEach(function(f){f!==vt&&(mr(f,u),i.appendChild(f))}),Gt=!0}if(!o)if(Gt||vn(),_.length>1){var d=gn;t._showClone(a),t.options.animation&&!gn&&d&&Vt.forEach(function(f){t.addAnimationState({target:f,rect:We}),f.fromRect=We,f.thisAnimationDuration=null})}else t._showClone(a)}},dragOverAnimationCapture:function(r){var a=r.dragRect,o=r.isOwner,l=r.activeSortable;if(_.forEach(function(i){i.thisAnimationDuration=null}),l.options.animation&&!o&&l.multiDrag.isMultiDrag){We=Zt({},a);var t=we(vt,!0);We.top-=t.f,We.left-=t.e}},dragOverAnimationComplete:function(){Gt&&(Gt=!1,vn())},drop:function(r){var a=r.originalEvent,o=r.rootEl,l=r.parentEl,t=r.sortable,i=r.dispatchSortableEvent,s=r.oldIndex,c=r.putSortable,u=c||this.sortable;if(a){var d=this.options,f=l.children;if(!Ie)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),Et(vt,d.selectedClass,!~_.indexOf(vt)),~_.indexOf(vt))_.splice(_.indexOf(vt),1),ze=null,Ve({sortable:t,rootEl:o,name:"deselect",targetEl:vt,originalEvt:a});else{if(_.push(vt),Ve({sortable:t,rootEl:o,name:"select",targetEl:vt,originalEvt:a}),a.shiftKey&&ze&&t.el.contains(ze)){var h=Ot(ze),p=Ot(vt);if(~h&&~p&&h!==p){var v,b;for(p>h?(b=h,v=p):(b=p,v=h+1);b<v;b++)~_.indexOf(f[b])||(Et(f[b],d.selectedClass,!0),_.push(f[b]),Ve({sortable:t,rootEl:o,name:"select",targetEl:f[b],originalEvt:a}))}}else ze=vt;qt=u}if(Ie&&this.isMultiDrag){if(Gt=!1,(l[jt].options.sort||l!==o)&&_.length>1){var y=bt(vt),x=Ot(vt,":not(."+this.options.selectedClass+")");if(!Ue&&d.animation&&(vt.thisAnimationDuration=null),u.captureAnimationState(),!Ue&&(d.animation&&(vt.fromRect=y,_.forEach(function(m){if(m.thisAnimationDuration=null,m!==vt){var S=Gt?bt(m):y;m.fromRect=S,u.addAnimationState({target:m,rect:S})}})),vn(),_.forEach(function(m){f[x]?l.insertBefore(m,f[x]):l.appendChild(m),x++}),s===Ot(vt))){var g=!1;_.forEach(function(m){if(m.sortableIndex!==Ot(m)){g=!0;return}}),g&&i("update")}_.forEach(function(m){Un(m)}),u.animateAll()}qt=u}(o===l||c&&c.lastPutMode!=="clone")&&Vt.forEach(function(m){m.parentNode&&m.parentNode.removeChild(m)})}},nullingGlobal:function(){this.isMultiDrag=Ie=!1,Vt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),at(document,"pointerup",this._deselectMultiDrag),at(document,"mouseup",this._deselectMultiDrag),at(document,"touchend",this._deselectMultiDrag),at(document,"keydown",this._checkKeyDown),at(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof Ie<"u"&&Ie)&&qt===this.sortable&&!(r&&_t(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;_.length;){var a=_[0];Et(a,this.options.selectedClass,!1),_.shift(),Ve({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:a,originalEvt:r})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Zt(e,{pluginName:"multiDrag",utils:{select:function(r){var a=r.parentNode[jt];!a||!a.options.multiDrag||~_.indexOf(r)||(qt&&qt!==a&&(qt.multiDrag._deselectMultiDrag(),qt=a),Et(r,a.options.selectedClass,!0),_.push(r))},deselect:function(r){var a=r.parentNode[jt],o=_.indexOf(r);!a||!a.options.multiDrag||!~o||(Et(r,a.options.selectedClass,!1),_.splice(o,1))}},eventProperties:function(){var r=this,a=[],o=[];return _.forEach(function(l){a.push({multiDragElement:l,index:l.sortableIndex});var t;Gt&&l!==vt?t=-1:Gt?t=Ot(l,":not(."+r.options.selectedClass+")"):t=Ot(l),o.push({multiDragElement:l,index:t})}),{items:os(_),clones:[].concat(Vt),oldIndicies:a,newIndicies:o}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function Ls(e,n){_.forEach(function(r,a){var o=n.children[r.sortableIndex+(e?Number(a):0)];o?n.insertBefore(r,o):n.appendChild(r)})}function Er(e,n){Vt.forEach(function(r,a){var o=n.children[r.sortableIndex+(e?Number(a):0)];o?n.insertBefore(r,o):n.appendChild(r)})}function vn(){_.forEach(function(e){e!==vt&&e.parentNode&&e.parentNode.removeChild(e)})}Y.mount(new Rs);Y.mount(ur,cr);const Fs=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Ns,Sortable:Y,Swap:$s,default:Y},Symbol.toStringTag,{value:"Module"})),js=Hr(Fs);(function(e,n){(function(a,o){e.exports=o(ts,js)})(typeof self<"u"?self:Ci,function(r,a){return function(o){var l={};function t(i){if(l[i])return l[i].exports;var s=l[i]={i,l:!1,exports:{}};return o[i].call(s.exports,s,s.exports,t),s.l=!0,s.exports}return t.m=o,t.c=l,t.d=function(i,s,c){t.o(i,s)||Object.defineProperty(i,s,{enumerable:!0,get:c})},t.r=function(i){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(i,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(i,"__esModule",{value:!0})},t.t=function(i,s){if(s&1&&(i=t(i)),s&8||s&4&&typeof i=="object"&&i&&i.__esModule)return i;var c=Object.create(null);if(t.r(c),Object.defineProperty(c,"default",{enumerable:!0,value:i}),s&2&&typeof i!="string")for(var u in i)t.d(c,u,(function(d){return i[d]}).bind(null,u));return c},t.n=function(i){var s=i&&i.__esModule?function(){return i.default}:function(){return i};return t.d(s,"a",s),s},t.o=function(i,s){return Object.prototype.hasOwnProperty.call(i,s)},t.p="",t(t.s="fb15")}({"00ee":function(o,l,t){var i=t("b622"),s=i("toStringTag"),c={};c[s]="z",o.exports=String(c)==="[object z]"},"0366":function(o,l,t){var i=t("1c0b");o.exports=function(s,c,u){if(i(s),c===void 0)return s;switch(u){case 0:return function(){return s.call(c)};case 1:return function(d){return s.call(c,d)};case 2:return function(d,f){return s.call(c,d,f)};case 3:return function(d,f,h){return s.call(c,d,f,h)}}return function(){return s.apply(c,arguments)}}},"057f":function(o,l,t){var i=t("fc6a"),s=t("241c").f,c={}.toString,u=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(f){try{return s(f)}catch{return u.slice()}};o.exports.f=function(h){return u&&c.call(h)=="[object Window]"?d(h):s(i(h))}},"06cf":function(o,l,t){var i=t("83ab"),s=t("d1e7"),c=t("5c6c"),u=t("fc6a"),d=t("c04e"),f=t("5135"),h=t("0cfb"),p=Object.getOwnPropertyDescriptor;l.f=i?p:function(b,y){if(b=u(b),y=d(y,!0),h)try{return p(b,y)}catch{}if(f(b,y))return c(!s.f.call(b,y),b[y])}},"0cfb":function(o,l,t){var i=t("83ab"),s=t("d039"),c=t("cc12");o.exports=!i&&!s(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(o,l,t){var i=t("23e7"),s=t("d58f").left,c=t("a640"),u=t("ae40"),d=c("reduce"),f=u("reduce",{1:0});i({target:"Array",proto:!0,forced:!d||!f},{reduce:function(p){return s(this,p,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(o,l,t){var i=t("c6b6"),s=t("9263");o.exports=function(c,u){var d=c.exec;if(typeof d=="function"){var f=d.call(c,u);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(i(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return s.call(c,u)}},"159b":function(o,l,t){var i=t("da84"),s=t("fdbc"),c=t("17c2"),u=t("9112");for(var d in s){var f=i[d],h=f&&f.prototype;if(h&&h.forEach!==c)try{u(h,"forEach",c)}catch{h.forEach=c}}},"17c2":function(o,l,t){var i=t("b727").forEach,s=t("a640"),c=t("ae40"),u=s("forEach"),d=c("forEach");o.exports=!u||!d?function(h){return i(this,h,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(o,l,t){var i=t("d066");o.exports=i("document","documentElement")},"1c0b":function(o,l){o.exports=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(o,l,t){var i=t("b622"),s=i("iterator"),c=!1;try{var u=0,d={next:function(){return{done:!!u++}},return:function(){c=!0}};d[s]=function(){return this},Array.from(d,function(){throw 2})}catch{}o.exports=function(f,h){if(!h&&!c)return!1;var p=!1;try{var v={};v[s]=function(){return{next:function(){return{done:p=!0}}}},f(v)}catch{}return p}},"1d80":function(o,l){o.exports=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t}},"1dde":function(o,l,t){var i=t("d039"),s=t("b622"),c=t("2d00"),u=s("species");o.exports=function(d){return c>=51||!i(function(){var f=[],h=f.constructor={};return h[u]=function(){return{foo:1}},f[d](Boolean).foo!==1})}},"23cb":function(o,l,t){var i=t("a691"),s=Math.max,c=Math.min;o.exports=function(u,d){var f=i(u);return f<0?s(f+d,0):c(f,d)}},"23e7":function(o,l,t){var i=t("da84"),s=t("06cf").f,c=t("9112"),u=t("6eeb"),d=t("ce4e"),f=t("e893"),h=t("94ca");o.exports=function(p,v){var b=p.target,y=p.global,x=p.stat,g,m,S,w,M,$;if(y?m=i:x?m=i[b]||d(b,{}):m=(i[b]||{}).prototype,m)for(S in v){if(M=v[S],p.noTargetGet?($=s(m,S),w=$&&$.value):w=m[S],g=h(y?S:b+(x?".":"#")+S,p.forced),!g&&w!==void 0){if(typeof M==typeof w)continue;f(M,w)}(p.sham||w&&w.sham)&&c(M,"sham",!0),u(m,S,M,p)}}},"241c":function(o,l,t){var i=t("ca84"),s=t("7839"),c=s.concat("length","prototype");l.f=Object.getOwnPropertyNames||function(d){return i(d,c)}},"25f0":function(o,l,t){var i=t("6eeb"),s=t("825a"),c=t("d039"),u=t("ad6d"),d="toString",f=RegExp.prototype,h=f[d],p=c(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),v=h.name!=d;(p||v)&&i(RegExp.prototype,d,function(){var y=s(this),x=String(y.source),g=y.flags,m=String(g===void 0&&y instanceof RegExp&&!("flags"in f)?u.call(y):g);return"/"+x+"/"+m},{unsafe:!0})},"2ca0":function(o,l,t){var i=t("23e7"),s=t("06cf").f,c=t("50c4"),u=t("5a34"),d=t("1d80"),f=t("ab13"),h=t("c430"),p="".startsWith,v=Math.min,b=f("startsWith"),y=!h&&!b&&!!function(){var x=s(String.prototype,"startsWith");return x&&!x.writable}();i({target:"String",proto:!0,forced:!y&&!b},{startsWith:function(g){var m=String(d(this));u(g);var S=c(v(arguments.length>1?arguments[1]:void 0,m.length)),w=String(g);return p?p.call(m,w,S):m.slice(S,S+w.length)===w}})},"2d00":function(o,l,t){var i=t("da84"),s=t("342f"),c=i.process,u=c&&c.versions,d=u&&u.v8,f,h;d?(f=d.split("."),h=f[0]+f[1]):s&&(f=s.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=s.match(/Chrome\/(\d+)/),f&&(h=f[1]))),o.exports=h&&+h},"342f":function(o,l,t){var i=t("d066");o.exports=i("navigator","userAgent")||""},"35a1":function(o,l,t){var i=t("f5df"),s=t("3f8c"),c=t("b622"),u=c("iterator");o.exports=function(d){if(d!=null)return d[u]||d["@@iterator"]||s[i(d)]}},"37e8":function(o,l,t){var i=t("83ab"),s=t("9bf2"),c=t("825a"),u=t("df75");o.exports=i?Object.defineProperties:function(f,h){c(f);for(var p=u(h),v=p.length,b=0,y;v>b;)s.f(f,y=p[b++],h[y]);return f}},"3bbe":function(o,l,t){var i=t("861d");o.exports=function(s){if(!i(s)&&s!==null)throw TypeError("Can't set "+String(s)+" as a prototype");return s}},"3ca3":function(o,l,t){var i=t("6547").charAt,s=t("69f3"),c=t("7dd0"),u="String Iterator",d=s.set,f=s.getterFor(u);c(String,"String",function(h){d(this,{type:u,string:String(h),index:0})},function(){var p=f(this),v=p.string,b=p.index,y;return b>=v.length?{value:void 0,done:!0}:(y=i(v,b),p.index+=y.length,{value:y,done:!1})})},"3f8c":function(o,l){o.exports={}},4160:function(o,l,t){var i=t("23e7"),s=t("17c2");i({target:"Array",proto:!0,forced:[].forEach!=s},{forEach:s})},"428f":function(o,l,t){var i=t("da84");o.exports=i},"44ad":function(o,l,t){var i=t("d039"),s=t("c6b6"),c="".split;o.exports=i(function(){return!Object("z").propertyIsEnumerable(0)})?function(u){return s(u)=="String"?c.call(u,""):Object(u)}:Object},"44d2":function(o,l,t){var i=t("b622"),s=t("7c73"),c=t("9bf2"),u=i("unscopables"),d=Array.prototype;d[u]==null&&c.f(d,u,{configurable:!0,value:s(null)}),o.exports=function(f){d[u][f]=!0}},"44e7":function(o,l,t){var i=t("861d"),s=t("c6b6"),c=t("b622"),u=c("match");o.exports=function(d){var f;return i(d)&&((f=d[u])!==void 0?!!f:s(d)=="RegExp")}},4930:function(o,l,t){var i=t("d039");o.exports=!!Object.getOwnPropertySymbols&&!i(function(){return!String(Symbol())})},"4d64":function(o,l,t){var i=t("fc6a"),s=t("50c4"),c=t("23cb"),u=function(d){return function(f,h,p){var v=i(f),b=s(v.length),y=c(p,b),x;if(d&&h!=h){for(;b>y;)if(x=v[y++],x!=x)return!0}else for(;b>y;y++)if((d||y in v)&&v[y]===h)return d||y||0;return!d&&-1}};o.exports={includes:u(!0),indexOf:u(!1)}},"4de4":function(o,l,t){var i=t("23e7"),s=t("b727").filter,c=t("1dde"),u=t("ae40"),d=c("filter"),f=u("filter");i({target:"Array",proto:!0,forced:!d||!f},{filter:function(p){return s(this,p,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(o,l,t){var i=t("0366"),s=t("7b0b"),c=t("9bdd"),u=t("e95a"),d=t("50c4"),f=t("8418"),h=t("35a1");o.exports=function(v){var b=s(v),y=typeof this=="function"?this:Array,x=arguments.length,g=x>1?arguments[1]:void 0,m=g!==void 0,S=h(b),w=0,M,$,A,E,D,N;if(m&&(g=i(g,x>2?arguments[2]:void 0,2)),S!=null&&!(y==Array&&u(S)))for(E=S.call(b),D=E.next,$=new y;!(A=D.call(E)).done;w++)N=m?c(E,g,[A.value,w],!0):A.value,f($,w,N);else for(M=d(b.length),$=new y(M);M>w;w++)N=m?g(b[w],w):b[w],f($,w,N);return $.length=w,$}},"4fad":function(o,l,t){var i=t("23e7"),s=t("6f53").entries;i({target:"Object",stat:!0},{entries:function(u){return s(u)}})},"50c4":function(o,l,t){var i=t("a691"),s=Math.min;o.exports=function(c){return c>0?s(i(c),9007199254740991):0}},5135:function(o,l){var t={}.hasOwnProperty;o.exports=function(i,s){return t.call(i,s)}},5319:function(o,l,t){var i=t("d784"),s=t("825a"),c=t("7b0b"),u=t("50c4"),d=t("a691"),f=t("1d80"),h=t("8aa5"),p=t("14c3"),v=Math.max,b=Math.min,y=Math.floor,x=/\$([$&'`]|\d\d?|<[^>]*>)/g,g=/\$([$&'`]|\d\d?)/g,m=function(S){return S===void 0?S:String(S)};i("replace",2,function(S,w,M,$){var A=$.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=$.REPLACE_KEEPS_$0,D=A?"$":"$0";return[function(R,U){var F=f(this),H=R==null?void 0:R[S];return H!==void 0?H.call(R,F,U):w.call(String(F),R,U)},function(P,R){if(!A&&E||typeof R=="string"&&R.indexOf(D)===-1){var U=M(w,P,this,R);if(U.done)return U.value}var F=s(P),H=String(this),J=typeof R=="function";J||(R=String(R));var rt=F.global;if(rt){var ft=F.unicode;F.lastIndex=0}for(var ut=[];;){var pt=p(F,H);if(pt===null||(ut.push(pt),!rt))break;var mt=String(pt[0]);mt===""&&(F.lastIndex=h(H,u(F.lastIndex),ft))}for(var It="",wt=0,dt=0;dt<ut.length;dt++){pt=ut[dt];for(var j=String(pt[0]),V=v(b(d(pt.index),H.length),0),z=[],ht=1;ht<pt.length;ht++)z.push(m(pt[ht]));var Mt=pt.groups;if(J){var St=[j].concat(z,V,H);Mt!==void 0&&St.push(Mt);var Dt=String(R.apply(void 0,St))}else Dt=N(j,H,V,z,Mt,R);V>=wt&&(It+=H.slice(wt,V)+Dt,wt=V+j.length)}return It+H.slice(wt)}];function N(P,R,U,F,H,J){var rt=U+P.length,ft=F.length,ut=g;return H!==void 0&&(H=c(H),ut=x),w.call(J,ut,function(pt,mt){var It;switch(mt.charAt(0)){case"$":return"$";case"&":return P;case"`":return R.slice(0,U);case"'":return R.slice(rt);case"<":It=H[mt.slice(1,-1)];break;default:var wt=+mt;if(wt===0)return pt;if(wt>ft){var dt=y(wt/10);return dt===0?pt:dt<=ft?F[dt-1]===void 0?mt.charAt(1):F[dt-1]+mt.charAt(1):pt}It=F[wt-1]}return It===void 0?"":It})}})},5692:function(o,l,t){var i=t("c430"),s=t("c6cd");(o.exports=function(c,u){return s[c]||(s[c]=u!==void 0?u:{})})("versions",[]).push({version:"3.6.5",mode:i?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(o,l,t){var i=t("d066"),s=t("241c"),c=t("7418"),u=t("825a");o.exports=i("Reflect","ownKeys")||function(f){var h=s.f(u(f)),p=c.f;return p?h.concat(p(f)):h}},"5a34":function(o,l,t){var i=t("44e7");o.exports=function(s){if(i(s))throw TypeError("The method doesn't accept regular expressions");return s}},"5c6c":function(o,l){o.exports=function(t,i){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:i}}},"5db7":function(o,l,t){var i=t("23e7"),s=t("a2bf"),c=t("7b0b"),u=t("50c4"),d=t("1c0b"),f=t("65f0");i({target:"Array",proto:!0},{flatMap:function(p){var v=c(this),b=u(v.length),y;return d(p),y=f(v,0),y.length=s(y,v,v,b,0,1,p,arguments.length>1?arguments[1]:void 0),y}})},6547:function(o,l,t){var i=t("a691"),s=t("1d80"),c=function(u){return function(d,f){var h=String(s(d)),p=i(f),v=h.length,b,y;return p<0||p>=v?u?"":void 0:(b=h.charCodeAt(p),b<55296||b>56319||p+1===v||(y=h.charCodeAt(p+1))<56320||y>57343?u?h.charAt(p):b:u?h.slice(p,p+2):(b-55296<<10)+(y-56320)+65536)}};o.exports={codeAt:c(!1),charAt:c(!0)}},"65f0":function(o,l,t){var i=t("861d"),s=t("e8b5"),c=t("b622"),u=c("species");o.exports=function(d,f){var h;return s(d)&&(h=d.constructor,typeof h=="function"&&(h===Array||s(h.prototype))?h=void 0:i(h)&&(h=h[u],h===null&&(h=void 0))),new(h===void 0?Array:h)(f===0?0:f)}},"69f3":function(o,l,t){var i=t("7f9a"),s=t("da84"),c=t("861d"),u=t("9112"),d=t("5135"),f=t("f772"),h=t("d012"),p=s.WeakMap,v,b,y,x=function(A){return y(A)?b(A):v(A,{})},g=function(A){return function(E){var D;if(!c(E)||(D=b(E)).type!==A)throw TypeError("Incompatible receiver, "+A+" required");return D}};if(i){var m=new p,S=m.get,w=m.has,M=m.set;v=function(A,E){return M.call(m,A,E),E},b=function(A){return S.call(m,A)||{}},y=function(A){return w.call(m,A)}}else{var $=f("state");h[$]=!0,v=function(A,E){return u(A,$,E),E},b=function(A){return d(A,$)?A[$]:{}},y=function(A){return d(A,$)}}o.exports={set:v,get:b,has:y,enforce:x,getterFor:g}},"6eeb":function(o,l,t){var i=t("da84"),s=t("9112"),c=t("5135"),u=t("ce4e"),d=t("8925"),f=t("69f3"),h=f.get,p=f.enforce,v=String(String).split("String");(o.exports=function(b,y,x,g){var m=g?!!g.unsafe:!1,S=g?!!g.enumerable:!1,w=g?!!g.noTargetGet:!1;if(typeof x=="function"&&(typeof y=="string"&&!c(x,"name")&&s(x,"name",y),p(x).source=v.join(typeof y=="string"?y:"")),b===i){S?b[y]=x:u(y,x);return}else m?!w&&b[y]&&(S=!0):delete b[y];S?b[y]=x:s(b,y,x)})(Function.prototype,"toString",function(){return typeof this=="function"&&h(this).source||d(this)})},"6f53":function(o,l,t){var i=t("83ab"),s=t("df75"),c=t("fc6a"),u=t("d1e7").f,d=function(f){return function(h){for(var p=c(h),v=s(p),b=v.length,y=0,x=[],g;b>y;)g=v[y++],(!i||u.call(p,g))&&x.push(f?[g,p[g]]:p[g]);return x}};o.exports={entries:d(!0),values:d(!1)}},"73d9":function(o,l,t){var i=t("44d2");i("flatMap")},7418:function(o,l){l.f=Object.getOwnPropertySymbols},"746f":function(o,l,t){var i=t("428f"),s=t("5135"),c=t("e538"),u=t("9bf2").f;o.exports=function(d){var f=i.Symbol||(i.Symbol={});s(f,d)||u(f,d,{value:c.f(d)})}},7839:function(o,l){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(o,l,t){var i=t("1d80");o.exports=function(s){return Object(i(s))}},"7c73":function(o,l,t){var i=t("825a"),s=t("37e8"),c=t("7839"),u=t("d012"),d=t("1be4"),f=t("cc12"),h=t("f772"),p=">",v="<",b="prototype",y="script",x=h("IE_PROTO"),g=function(){},m=function(A){return v+y+p+A+v+"/"+y+p},S=function(A){A.write(m("")),A.close();var E=A.parentWindow.Object;return A=null,E},w=function(){var A=f("iframe"),E="java"+y+":",D;return A.style.display="none",d.appendChild(A),A.src=String(E),D=A.contentWindow.document,D.open(),D.write(m("document.F=Object")),D.close(),D.F},M,$=function(){try{M=document.domain&&new ActiveXObject("htmlfile")}catch{}$=M?S(M):w();for(var A=c.length;A--;)delete $[b][c[A]];return $()};u[x]=!0,o.exports=Object.create||function(E,D){var N;return E!==null?(g[b]=i(E),N=new g,g[b]=null,N[x]=E):N=$(),D===void 0?N:s(N,D)}},"7dd0":function(o,l,t){var i=t("23e7"),s=t("9ed3"),c=t("e163"),u=t("d2bb"),d=t("d44e"),f=t("9112"),h=t("6eeb"),p=t("b622"),v=t("c430"),b=t("3f8c"),y=t("ae93"),x=y.IteratorPrototype,g=y.BUGGY_SAFARI_ITERATORS,m=p("iterator"),S="keys",w="values",M="entries",$=function(){return this};o.exports=function(A,E,D,N,P,R,U){s(D,E,N);var F=function(dt){if(dt===P&&ut)return ut;if(!g&&dt in rt)return rt[dt];switch(dt){case S:return function(){return new D(this,dt)};case w:return function(){return new D(this,dt)};case M:return function(){return new D(this,dt)}}return function(){return new D(this)}},H=E+" Iterator",J=!1,rt=A.prototype,ft=rt[m]||rt["@@iterator"]||P&&rt[P],ut=!g&&ft||F(P),pt=E=="Array"&&rt.entries||ft,mt,It,wt;if(pt&&(mt=c(pt.call(new A)),x!==Object.prototype&&mt.next&&(!v&&c(mt)!==x&&(u?u(mt,x):typeof mt[m]!="function"&&f(mt,m,$)),d(mt,H,!0,!0),v&&(b[H]=$))),P==w&&ft&&ft.name!==w&&(J=!0,ut=function(){return ft.call(this)}),(!v||U)&&rt[m]!==ut&&f(rt,m,ut),b[E]=ut,P)if(It={values:F(w),keys:R?ut:F(S),entries:F(M)},U)for(wt in It)(g||J||!(wt in rt))&&h(rt,wt,It[wt]);else i({target:E,proto:!0,forced:g||J},It);return It}},"7f9a":function(o,l,t){var i=t("da84"),s=t("8925"),c=i.WeakMap;o.exports=typeof c=="function"&&/native code/.test(s(c))},"825a":function(o,l,t){var i=t("861d");o.exports=function(s){if(!i(s))throw TypeError(String(s)+" is not an object");return s}},"83ab":function(o,l,t){var i=t("d039");o.exports=!i(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(o,l,t){var i=t("c04e"),s=t("9bf2"),c=t("5c6c");o.exports=function(u,d,f){var h=i(d);h in u?s.f(u,h,c(0,f)):u[h]=f}},"861d":function(o,l){o.exports=function(t){return typeof t=="object"?t!==null:typeof t=="function"}},8875:function(o,l,t){var i,s,c;(function(u,d){s=[],i=d,c=typeof i=="function"?i.apply(l,s):i,c!==void 0&&(o.exports=c)})(typeof self<"u"?self:this,function(){function u(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==u&&document.currentScript)return document.currentScript;try{throw new Error}catch(M){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,h=/@([^@]*):(\d+):(\d+)\s*$/ig,p=f.exec(M.stack)||h.exec(M.stack),v=p&&p[1]||!1,b=p&&p[2]||!1,y=document.location.href.replace(document.location.hash,""),x,g,m,S=document.getElementsByTagName("script");v===y&&(x=document.documentElement.outerHTML,g=new RegExp("(?:[^\\n]+?\\n){0,"+(b-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),m=x.replace(g,"$1").trim());for(var w=0;w<S.length;w++)if(S[w].readyState==="interactive"||S[w].src===v||v===y&&S[w].innerHTML&&S[w].innerHTML.trim()===m)return S[w];return null}}return u})},8925:function(o,l,t){var i=t("c6cd"),s=Function.toString;typeof i.inspectSource!="function"&&(i.inspectSource=function(c){return s.call(c)}),o.exports=i.inspectSource},"8aa5":function(o,l,t){var i=t("6547").charAt;o.exports=function(s,c,u){return c+(u?i(s,c).length:1)}},"8bbf":function(o,l){o.exports=r},"90e3":function(o,l){var t=0,i=Math.random();o.exports=function(s){return"Symbol("+String(s===void 0?"":s)+")_"+(++t+i).toString(36)}},9112:function(o,l,t){var i=t("83ab"),s=t("9bf2"),c=t("5c6c");o.exports=i?function(u,d,f){return s.f(u,d,c(1,f))}:function(u,d,f){return u[d]=f,u}},9263:function(o,l,t){var i=t("ad6d"),s=t("9f7f"),c=RegExp.prototype.exec,u=String.prototype.replace,d=c,f=function(){var b=/a/,y=/b*/g;return c.call(b,"a"),c.call(y,"a"),b.lastIndex!==0||y.lastIndex!==0}(),h=s.UNSUPPORTED_Y||s.BROKEN_CARET,p=/()??/.exec("")[1]!==void 0,v=f||p||h;v&&(d=function(y){var x=this,g,m,S,w,M=h&&x.sticky,$=i.call(x),A=x.source,E=0,D=y;return M&&($=$.replace("y",""),$.indexOf("g")===-1&&($+="g"),D=String(y).slice(x.lastIndex),x.lastIndex>0&&(!x.multiline||x.multiline&&y[x.lastIndex-1]!==`
`)&&(A="(?: "+A+")",D=" "+D,E++),m=new RegExp("^(?:"+A+")",$)),p&&(m=new RegExp("^"+A+"$(?!\\s)",$)),f&&(g=x.lastIndex),S=c.call(M?m:x,D),M?S?(S.input=S.input.slice(E),S[0]=S[0].slice(E),S.index=x.lastIndex,x.lastIndex+=S[0].length):x.lastIndex=0:f&&S&&(x.lastIndex=x.global?S.index+S[0].length:g),p&&S&&S.length>1&&u.call(S[0],m,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(S[w]=void 0)}),S}),o.exports=d},"94ca":function(o,l,t){var i=t("d039"),s=/#|\.prototype\./,c=function(p,v){var b=d[u(p)];return b==h?!0:b==f?!1:typeof v=="function"?i(v):!!v},u=c.normalize=function(p){return String(p).replace(s,".").toLowerCase()},d=c.data={},f=c.NATIVE="N",h=c.POLYFILL="P";o.exports=c},"99af":function(o,l,t){var i=t("23e7"),s=t("d039"),c=t("e8b5"),u=t("861d"),d=t("7b0b"),f=t("50c4"),h=t("8418"),p=t("65f0"),v=t("1dde"),b=t("b622"),y=t("2d00"),x=b("isConcatSpreadable"),g=9007199254740991,m="Maximum allowed index exceeded",S=y>=51||!s(function(){var A=[];return A[x]=!1,A.concat()[0]!==A}),w=v("concat"),M=function(A){if(!u(A))return!1;var E=A[x];return E!==void 0?!!E:c(A)},$=!S||!w;i({target:"Array",proto:!0,forced:$},{concat:function(E){var D=d(this),N=p(D,0),P=0,R,U,F,H,J;for(R=-1,F=arguments.length;R<F;R++)if(J=R===-1?D:arguments[R],M(J)){if(H=f(J.length),P+H>g)throw TypeError(m);for(U=0;U<H;U++,P++)U in J&&h(N,P,J[U])}else{if(P>=g)throw TypeError(m);h(N,P++,J)}return N.length=P,N}})},"9bdd":function(o,l,t){var i=t("825a");o.exports=function(s,c,u,d){try{return d?c(i(u)[0],u[1]):c(u)}catch(h){var f=s.return;throw f!==void 0&&i(f.call(s)),h}}},"9bf2":function(o,l,t){var i=t("83ab"),s=t("0cfb"),c=t("825a"),u=t("c04e"),d=Object.defineProperty;l.f=i?d:function(h,p,v){if(c(h),p=u(p,!0),c(v),s)try{return d(h,p,v)}catch{}if("get"in v||"set"in v)throw TypeError("Accessors not supported");return"value"in v&&(h[p]=v.value),h}},"9ed3":function(o,l,t){var i=t("ae93").IteratorPrototype,s=t("7c73"),c=t("5c6c"),u=t("d44e"),d=t("3f8c"),f=function(){return this};o.exports=function(h,p,v){var b=p+" Iterator";return h.prototype=s(i,{next:c(1,v)}),u(h,b,!1,!0),d[b]=f,h}},"9f7f":function(o,l,t){var i=t("d039");function s(c,u){return RegExp(c,u)}l.UNSUPPORTED_Y=i(function(){var c=s("a","y");return c.lastIndex=2,c.exec("abcd")!=null}),l.BROKEN_CARET=i(function(){var c=s("^r","gy");return c.lastIndex=2,c.exec("str")!=null})},a2bf:function(o,l,t){var i=t("e8b5"),s=t("50c4"),c=t("0366"),u=function(d,f,h,p,v,b,y,x){for(var g=v,m=0,S=y?c(y,x,3):!1,w;m<p;){if(m in h){if(w=S?S(h[m],m,f):h[m],b>0&&i(w))g=u(d,f,w,s(w.length),g,b-1)-1;else{if(g>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[g]=w}g++}m++}return g};o.exports=u},a352:function(o,l){o.exports=a},a434:function(o,l,t){var i=t("23e7"),s=t("23cb"),c=t("a691"),u=t("50c4"),d=t("7b0b"),f=t("65f0"),h=t("8418"),p=t("1dde"),v=t("ae40"),b=p("splice"),y=v("splice",{ACCESSORS:!0,0:0,1:2}),x=Math.max,g=Math.min,m=9007199254740991,S="Maximum allowed length exceeded";i({target:"Array",proto:!0,forced:!b||!y},{splice:function(M,$){var A=d(this),E=u(A.length),D=s(M,E),N=arguments.length,P,R,U,F,H,J;if(N===0?P=R=0:N===1?(P=0,R=E-D):(P=N-2,R=g(x(c($),0),E-D)),E+P-R>m)throw TypeError(S);for(U=f(A,R),F=0;F<R;F++)H=D+F,H in A&&h(U,F,A[H]);if(U.length=R,P<R){for(F=D;F<E-R;F++)H=F+R,J=F+P,H in A?A[J]=A[H]:delete A[J];for(F=E;F>E-R+P;F--)delete A[F-1]}else if(P>R)for(F=E-R;F>D;F--)H=F+R-1,J=F+P-1,H in A?A[J]=A[H]:delete A[J];for(F=0;F<P;F++)A[F+D]=arguments[F+2];return A.length=E-R+P,U}})},a4d3:function(o,l,t){var i=t("23e7"),s=t("da84"),c=t("d066"),u=t("c430"),d=t("83ab"),f=t("4930"),h=t("fdbf"),p=t("d039"),v=t("5135"),b=t("e8b5"),y=t("861d"),x=t("825a"),g=t("7b0b"),m=t("fc6a"),S=t("c04e"),w=t("5c6c"),M=t("7c73"),$=t("df75"),A=t("241c"),E=t("057f"),D=t("7418"),N=t("06cf"),P=t("9bf2"),R=t("d1e7"),U=t("9112"),F=t("6eeb"),H=t("5692"),J=t("f772"),rt=t("d012"),ft=t("90e3"),ut=t("b622"),pt=t("e538"),mt=t("746f"),It=t("d44e"),wt=t("69f3"),dt=t("b727").forEach,j=J("hidden"),V="Symbol",z="prototype",ht=ut("toPrimitive"),Mt=wt.set,St=wt.getterFor(V),Dt=Object[z],Rt=s.Symbol,me=c("JSON","stringify"),te=N.f,ee=P.f,ln=E.f,Bn=R.f,Qt=H("symbols"),de=H("op-symbols"),Te=H("string-to-symbol-registry"),Ne=H("symbol-to-string-registry"),Le=H("wks"),Fe=s.QObject,je=!Fe||!Fe[z]||!Fe[z].findChild,Be=d&&p(function(){return M(ee({},"a",{get:function(){return ee(this,"a",{value:7}).a}})).a!=7})?function(q,X,K){var st=te(Dt,X);st&&delete Dt[X],ee(q,X,K),st&&q!==Dt&&ee(Dt,X,st)}:ee,He=function(q,X){var K=Qt[q]=M(Rt[z]);return Mt(K,{type:V,tag:q,description:X}),d||(K.description=X),K},C=h?function(q){return typeof q=="symbol"}:function(q){return Object(q)instanceof Rt},T=function(X,K,st){X===Dt&&T(de,K,st),x(X);var lt=S(K,!0);return x(st),v(Qt,lt)?(st.enumerable?(v(X,j)&&X[j][lt]&&(X[j][lt]=!1),st=M(st,{enumerable:w(0,!1)})):(v(X,j)||ee(X,j,w(1,{})),X[j][lt]=!0),Be(X,lt,st)):ee(X,lt,st)},I=function(X,K){x(X);var st=m(K),lt=$(st).concat(ct(st));return dt(lt,function(Ut){(!d||W.call(st,Ut))&&T(X,Ut,st[Ut])}),X},L=function(X,K){return K===void 0?M(X):I(M(X),K)},W=function(X){var K=S(X,!0),st=Bn.call(this,K);return this===Dt&&v(Qt,K)&&!v(de,K)?!1:st||!v(this,K)||!v(Qt,K)||v(this,j)&&this[j][K]?st:!0},Z=function(X,K){var st=m(X),lt=S(K,!0);if(!(st===Dt&&v(Qt,lt)&&!v(de,lt))){var Ut=te(st,lt);return Ut&&v(Qt,lt)&&!(v(st,j)&&st[j][lt])&&(Ut.enumerable=!0),Ut}},nt=function(X){var K=ln(m(X)),st=[];return dt(K,function(lt){!v(Qt,lt)&&!v(rt,lt)&&st.push(lt)}),st},ct=function(X){var K=X===Dt,st=ln(K?de:m(X)),lt=[];return dt(st,function(Ut){v(Qt,Ut)&&(!K||v(Dt,Ut))&&lt.push(Qt[Ut])}),lt};if(f||(Rt=function(){if(this instanceof Rt)throw TypeError("Symbol is not a constructor");var X=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),K=ft(X),st=function(lt){this===Dt&&st.call(de,lt),v(this,j)&&v(this[j],K)&&(this[j][K]=!1),Be(this,K,w(1,lt))};return d&&je&&Be(Dt,K,{configurable:!0,set:st}),He(K,X)},F(Rt[z],"toString",function(){return St(this).tag}),F(Rt,"withoutSetter",function(q){return He(ft(q),q)}),R.f=W,P.f=T,N.f=Z,A.f=E.f=nt,D.f=ct,pt.f=function(q){return He(ut(q),q)},d&&(ee(Rt[z],"description",{configurable:!0,get:function(){return St(this).description}}),u||F(Dt,"propertyIsEnumerable",W,{unsafe:!0}))),i({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Rt}),dt($(Le),function(q){mt(q)}),i({target:V,stat:!0,forced:!f},{for:function(q){var X=String(q);if(v(Te,X))return Te[X];var K=Rt(X);return Te[X]=K,Ne[K]=X,K},keyFor:function(X){if(!C(X))throw TypeError(X+" is not a symbol");if(v(Ne,X))return Ne[X]},useSetter:function(){je=!0},useSimple:function(){je=!1}}),i({target:"Object",stat:!0,forced:!f,sham:!d},{create:L,defineProperty:T,defineProperties:I,getOwnPropertyDescriptor:Z}),i({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:nt,getOwnPropertySymbols:ct}),i({target:"Object",stat:!0,forced:p(function(){D.f(1)})},{getOwnPropertySymbols:function(X){return D.f(g(X))}}),me){var At=!f||p(function(){var q=Rt();return me([q])!="[null]"||me({a:q})!="{}"||me(Object(q))!="{}"});i({target:"JSON",stat:!0,forced:At},{stringify:function(X,K,st){for(var lt=[X],Ut=1,Hn;arguments.length>Ut;)lt.push(arguments[Ut++]);if(Hn=K,!(!y(K)&&X===void 0||C(X)))return b(K)||(K=function(io,cn){if(typeof Hn=="function"&&(cn=Hn.call(this,io,cn)),!C(cn))return cn}),lt[1]=K,me.apply(null,lt)}})}Rt[z][ht]||U(Rt[z],ht,Rt[z].valueOf),It(Rt,V),rt[j]=!0},a630:function(o,l,t){var i=t("23e7"),s=t("4df4"),c=t("1c7e"),u=!c(function(d){Array.from(d)});i({target:"Array",stat:!0,forced:u},{from:s})},a640:function(o,l,t){var i=t("d039");o.exports=function(s,c){var u=[][s];return!!u&&i(function(){u.call(null,c||function(){throw 1},1)})}},a691:function(o,l){var t=Math.ceil,i=Math.floor;o.exports=function(s){return isNaN(s=+s)?0:(s>0?i:t)(s)}},ab13:function(o,l,t){var i=t("b622"),s=i("match");o.exports=function(c){var u=/./;try{"/./"[c](u)}catch{try{return u[s]=!1,"/./"[c](u)}catch{}}return!1}},ac1f:function(o,l,t){var i=t("23e7"),s=t("9263");i({target:"RegExp",proto:!0,forced:/./.exec!==s},{exec:s})},ad6d:function(o,l,t){var i=t("825a");o.exports=function(){var s=i(this),c="";return s.global&&(c+="g"),s.ignoreCase&&(c+="i"),s.multiline&&(c+="m"),s.dotAll&&(c+="s"),s.unicode&&(c+="u"),s.sticky&&(c+="y"),c}},ae40:function(o,l,t){var i=t("83ab"),s=t("d039"),c=t("5135"),u=Object.defineProperty,d={},f=function(h){throw h};o.exports=function(h,p){if(c(d,h))return d[h];p||(p={});var v=[][h],b=c(p,"ACCESSORS")?p.ACCESSORS:!1,y=c(p,0)?p[0]:f,x=c(p,1)?p[1]:void 0;return d[h]=!!v&&!s(function(){if(b&&!i)return!0;var g={length:-1};b?u(g,1,{enumerable:!0,get:f}):g[1]=1,v.call(g,y,x)})}},ae93:function(o,l,t){var i=t("e163"),s=t("9112"),c=t("5135"),u=t("b622"),d=t("c430"),f=u("iterator"),h=!1,p=function(){return this},v,b,y;[].keys&&(y=[].keys(),"next"in y?(b=i(i(y)),b!==Object.prototype&&(v=b)):h=!0),v==null&&(v={}),!d&&!c(v,f)&&s(v,f,p),o.exports={IteratorPrototype:v,BUGGY_SAFARI_ITERATORS:h}},b041:function(o,l,t){var i=t("00ee"),s=t("f5df");o.exports=i?{}.toString:function(){return"[object "+s(this)+"]"}},b0c0:function(o,l,t){var i=t("83ab"),s=t("9bf2").f,c=Function.prototype,u=c.toString,d=/^\s*function ([^ (]*)/,f="name";i&&!(f in c)&&s(c,f,{configurable:!0,get:function(){try{return u.call(this).match(d)[1]}catch{return""}}})},b622:function(o,l,t){var i=t("da84"),s=t("5692"),c=t("5135"),u=t("90e3"),d=t("4930"),f=t("fdbf"),h=s("wks"),p=i.Symbol,v=f?p:p&&p.withoutSetter||u;o.exports=function(b){return c(h,b)||(d&&c(p,b)?h[b]=p[b]:h[b]=v("Symbol."+b)),h[b]}},b64b:function(o,l,t){var i=t("23e7"),s=t("7b0b"),c=t("df75"),u=t("d039"),d=u(function(){c(1)});i({target:"Object",stat:!0,forced:d},{keys:function(h){return c(s(h))}})},b727:function(o,l,t){var i=t("0366"),s=t("44ad"),c=t("7b0b"),u=t("50c4"),d=t("65f0"),f=[].push,h=function(p){var v=p==1,b=p==2,y=p==3,x=p==4,g=p==6,m=p==5||g;return function(S,w,M,$){for(var A=c(S),E=s(A),D=i(w,M,3),N=u(E.length),P=0,R=$||d,U=v?R(S,N):b?R(S,0):void 0,F,H;N>P;P++)if((m||P in E)&&(F=E[P],H=D(F,P,A),p)){if(v)U[P]=H;else if(H)switch(p){case 3:return!0;case 5:return F;case 6:return P;case 2:f.call(U,F)}else if(x)return!1}return g?-1:y||x?x:U}};o.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},c04e:function(o,l,t){var i=t("861d");o.exports=function(s,c){if(!i(s))return s;var u,d;if(c&&typeof(u=s.toString)=="function"&&!i(d=u.call(s))||typeof(u=s.valueOf)=="function"&&!i(d=u.call(s))||!c&&typeof(u=s.toString)=="function"&&!i(d=u.call(s)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(o,l){o.exports=!1},c6b6:function(o,l){var t={}.toString;o.exports=function(i){return t.call(i).slice(8,-1)}},c6cd:function(o,l,t){var i=t("da84"),s=t("ce4e"),c="__core-js_shared__",u=i[c]||s(c,{});o.exports=u},c740:function(o,l,t){var i=t("23e7"),s=t("b727").findIndex,c=t("44d2"),u=t("ae40"),d="findIndex",f=!0,h=u(d);d in[]&&Array(1)[d](function(){f=!1}),i({target:"Array",proto:!0,forced:f||!h},{findIndex:function(v){return s(this,v,arguments.length>1?arguments[1]:void 0)}}),c(d)},c8ba:function(o,l){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}o.exports=t},c975:function(o,l,t){var i=t("23e7"),s=t("4d64").indexOf,c=t("a640"),u=t("ae40"),d=[].indexOf,f=!!d&&1/[1].indexOf(1,-0)<0,h=c("indexOf"),p=u("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:f||!h||!p},{indexOf:function(b){return f?d.apply(this,arguments)||0:s(this,b,arguments.length>1?arguments[1]:void 0)}})},ca84:function(o,l,t){var i=t("5135"),s=t("fc6a"),c=t("4d64").indexOf,u=t("d012");o.exports=function(d,f){var h=s(d),p=0,v=[],b;for(b in h)!i(u,b)&&i(h,b)&&v.push(b);for(;f.length>p;)i(h,b=f[p++])&&(~c(v,b)||v.push(b));return v}},caad:function(o,l,t){var i=t("23e7"),s=t("4d64").includes,c=t("44d2"),u=t("ae40"),d=u("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:!d},{includes:function(h){return s(this,h,arguments.length>1?arguments[1]:void 0)}}),c("includes")},cc12:function(o,l,t){var i=t("da84"),s=t("861d"),c=i.document,u=s(c)&&s(c.createElement);o.exports=function(d){return u?c.createElement(d):{}}},ce4e:function(o,l,t){var i=t("da84"),s=t("9112");o.exports=function(c,u){try{s(i,c,u)}catch{i[c]=u}return u}},d012:function(o,l){o.exports={}},d039:function(o,l){o.exports=function(t){try{return!!t()}catch{return!0}}},d066:function(o,l,t){var i=t("428f"),s=t("da84"),c=function(u){return typeof u=="function"?u:void 0};o.exports=function(u,d){return arguments.length<2?c(i[u])||c(s[u]):i[u]&&i[u][d]||s[u]&&s[u][d]}},d1e7:function(o,l,t){var i={}.propertyIsEnumerable,s=Object.getOwnPropertyDescriptor,c=s&&!i.call({1:2},1);l.f=c?function(d){var f=s(this,d);return!!f&&f.enumerable}:i},d28b:function(o,l,t){var i=t("746f");i("iterator")},d2bb:function(o,l,t){var i=t("825a"),s=t("3bbe");o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c=!1,u={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(u,[]),c=u instanceof Array}catch{}return function(h,p){return i(h),s(p),c?d.call(h,p):h.__proto__=p,h}}():void 0)},d3b7:function(o,l,t){var i=t("00ee"),s=t("6eeb"),c=t("b041");i||s(Object.prototype,"toString",c,{unsafe:!0})},d44e:function(o,l,t){var i=t("9bf2").f,s=t("5135"),c=t("b622"),u=c("toStringTag");o.exports=function(d,f,h){d&&!s(d=h?d:d.prototype,u)&&i(d,u,{configurable:!0,value:f})}},d58f:function(o,l,t){var i=t("1c0b"),s=t("7b0b"),c=t("44ad"),u=t("50c4"),d=function(f){return function(h,p,v,b){i(p);var y=s(h),x=c(y),g=u(y.length),m=f?g-1:0,S=f?-1:1;if(v<2)for(;;){if(m in x){b=x[m],m+=S;break}if(m+=S,f?m<0:g<=m)throw TypeError("Reduce of empty array with no initial value")}for(;f?m>=0:g>m;m+=S)m in x&&(b=p(b,x[m],m,y));return b}};o.exports={left:d(!1),right:d(!0)}},d784:function(o,l,t){t("ac1f");var i=t("6eeb"),s=t("d039"),c=t("b622"),u=t("9263"),d=t("9112"),f=c("species"),h=!s(function(){var x=/./;return x.exec=function(){var g=[];return g.groups={a:"7"},g},"".replace(x,"$<a>")!=="7"}),p=function(){return"a".replace(/./,"$0")==="$0"}(),v=c("replace"),b=function(){return/./[v]?/./[v]("a","$0")==="":!1}(),y=!s(function(){var x=/(?:)/,g=x.exec;x.exec=function(){return g.apply(this,arguments)};var m="ab".split(x);return m.length!==2||m[0]!=="a"||m[1]!=="b"});o.exports=function(x,g,m,S){var w=c(x),M=!s(function(){var P={};return P[w]=function(){return 7},""[x](P)!=7}),$=M&&!s(function(){var P=!1,R=/a/;return x==="split"&&(R={},R.constructor={},R.constructor[f]=function(){return R},R.flags="",R[w]=/./[w]),R.exec=function(){return P=!0,null},R[w](""),!P});if(!M||!$||x==="replace"&&!(h&&p&&!b)||x==="split"&&!y){var A=/./[w],E=m(w,""[x],function(P,R,U,F,H){return R.exec===u?M&&!H?{done:!0,value:A.call(R,U,F)}:{done:!0,value:P.call(U,R,F)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:b}),D=E[0],N=E[1];i(String.prototype,x,D),i(RegExp.prototype,w,g==2?function(P,R){return N.call(P,this,R)}:function(P){return N.call(P,this)})}S&&d(RegExp.prototype[w],"sham",!0)}},d81d:function(o,l,t){var i=t("23e7"),s=t("b727").map,c=t("1dde"),u=t("ae40"),d=c("map"),f=u("map");i({target:"Array",proto:!0,forced:!d||!f},{map:function(p){return s(this,p,arguments.length>1?arguments[1]:void 0)}})},da84:function(o,l,t){(function(i){var s=function(c){return c&&c.Math==Math&&c};o.exports=s(typeof globalThis=="object"&&globalThis)||s(typeof window=="object"&&window)||s(typeof self=="object"&&self)||s(typeof i=="object"&&i)||Function("return this")()}).call(this,t("c8ba"))},dbb4:function(o,l,t){var i=t("23e7"),s=t("83ab"),c=t("56ef"),u=t("fc6a"),d=t("06cf"),f=t("8418");i({target:"Object",stat:!0,sham:!s},{getOwnPropertyDescriptors:function(p){for(var v=u(p),b=d.f,y=c(v),x={},g=0,m,S;y.length>g;)S=b(v,m=y[g++]),S!==void 0&&f(x,m,S);return x}})},dbf1:function(o,l,t){(function(i){t.d(l,"a",function(){return c});function s(){return typeof window<"u"?window.console:i.console}var c=s()}).call(this,t("c8ba"))},ddb0:function(o,l,t){var i=t("da84"),s=t("fdbc"),c=t("e260"),u=t("9112"),d=t("b622"),f=d("iterator"),h=d("toStringTag"),p=c.values;for(var v in s){var b=i[v],y=b&&b.prototype;if(y){if(y[f]!==p)try{u(y,f,p)}catch{y[f]=p}if(y[h]||u(y,h,v),s[v]){for(var x in c)if(y[x]!==c[x])try{u(y,x,c[x])}catch{y[x]=c[x]}}}}},df75:function(o,l,t){var i=t("ca84"),s=t("7839");o.exports=Object.keys||function(u){return i(u,s)}},e01a:function(o,l,t){var i=t("23e7"),s=t("83ab"),c=t("da84"),u=t("5135"),d=t("861d"),f=t("9bf2").f,h=t("e893"),p=c.Symbol;if(s&&typeof p=="function"&&(!("description"in p.prototype)||p().description!==void 0)){var v={},b=function(){var w=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),M=this instanceof b?new p(w):w===void 0?p():p(w);return w===""&&(v[M]=!0),M};h(b,p);var y=b.prototype=p.prototype;y.constructor=b;var x=y.toString,g=String(p("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/;f(y,"description",{configurable:!0,get:function(){var w=d(this)?this.valueOf():this,M=x.call(w);if(u(v,w))return"";var $=g?M.slice(7,-1):M.replace(m,"$1");return $===""?void 0:$}}),i({global:!0,forced:!0},{Symbol:b})}},e163:function(o,l,t){var i=t("5135"),s=t("7b0b"),c=t("f772"),u=t("e177"),d=c("IE_PROTO"),f=Object.prototype;o.exports=u?Object.getPrototypeOf:function(h){return h=s(h),i(h,d)?h[d]:typeof h.constructor=="function"&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?f:null}},e177:function(o,l,t){var i=t("d039");o.exports=!i(function(){function s(){}return s.prototype.constructor=null,Object.getPrototypeOf(new s)!==s.prototype})},e260:function(o,l,t){var i=t("fc6a"),s=t("44d2"),c=t("3f8c"),u=t("69f3"),d=t("7dd0"),f="Array Iterator",h=u.set,p=u.getterFor(f);o.exports=d(Array,"Array",function(v,b){h(this,{type:f,target:i(v),index:0,kind:b})},function(){var v=p(this),b=v.target,y=v.kind,x=v.index++;return!b||x>=b.length?(v.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:x,done:!1}:y=="values"?{value:b[x],done:!1}:{value:[x,b[x]],done:!1}},"values"),c.Arguments=c.Array,s("keys"),s("values"),s("entries")},e439:function(o,l,t){var i=t("23e7"),s=t("d039"),c=t("fc6a"),u=t("06cf").f,d=t("83ab"),f=s(function(){u(1)}),h=!d||f;i({target:"Object",stat:!0,forced:h,sham:!d},{getOwnPropertyDescriptor:function(v,b){return u(c(v),b)}})},e538:function(o,l,t){var i=t("b622");l.f=i},e893:function(o,l,t){var i=t("5135"),s=t("56ef"),c=t("06cf"),u=t("9bf2");o.exports=function(d,f){for(var h=s(f),p=u.f,v=c.f,b=0;b<h.length;b++){var y=h[b];i(d,y)||p(d,y,v(f,y))}}},e8b5:function(o,l,t){var i=t("c6b6");o.exports=Array.isArray||function(c){return i(c)=="Array"}},e95a:function(o,l,t){var i=t("b622"),s=t("3f8c"),c=i("iterator"),u=Array.prototype;o.exports=function(d){return d!==void 0&&(s.Array===d||u[c]===d)}},f5df:function(o,l,t){var i=t("00ee"),s=t("c6b6"),c=t("b622"),u=c("toStringTag"),d=s(function(){return arguments}())=="Arguments",f=function(h,p){try{return h[p]}catch{}};o.exports=i?s:function(h){var p,v,b;return h===void 0?"Undefined":h===null?"Null":typeof(v=f(p=Object(h),u))=="string"?v:d?s(p):(b=s(p))=="Object"&&typeof p.callee=="function"?"Arguments":b}},f772:function(o,l,t){var i=t("5692"),s=t("90e3"),c=i("keys");o.exports=function(u){return c[u]||(c[u]=s(u))}},fb15:function(o,l,t){if(t.r(l),typeof window<"u"){var i=window.document.currentScript;{var s=t("8875");i=s(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:s})}var c=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);c&&(t.p=c[1])}t("99af"),t("4de4"),t("4160"),t("c975"),t("d81d"),t("a434"),t("159b"),t("a4d3"),t("e439"),t("dbb4"),t("b64b");function u(C,T,I){return T in C?Object.defineProperty(C,T,{value:I,enumerable:!0,configurable:!0,writable:!0}):C[T]=I,C}function d(C,T){var I=Object.keys(C);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(C);T&&(L=L.filter(function(W){return Object.getOwnPropertyDescriptor(C,W).enumerable})),I.push.apply(I,L)}return I}function f(C){for(var T=1;T<arguments.length;T++){var I=arguments[T]!=null?arguments[T]:{};T%2?d(Object(I),!0).forEach(function(L){u(C,L,I[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(I)):d(Object(I)).forEach(function(L){Object.defineProperty(C,L,Object.getOwnPropertyDescriptor(I,L))})}return C}function h(C){if(Array.isArray(C))return C}t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");function p(C,T){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(C)))){var I=[],L=!0,W=!1,Z=void 0;try{for(var nt=C[Symbol.iterator](),ct;!(L=(ct=nt.next()).done)&&(I.push(ct.value),!(T&&I.length===T));L=!0);}catch(At){W=!0,Z=At}finally{try{!L&&nt.return!=null&&nt.return()}finally{if(W)throw Z}}return I}}t("a630"),t("fb6a"),t("b0c0"),t("25f0");function v(C,T){(T==null||T>C.length)&&(T=C.length);for(var I=0,L=new Array(T);I<T;I++)L[I]=C[I];return L}function b(C,T){if(C){if(typeof C=="string")return v(C,T);var I=Object.prototype.toString.call(C).slice(8,-1);if(I==="Object"&&C.constructor&&(I=C.constructor.name),I==="Map"||I==="Set")return Array.from(C);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return v(C,T)}}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x(C,T){return h(C)||p(C,T)||b(C,T)||y()}function g(C){if(Array.isArray(C))return v(C)}function m(C){if(typeof Symbol<"u"&&Symbol.iterator in Object(C))return Array.from(C)}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(C){return g(C)||m(C)||b(C)||S()}var M=t("a352"),$=t.n(M);function A(C){C.parentElement!==null&&C.parentElement.removeChild(C)}function E(C,T,I){var L=I===0?C.children[0]:C.children[I-1].nextSibling;C.insertBefore(T,L)}var D=t("dbf1");t("13d5"),t("4fad"),t("ac1f"),t("5319");function N(C){var T=Object.create(null);return function(L){var W=T[L];return W||(T[L]=C(L))}}var P=/-(\w)/g,R=N(function(C){return C.replace(P,function(T,I){return I.toUpperCase()})});t("5db7"),t("73d9");var U=["Start","Add","Remove","Update","End"],F=["Choose","Unchoose","Sort","Filter","Clone"],H=["Move"],J=[H,U,F].flatMap(function(C){return C}).map(function(C){return"on".concat(C)}),rt={manage:H,manageAndEmit:U,emit:F};function ft(C){return J.indexOf(C)!==-1}t("caad"),t("2ca0");var ut=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function pt(C){return ut.includes(C)}function mt(C){return["transition-group","TransitionGroup"].includes(C)}function It(C){return["id","class","role","style"].includes(C)||C.startsWith("data-")||C.startsWith("aria-")||C.startsWith("on")}function wt(C){return C.reduce(function(T,I){var L=x(I,2),W=L[0],Z=L[1];return T[W]=Z,T},{})}function dt(C){var T=C.$attrs,I=C.componentData,L=I===void 0?{}:I,W=wt(Object.entries(T).filter(function(Z){var nt=x(Z,2),ct=nt[0];return nt[1],It(ct)}));return f(f({},W),L)}function j(C){var T=C.$attrs,I=C.callBackBuilder,L=wt(V(T));Object.entries(I).forEach(function(Z){var nt=x(Z,2),ct=nt[0],At=nt[1];rt[ct].forEach(function(q){L["on".concat(q)]=At(q)})});var W="[data-draggable]".concat(L.draggable||"");return f(f({},L),{},{draggable:W})}function V(C){return Object.entries(C).filter(function(T){var I=x(T,2),L=I[0];return I[1],!It(L)}).map(function(T){var I=x(T,2),L=I[0],W=I[1];return[R(L),W]}).filter(function(T){var I=x(T,2),L=I[0];return I[1],!ft(L)})}t("c740");function z(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function ht(C,T){for(var I=0;I<T.length;I++){var L=T[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(C,L.key,L)}}function Mt(C,T,I){return T&&ht(C.prototype,T),I&&ht(C,I),C}var St=function(T){var I=T.el;return I},Dt=function(T,I){return T.__draggable_context=I},Rt=function(T){return T.__draggable_context},me=function(){function C(T){var I=T.nodes,L=I.header,W=I.default,Z=I.footer,nt=T.root,ct=T.realList;z(this,C),this.defaultNodes=W,this.children=[].concat(w(L),w(W),w(Z)),this.externalComponent=nt.externalComponent,this.rootTransition=nt.transition,this.tag=nt.tag,this.realList=ct}return Mt(C,[{key:"render",value:function(I,L){var W=this.tag,Z=this.children,nt=this._isRootComponent,ct=nt?{default:function(){return Z}}:Z;return I(W,L,ct)}},{key:"updated",value:function(){var I=this.defaultNodes,L=this.realList;I.forEach(function(W,Z){Dt(St(W),{element:L[Z],index:Z})})}},{key:"getUnderlyingVm",value:function(I){return Rt(I)}},{key:"getVmIndexFromDomIndex",value:function(I,L){var W=this.defaultNodes,Z=W.length,nt=L.children,ct=nt.item(I);if(ct===null)return Z;var At=Rt(ct);if(At)return At.index;if(Z===0)return 0;var q=St(W[0]),X=w(nt).findIndex(function(K){return K===q});return I<X?0:Z}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),C}(),te=t("8bbf");function ee(C,T){var I=C[T];return I?I():[]}function ln(C){var T=C.$slots,I=C.realList,L=C.getKey,W=I||[],Z=["header","footer"].map(function(K){return ee(T,K)}),nt=x(Z,2),ct=nt[0],At=nt[1],q=T.item;if(!q)throw new Error("draggable element must have an item slot");var X=W.flatMap(function(K,st){return q({element:K,index:st}).map(function(lt){return lt.key=L(K),lt.props=f(f({},lt.props||{}),{},{"data-draggable":!0}),lt})});if(X.length!==W.length)throw new Error("Item slot must have only one child");return{header:ct,footer:At,default:X}}function Bn(C){var T=mt(C),I=!pt(C)&&!T;return{transition:T,externalComponent:I,tag:I?Object(te.resolveComponent)(C):T?te.TransitionGroup:C}}function Qt(C){var T=C.$slots,I=C.tag,L=C.realList,W=C.getKey,Z=ln({$slots:T,realList:L,getKey:W}),nt=Bn(I);return new me({nodes:Z,root:nt,realList:L})}function de(C,T){var I=this;Object(te.nextTick)(function(){return I.$emit(C.toLowerCase(),T)})}function Te(C){var T=this;return function(I,L){if(T.realList!==null)return T["onDrag".concat(C)](I,L)}}function Ne(C){var T=this,I=Te.call(this,C);return function(L,W){I.call(T,L,W),de.call(T,C,L)}}var Le=null,Fe={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(T){return T}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},je=["update:modelValue","change"].concat(w([].concat(w(rt.manageAndEmit),w(rt.emit)).map(function(C){return C.toLowerCase()}))),Be=Object(te.defineComponent)({name:"draggable",inheritAttrs:!1,props:Fe,emits:je,data:function(){return{error:!1}},render:function(){try{this.error=!1;var T=this.$slots,I=this.$attrs,L=this.tag,W=this.componentData,Z=this.realList,nt=this.getKey,ct=Qt({$slots:T,tag:L,realList:Z,getKey:nt});this.componentStructure=ct;var At=dt({$attrs:I,componentData:W});return ct.render(te.h,At)}catch(q){return this.error=!0,Object(te.h)("pre",{style:{color:"red"}},q.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&D.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var T=this;if(!this.error){var I=this.$attrs,L=this.$el,W=this.componentStructure;W.updated();var Z=j({$attrs:I,callBackBuilder:{manageAndEmit:function(At){return Ne.call(T,At)},emit:function(At){return de.bind(T,At)},manage:function(At){return Te.call(T,At)}}}),nt=L.nodeType===1?L:L.parentElement;this._sortable=new $.a(nt,Z),this.targetDomElement=nt,nt.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var T=this.list;return T||this.modelValue},getKey:function(){var T=this.itemKey;return typeof T=="function"?T:function(I){return I[T]}}},watch:{$attrs:{handler:function(T){var I=this._sortable;I&&V(T).forEach(function(L){var W=x(L,2),Z=W[0],nt=W[1];I.option(Z,nt)})},deep:!0}},methods:{getUnderlyingVm:function(T){return this.componentStructure.getUnderlyingVm(T)||null},getUnderlyingPotencialDraggableComponent:function(T){return T.__draggable_component__},emitChanges:function(T){var I=this;Object(te.nextTick)(function(){return I.$emit("change",T)})},alterList:function(T){if(this.list){T(this.list);return}var I=w(this.modelValue);T(I),this.$emit("update:modelValue",I)},spliceList:function(){var T=arguments,I=function(W){return W.splice.apply(W,w(T))};this.alterList(I)},updatePosition:function(T,I){var L=function(Z){return Z.splice(I,0,Z.splice(T,1)[0])};this.alterList(L)},getRelatedContextFromMoveEvent:function(T){var I=T.to,L=T.related,W=this.getUnderlyingPotencialDraggableComponent(I);if(!W)return{component:W};var Z=W.realList,nt={list:Z,component:W};if(I!==L&&Z){var ct=W.getUnderlyingVm(L)||{};return f(f({},ct),nt)}return nt},getVmIndexFromDomIndex:function(T){return this.componentStructure.getVmIndexFromDomIndex(T,this.targetDomElement)},onDragStart:function(T){this.context=this.getUnderlyingVm(T.item),T.item._underlying_vm_=this.clone(this.context.element),Le=T.item},onDragAdd:function(T){var I=T.item._underlying_vm_;if(I!==void 0){A(T.item);var L=this.getVmIndexFromDomIndex(T.newIndex);this.spliceList(L,0,I);var W={element:I,newIndex:L};this.emitChanges({added:W})}},onDragRemove:function(T){if(E(this.$el,T.item,T.oldIndex),T.pullMode==="clone"){A(T.clone);return}var I=this.context,L=I.index,W=I.element;this.spliceList(L,1);var Z={element:W,oldIndex:L};this.emitChanges({removed:Z})},onDragUpdate:function(T){A(T.item),E(T.from,T.item,T.oldIndex);var I=this.context.index,L=this.getVmIndexFromDomIndex(T.newIndex);this.updatePosition(I,L);var W={element:this.context.element,oldIndex:I,newIndex:L};this.emitChanges({moved:W})},computeFutureIndex:function(T,I){if(!T.element)return 0;var L=w(I.to.children).filter(function(ct){return ct.style.display!=="none"}),W=L.indexOf(I.related),Z=T.component.getVmIndexFromDomIndex(W),nt=L.indexOf(Le)!==-1;return nt||!I.willInsertAfter?Z:Z+1},onDragMove:function(T,I){var L=this.move,W=this.realList;if(!L||!W)return!0;var Z=this.getRelatedContextFromMoveEvent(T),nt=this.computeFutureIndex(Z,T),ct=f(f({},this.context),{},{futureIndex:nt}),At=f(f({},T),{},{relatedContext:Z,draggedContext:ct});return L(At,I)},onDragEnd:function(){Le=null}}}),He=Be;l.default=He},fb6a:function(o,l,t){var i=t("23e7"),s=t("861d"),c=t("e8b5"),u=t("23cb"),d=t("50c4"),f=t("fc6a"),h=t("8418"),p=t("b622"),v=t("1dde"),b=t("ae40"),y=v("slice"),x=b("slice",{ACCESSORS:!0,0:0,1:2}),g=p("species"),m=[].slice,S=Math.max;i({target:"Array",proto:!0,forced:!y||!x},{slice:function(M,$){var A=f(this),E=d(A.length),D=u(M,E),N=u($===void 0?E:$,E),P,R,U;if(c(A)&&(P=A.constructor,typeof P=="function"&&(P===Array||c(P.prototype))?P=void 0:s(P)&&(P=P[g],P===null&&(P=void 0)),P===Array||P===void 0))return m.call(A,D,N);for(R=new(P===void 0?Array:P)(S(N-D,0)),U=0;D<N;D++,U++)D in A&&h(R,U,A[D]);return R.length=U,R}})},fc6a:function(o,l,t){var i=t("44ad"),s=t("1d80");o.exports=function(c){return i(s(c))}},fdbc:function(o,l){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(o,l,t){var i=t("4930");o.exports=i&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(Wr);var Bs=Wr.exports;const Hs=Oi(Bs),zs=ce({__name:"SlidePreview",props:{data:Object,width:Number,height:Number,log:String},setup(e){var o;const n=e,r=((o=n.data)==null?void 0:o.content)??[],a=k(null);return $n(()=>{var l;for(const t of r){let i=document.createElement(t.tag);if(i.id=t.id+"-preview",i.style.position="absolute",i.style.top=(t.position.x/(n.width??1)*50).toString()+"%",i.style.left=(t.position.y/(n.height??1)*50).toString()+"%",i.style.transform=`rotate(${t.position.r}deg)`,i.style.scale="0.5",t.content&&(i.innerHTML=t.content),t.attrs)for(const s in t.attrs)i.setAttribute(s,t.attrs[s]);if(t.styles)for(const s in t.styles)i.style[s]=t.styles[s];(l=a.value)==null||l.appendChild(i)}}),(l,t)=>(Q(),tt("span",{ref_key:"ctx",ref:a,class:"ctx"},null,512))}}),Us=Bt(zs,[["__scopeId","data-v-ba4b1109"]]),Ws={class:"flex"},Gs=["onMouseleave","onClick"],Vs=O("i",{class:"fa-solid fa-add"},null,-1),Xs=ce({__name:"SlideView",props:{slides:Array,width:String,height:String,language:String},emits:["new_slide","select","delete_slide"],setup(e,{emit:n}){rn(h=>({"15e68b6c":zt(r),81427422:zt(i),"12aafe1e":zt(s)}));let r=k(+!zr.value.is_opened),a=k(0);const o=n,l=e,t=k(!1);let i=k(0),s=k(0);Ln(()=>{i.value=Number((/\d+/g.exec(l.width??"1920px")??[0])[0]),s.value=Number((/\d+/g.exec(l.height??"1080px")??[0])[0])});const c=h=>{a.value=h,o("select",h)},u=h=>{h.target.innerHTML='<i class="fa-solid fa-trash fa-sm fa-shake"></i>'},d=(h,p)=>{h.target.innerHTML=p.toString()},f=async(h,p)=>{document.getElementsByClassName(`slide${h}`)[0].classList.add("deleting"),await Ur(750),o("delete_slide",p.id)};return(h,p)=>(Q(),tt("div",Ws,[xt(zt(Hs),{list:e.slides,group:"slide",onStart:p[0]||(p[0]=v=>t.value=!0),onEnd:p[1]||(p[1]=v=>t.value=!1),"item-key":"id",class:"slides grid"},{item:Fn(({element:v,index:b})=>[O("div",{class:Jt(["flexx",`slide${b}`])},[O("p",{class:"delete-p",onMouseenter:u,onMouseleave:y=>d(y,b+1),onClick:y=>f(b,v)},Kt(b+1),41,Gs),xt(Us,{data:v,width:zt(i),height:zt(s),class:Jt(["slide",b==zt(a)?"fancy":""]),style:nn({"--anim-order":b}),onClick:y=>c(b)},null,8,["data","width","height","class","style","onClick"])],2)]),_:1},8,["list"]),O("button",{onClick:p[2]||(p[2]=v=>h.$emit("new_slide"))},[Vs,ge(" "+Kt(e.language==="en"?"New Slide":"สไลด์ใหม่"),1)])]))}}),Ks=()=>{if(window.getSelection&&window.getSelection().getRangeAt){for(var e=window.getSelection().getRangeAt(0),n=window.getSelection(),r=0,a=n.anchorNode.parentNode.childNodes,o=0;o<a.length&&a[o]!=n.anchorNode;o++)a[o].outerHTML?r+=a[o].outerHTML.length:a[o].nodeType==3&&(r+=a[o].textContent.length);return e.startOffset+r}return-1},wr=new WeakMap;function Ys(e){let n=wr.get(e);return n||wr.set(e,n=Object.create(null)),n}function Lt(e,n,...r){e&&e.$emit&&e.$emit(n,...r);const a=Ys(e)[n];return a&&a.map(o=>o.apply(e,r)),e}function Tr(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function Ge(e,n,r,a=1){const o=Math.round(n/a/e[0])*e[0],l=Math.round(r/a/e[1])*e[1];return[o,l]}function Cr(e,n,r){return e-n-r}function Or(e,n,r){return e-n-r}function Ft(e,n,r){return n!==null&&e<n?n:r!==null&&r<e?r:e}function mn(e,n,r,a,o){const l=Math.PI/180*o,t=Math.cos(l),i=Math.sin(l);let s=r-e,c=a-n;return{x:s*t-c*i+e,y:s*i+c*t+n}}function Js(e,n){let r=Math.atan2(n,e);return r=Math.round(180/Math.PI*r),r<0&&(r=360+r),r}function Ir(e,n,r){let a=e;const o=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(l=>Tr(a[l]));if(!Tr(a[o]))return!1;do{if(a[o](n))return!0;if(a===r)return!1;a=a.parentNode}while(a);return!1}function Zs(e){const n=window.getComputedStyle(e);return[parseFloat(n.getPropertyValue("width"),10),parseFloat(n.getPropertyValue("height"),10)]}function xe(e,n,r){e&&(e.attachEvent?e.attachEvent("on"+n,r):e.addEventListener?e.addEventListener(n,r,!0):e["on"+n]=r)}function oe(e,n,r){e&&(e.detachEvent?e.detachEvent("on"+n,r):e.removeEventListener?e.removeEventListener(n,r,!0):e["on"+n]=null)}const wn={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},Qs={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},ks={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let ae=wn.mouse;var Me={name:"VueDragResizeRotate",props:{className:{type:String,default:"vue-drag-resize-rotate"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameRotatable:{type:String,default:"rotatable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameRotating:{type:String,default:"rotating"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!1},lockAspectRatio:{type:Boolean,default:!1},outsideAspectRatio:{type:[Number,String],default:0},w:{type:[Number,String],default:200,validator:e=>typeof e=="number"?e>0:e==="auto"},h:{type:[Number,String],default:200,validator:e=>typeof e=="number"?e>0:e==="auto"},minWidth:{type:Number,default:0,validator:e=>e>=0},minHeight:{type:Number,default:0,validator:e=>e>=0},maxWidth:{type:Number,default:1/0,validator:e=>e>=0},maxHeight:{type:Number,default:1/0,validator:e=>e>=0},x:{type:[String,Number],default:0},y:{type:[String,Number],default:0},z:{type:[String,Number],default:"auto",validator:e=>typeof e=="string"?e==="auto":e>=0},r:{type:[String,Number],default:0},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml","rot"],validator:e=>{const n=new Set(["tl","tm","tr","mr","br","bm","bl","ml","rot"]);return new Set(e.filter(r=>n.has(r))).size===e.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:e=>["x","y","both"].includes(e)},grid:{type:Array,default:()=>[1,1]},parent:{type:[Boolean,String],default:!1},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0},onRotateStart:{type:Function,default:()=>!0},onRotate:{type:Function,default:()=>!0},isConflictCheck:{type:Boolean,default:!1},snap:{type:Boolean,default:!1},snapBorder:{type:Boolean,default:!1},snapTolerance:{type:Number,default:5,validator:function(e){return typeof e=="number"}},scaleRatio:{type:Number,default:1,validator:e=>typeof e=="number"},handleInfo:{type:Object,default:()=>({size:8,offset:-4,switch:!0})}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,rotate:this.r,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,minW:this.minWidth,minH:this.minHeight,maxW:this.maxWidth,maxH:this.maxHeight,handle:null,enabled:this.active,resizing:!1,dragging:!1,rotating:!1,zIndex:this.z,parentX:0,parentY:0}},computed:{handleStyle(){return e=>{if(!this.handleInfo.switch)return{display:this.enabled?"block":"none"};if(e==="rot"&&!this.rotatable)return{display:"none"};if(e!=="rot"&&!this.resizable)return{display:"none"};const n=(this.handleInfo.size/this.scaleRatio).toFixed(2),r=(this.handleInfo.offset/this.scaleRatio).toFixed(2),a=(n/2).toFixed(2),o={tl:{top:`${r}px`,left:`${r}px`},tm:{top:`${r}px`,left:`calc(50% - ${a}px)`},tr:{top:`${r}px`,right:`${r}px`},mr:{top:`calc(50% - ${a}px)`,right:`${r}px`},br:{bottom:`${r}px`,right:`${r}px`},bm:{bottom:`${r}px`,right:`calc(50% - ${a}px)`},bl:{bottom:`${r}px`,left:`${r}px`},ml:{top:`calc(50% - ${a}px)`,left:`${r}px`},rot:{top:`-${n*3}px`,left:"50%"}},l={width:o[e].width||`${n}px`,height:o[e].height||`${n}px`,top:o[e].top,left:o[e].left,right:o[e].right,bottom:o[e].bottom},t={tl:0,tm:1,tr:2,mr:3,br:4,bm:5,bl:6,ml:7,rot:8};if(e!=="rot"){const i=["nw-resize","n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize"],c=this.rotate+22.5,u=Math.floor(c/45);let d=(t[e]+u)%8;l.cursor=i[d]}return l.display=this.enabled?"block":"none",l}},style(){return{transform:`translate(${this.left}px, ${this.top}px) rotate(${this.rotate}deg)`,width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex,fontSize:this.handleInfo.size*2+"px",...this.dragging&&this.disableUserSelect?Qs:ks}},actualHandles(){return!this.resizable&&!this.rotatable?[]:this.handles},computedWidth(){return this.w==="auto"&&!this.widthTouched?"auto":this.width+"px"},computedHeight(){return this.h==="auto"&&!this.heightTouched?"auto":this.height+"px"}},watch:{active(e){this.enabled=e,e?(this.updateParentSize(),Lt(this,"activated")):Lt(this,"deactivated")},x(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(e))},y(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(e))},z(e){(e>=0||e==="auto")&&(this.zIndex=e)},r(e){e>=0&&(this.rotate=e%360)},lockAspectRatio(e){e?this.outsideAspectRatio?this.aspectFactor=this.outsideAspectRatio:this.aspectFactor=this.width/this.height:this.aspectFactor=void 0},outsideAspectRatio(e){e&&(this.aspectFactor=e)},minWidth(e){e>0&&(this.minW=e),this.correctSize()},minHeight(e){e>0&&(this.minH=e),this.correctSize()},maxWidth(e){e>0&&(this.maxW=e),this.correctSize()},maxHeight(e){e>0&&(this.maxH=e),this.correctSize()},w(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(e))},h(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(e))}},created(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxHeight&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.Center={x:0,y:0},this.TL={x:0,y:0},this.TR={x:0,y:0},this.BL={x:0,y:0},this.BR={x:0,y:0},this.resetBoundsAndMouseState()},mounted(){this.enableNativeDrag||(this.$el.ondragstart=()=>!1);const[e,n]=this.getParentSize();this.parentWidth=e,this.parentHeight=n;const[r,a]=Zs(this.$el);this.aspectFactor=(this.w!=="auto"?this.w:r)/(this.h!=="auto"?this.h:a),this.outsideAspectRatio&&(this.aspectFactor=this.outsideAspectRatio),this.width=this.w!=="auto"?this.w:r,this.height=this.h!=="auto"?this.h:a,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.settingAttribute(),xe(document.documentElement,"mousedown",this.deselect),xe(document.documentElement,"touchend touchcancel",this.deselect),this.checkParentSize(),xe(window,"resize",this.checkParentSize)},beforeUnmount:function(){oe(document.documentElement,"mousedown",this.deselect),oe(document.documentElement,"touchstart",this.handleUp),oe(document.documentElement,"mousemove",this.move),oe(document.documentElement,"touchmove",this.move),oe(document.documentElement,"mouseup",this.handleUp),oe(document.documentElement,"touchend touchcancel",this.deselect),oe(window,"resize",this.checkParentSize)},methods:{correctSize(){this.width<this.minW&&(this.width=this.minW),this.height<this.minH&&(this.height=this.minH),this.height>this.maxH&&(this.height=this.maxH),this.width>this.maxW&&(this.width=this.maxW),Lt(this,"resizestop",this.left,this.top,this.width,this.height)},resetBoundsAndMouseState(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize(){if(this.parent){const[e,n]=this.getParentSize();this.right=e-this.width-this.left,this.bottom=n-this.height-this.top,this.parentWidth=e,this.parentHeight=n}},updateParentSize(){const[e,n]=this.getParentSize();this.parentWidth=e,this.parentHeight=n},getParentSize(){if(this.parent===!0){const e=window.getComputedStyle(this.$el.parentNode,null),n=this.$el.parentNode.getBoundingClientRect();return this.parentX=n.x,this.parentY=n.y,[Math.round(parseFloat(e.getPropertyValue("width"),10)),Math.round(parseFloat(e.getPropertyValue("height"),10))]}if(typeof this.parent=="string"){const e=document.querySelector(this.parent);if(!(e instanceof HTMLElement))throw new Error(`The selector ${this.parent} does not match any element`);return[e.offsetWidth,e.offsetHeight]}return[null,null]},elementTouchDown(e){ae=wn.touch,this.elementDown(e)},elementMouseDown(e){ae=wn.mouse,this.elementDown(e)},elementDown(e){if(e instanceof MouseEvent&&e.which!==1)return;const n=e.target||e.srcElement;if(this.$el.contains(n)){if(this.onDragStart(e)===!1)return;if(this.enabled||(this.enabled=!0,Lt(this,"activated"),Lt(this,"update:active",!0)),this.dragHandle&&!Ir(n,this.dragHandle,this.$el)||this.dragCancel&&Ir(n,this.dragCancel,this.$el)){this.dragging=!1;return}this.draggable&&(this.dragging=!0),this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.mouseClickPosition.width=this.width,this.mouseClickPosition.height=this.height,this.parent&&(this.bounds=this.calcDragLimits()),xe(document.documentElement,ae.move,this.move),xe(document.documentElement,ae.stop,this.handleUp)}},calcDragLimits(){return this.checkParentSize(),this.rotatable?{minLeft:-this.width/2,maxLeft:this.parentWidth-this.width/2,minRight:this.width/2,maxRight:this.parentWidth+this.width/2,minTop:-this.height/2,maxTop:this.parentHeight-this.height/2,minBottom:this.height/2,maxBottom:this.parentHeight+this.height/2}:{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect(e){const n=e.target||e.srcElement,r=new RegExp(this.className+"-([trmbl]{2})","");!this.$el.contains(n)&&!r.test(n.className)&&(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,Lt(this,"deactivated"),Lt(this,"update:active",!1)),oe(document.documentElement,ae.move,this.move)),this.resetBoundsAndMouseState()},handleTouchDown(e,n){ae=wn.touch,this.handleDown(e,n)},handleDown(e,n){if(n instanceof MouseEvent&&n.which!==1||this.onResizeStart(e,n)===!1)return!1;n.stopPropagation&&n.stopPropagation(),this.handle=e,this.handle==="rot"?this.rotating=!0:this.resizing=!0;const r=this.$el.getBoundingClientRect(),{top:a,left:o,width:l,height:t}=r;this.Center.x=window.pageXOffset+o+l/2,this.Center.y=window.pageYOffset+a+t/2;let i=this.left,s=this.top,c=this.width,u=this.height,d=i+c/2,f=s+u/2,h=this.rotate;this.TL=mn(d,f,i,s,h),this.TR=mn(d,f,i+c,s,h),this.BL=mn(d,f,i,s+u,h),this.BR=mn(d,f,i+c,s+u,h),this.mouseClickPosition.mouseX=n.touches?n.touches[0].pageX:n.pageX,this.mouseClickPosition.mouseY=n.touches?n.touches[0].pageY:n.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.mouseClickPosition.width=this.width,this.mouseClickPosition.height=this.height,this.bounds=this.calcResizeLimits(),xe(document.documentElement,ae.move,this.move),xe(document.documentElement,ae.stop,this.handleUp)},calcResizeLimits(){let e=this.minW,n=this.minH,r=this.maxW,a=this.maxH;const[o,l]=this.grid,t=this.width,i=this.height,s=this.left,c=this.top,u=this.right,d=this.bottom;r=r-r%o,a=a-a%l;const f={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(f.minLeft=s,f.maxLeft=s+Math.floor((t-e)/o),f.minTop=c,f.maxTop=c+Math.floor((i-n)/l),f.minRight=u,f.maxRight=u+Math.floor((t-e)/o),f.minBottom=d,f.maxBottom=d+Math.floor((i-n)/l),r&&(f.minLeft=Math.max(f.minLeft,this.parentWidth-u-r),f.minRight=Math.max(f.minRight,this.parentWidth-s-r)),a&&(f.minTop=Math.max(f.minTop,this.parentHeight-d-a),f.minBottom=Math.max(f.minBottom,this.parentHeight-c-a))):(f.minLeft=null,f.maxLeft=s+Math.floor(t-e),f.minTop=null,f.maxTop=c+Math.floor(i-n),f.minRight=null,f.maxRight=u+Math.floor(t-e),f.minBottom=null,f.maxBottom=d+Math.floor(i-n),r&&(f.minLeft=-(u+r),f.minRight=-(s+r)),a&&(f.minTop=-(d+a),f.minBottom=-(c+a)),this.lockAspectRatio&&r&&a&&(f.minLeft=Math.min(f.minLeft,-(u+r)),f.minTop=Math.min(f.minTop,-(a+d)),f.minRight=Math.min(f.minRight,-s-r),f.minBottom=Math.min(f.minBottom,-c-a))),f},move(e){this.resizing?this.handleResize(e):this.dragging?this.handleDrag(e):this.rotating&&this.handleRotate(e)},getMouseCoordinate(e){return e.type.indexOf("touch")!==-1?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.pageX||e.clientX+document.documentElement.scrollLeft,y:e.pageY||e.clientY+document.documentElement.scrollTop}},handleRotate(e){const{x:n,y:r}=this.getMouseCoordinate(e),a=n-this.Center.x,o=r-this.Center.y;this.rotate=(Js(a,o)+90)%360,Lt(this,"rotating",this.rotate)},async handleDrag(e){const n=this.axis,r=this.grid,a=this.bounds,o=this.mouseClickPosition,l=n&&n!=="y"?o.mouseX-(e.touches?e.touches[0].pageX:e.pageX):0,t=n&&n!=="x"?o.mouseY-(e.touches?e.touches[0].pageY:e.pageY):0,[i,s]=Ge(r,l,t,this.scaleRatio),c=Ft(o.left-i,a.minLeft,a.maxLeft),u=Ft(o.top-s,a.minTop,a.maxTop);if(this.onDrag(c,u)===!1)return;const d=Ft(o.right+i,a.minRight,a.maxRight),f=Ft(o.bottom+s,a.minBottom,a.maxBottom);this.left=c,this.top=u,this.right=d,this.bottom=f,await this.snapCheck(),Lt(this,"dragging",this.left,this.top)},moveHorizontally(e){const[n]=Ge(this.grid,e,this.top,this.scale),r=Ft(n,this.bounds.minLeft,this.bounds.maxLeft);this.left=r,this.right=this.parentWidth-this.width-r},moveVertically(e){const[,n]=Ge(this.grid,this.left,e,this.scale),r=Ft(n,this.bounds.minTop,this.bounds.maxTop);this.top=r,this.bottom=this.parentHeight-this.height-r},handleResize(e){const n=this.handle,r=this.scaleRatio,{TL:a,TR:o,BL:l,BR:t}=this;let{x:i,y:s}=this.getMouseCoordinate(e);!this.rotatable&&this.parent&&(i=Ft(i,this.parentX,this.parentX+this.parentWidth*r),s=Ft(s,this.parentY,this.parentY+this.parentHeight*r));let c=i-this.mouseClickPosition.mouseX,u=s-this.mouseClickPosition.mouseY;c=c/r,u=u/r;let d,f,h,p,v,b,y,x,g,m={},S={},w={},M={},$={},A={},E={},D={};if(n.includes("m")){switch(n){case"tm":d=c+(a.x+o.x)/2,f=u+(a.y+o.y)/2,m=l,S=a,w=t,M={x:d-m.x,y:f-m.y},$={x:S.x-m.x,y:S.y-m.y},h=(M.x*$.x+M.y*$.y)/(Math.pow($.x,2)+Math.pow($.y,2)),E={x:w.x-m.x,y:w.y-m.y},D={x:$.x*h,y:$.y*h};break;case"bm":d=c+(l.x+t.x)/2,f=u+(l.y+t.y)/2,m=a,S=l,w=o,M={x:d-m.x,y:f-m.y},$={x:S.x-m.x,y:S.y-m.y},h=(M.x*$.x+M.y*$.y)/(Math.pow($.x,2)+Math.pow($.y,2)),E={x:w.x-m.x,y:w.y-m.y},D={x:$.x*h,y:$.y*h};break;case"ml":d=c+(a.x+l.x)/2,f=u+(a.y+l.y)/2,m=t,S=l,w=o,M={x:d-m.x,y:f-m.y},$={x:S.x-m.x,y:S.y-m.y},h=(M.x*$.x+M.y*$.y)/(Math.pow($.x,2)+Math.pow($.y,2)),D={x:w.x-m.x,y:w.y-m.y},E={x:$.x*h,y:$.y*h};break;case"mr":d=c+(o.x+o.x)/2,f=u+(o.y+o.y)/2,m=l,S=t,w=a,M={x:d-m.x,y:f-m.y},$={x:S.x-m.x,y:S.y-m.y},h=(M.x*$.x+M.y*$.y)/(Math.pow($.x,2)+Math.pow($.y,2)),D={x:w.x-m.x,y:w.y-m.y},E={x:$.x*h,y:$.y*h};break}b=m.x+(E.x+D.x)/2,y=m.y+(E.y+D.y)/2,x=Math.sqrt(Math.pow(E.x,2)+Math.pow(E.y,2)),g=Math.sqrt(Math.pow(D.x,2)+Math.pow(D.y,2))}else{switch(n){case"tl":d=c+a.x,f=u+a.y,m=t,S=l,w=o;break;case"tr":d=c+o.x,f=u+o.y,m=l,S=t,w=a;break;case"bl":d=c+l.x,f=u+l.y,m=o,S=a,w=t;break;case"br":d=c+t.x,f=u+t.y,m=a,S=o,w=l;break}M={x:d-m.x,y:f-m.y},$={x:S.x-m.x,y:S.y-m.y},A={x:w.x-m.x,y:w.y-m.y},p=(M.x*$.x+M.y*$.y)/(Math.pow($.x,2)+Math.pow($.y,2)),v=(M.x*A.x+M.y*A.y)/(Math.pow(A.x,2)+Math.pow(A.y,2)),E={x:$.x*p,y:$.y*p},D={x:A.x*v,y:A.y*v},b=m.x+(E.x+D.x)/2,y=m.y+(E.y+D.y)/2,x=Math.sqrt(Math.pow(E.x,2)+Math.pow(E.y,2)),g=Math.sqrt(Math.pow(D.x,2)+Math.pow(D.y,2))}this.left=b-x/2,this.top=y-g/2,x=Ft(x,this.minW||0,this.maxW),g=Ft(g,this.minH||0,this.maxH),this.parent&&(x=Ft(x,0,this.parentWidth),g=Ft(g,0,this.parentHeight)),this.lockAspectRatio&&(x/g>this.aspectFactor?x=g*this.aspectFactor:g=x/this.aspectFactor),this.width=x,this.height=g,Lt(this,"resizing",this.left,this.top,this.width,this.height)},changeWidth(e){const[n]=Ge(this.grid,e,0,this.scale),r=this.parentWidth-n-this.left;let a=this.bottom;this.lockAspectRatio&&(a=this.bottom-(this.right-r)/this.aspectFactor);const o=Cr(this.parentWidth,this.left,r),l=Or(this.parentHeight,this.top,a);this.right=r,this.bottom=a,this.width=o,this.height=l},changeHeight(e){const[,n]=Ge(this.grid,0,e,this.scale),r=this.parentHeight-n-this.top;let a=this.right;this.lockAspectRatio&&(a=this.right-(this.bottom-r)*this.aspectFactor);const o=Cr(this.parentWidth,this.left,a),l=Or(this.parentHeight,this.top,r);this.right=a,this.bottom=r,this.width=o,this.height=l},async handleUp(e){this.handle=null;const n=new Array(3).fill({display:!1,position:"",origin:"",lineLength:""}),r={vLine:[],hLine:[]};for(const l in r)r[l]=JSON.parse(JSON.stringify(n));const{x:a,y:o}=this.getMouseCoordinate(e);this.lastMouseX=a,this.lastMouseY=o,this.resizing&&(this.resizing=!1,await this.conflictCheck(),Lt(this,"refLineParams",r),Lt(this,"resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,await this.conflictCheck(),Lt(this,"refLineParams",r),Lt(this,"dragstop",this.left,this.top)),this.rotating&&(this.rotating=!1,Lt(this,"rotatestop",this.rotate)),this.resetBoundsAndMouseState(),oe(document.documentElement,ae.move,this.move)},settingAttribute(){this.$el.setAttribute("data-is-check",`${this.isConflictCheck}`),this.$el.setAttribute("data-is-snap",`${this.snap}`)},conflictCheck(){const e=this.top,n=this.left,r=this.width,a=this.height;if(this.isConflictCheck){const o=this.$el.parentNode.childNodes;for(const l of o)if(l.className!==void 0&&!l.className.split(" ").includes(this.classNameActive)&&l.getAttribute("data-is-check")!==null&&l.getAttribute("data-is-check")!=="false"){const t=l.offsetWidth,i=l.offsetHeight,[s,c]=this.formatTransformVal(l.style.transform),u=e>=c&&n>=s&&c+i>e&&s+t>n||e<=c&&n<s&&e+a>c&&n+r>s,d=n<=s&&e>=c&&n+r>s&&e<c+i||e<c&&n>s&&e+a>c&&n<s+t,f=e<=c&&n>=s&&e+a>c&&n<s+t||e>=c&&n<=s&&e<c+i&&n>s+t,h=e<=c&&n>=s&&e+a>c&&n<s+t||e>=c&&n<=s&&e<c+i&&n>s+t,p=n>=s&&e>=c&&n<s+t&&e<c+i||e>c&&n<=s&&n+r>s&&e<c+i,v=e<=c&&n>=s&&e+a>c&&n<s+t||e>=c&&n<=s&&e<c+i&&n+r>s;(u||d||f||h||p||v)&&(this.top=this.mouseClickPosition.top,this.left=this.mouseClickPosition.left,this.width=this.mouseClickPosition.width,this.height=this.mouseClickPosition.height)}}},async snapCheck(){if(this.snap){let e=this.width,n=this.height,r=this.left,a=this.left+e,o=this.top,l=this.top+n;const t=new Array(3).fill({display:!1,position:"",origin:"",lineLength:""}),i={vLine:[],hLine:[]};for(const v in i)i[v]=JSON.parse(JSON.stringify(t));const s={value:{x:[[],[],[]],y:[[],[],[]]},display:[],position:[]},c=this.$el.parentNode.childNodes,{groupWidth:u,groupHeight:d,groupLeft:f,groupTop:h,bln:p}=await this.getActiveAll(c);p||(e=u,n=d,r=f,a=f+u,o=h,l=h+d);for(const v of c)if(v.className!==void 0&&!v.className.split(" ").includes(this.classNameActive)&&v.getAttribute("data-is-snap")!==null&&v.getAttribute("data-is-snap")!=="false"){const[b,y,x]=this.formatTransformVal(v.style.transform);if((x-this.rotate)%90===0){const g=v.offsetWidth,m=v.offsetHeight,S=b+g,w=y+m,M=Math.abs(o+n/2-(y+m/2))<=this.snapTolerance,$=Math.abs(r+e/2-(b+g/2))<=this.snapTolerance,A=Math.abs(y-l)<=this.snapTolerance,E=Math.abs(w-l)<=this.snapTolerance,D=Math.abs(y-o)<=this.snapTolerance,N=Math.abs(w-o)<=this.snapTolerance,P=Math.abs(b-a)<=this.snapTolerance,R=Math.abs(S-a)<=this.snapTolerance,U=Math.abs(b-r)<=this.snapTolerance,F=Math.abs(S-r)<=this.snapTolerance;s.display=[A,E,D,N,M,M,P,R,U,F,$,$],s.position=[y,w,y,w,y+m/2,y+m/2,b,S,b,S,b+g/2,b+g/2],p&&(A&&(this.top=y-n,this.bottom=this.parentHeight-this.top-n,s.value.y[0].push(b,S,r,a)),D&&(this.top=y,this.bottom=this.parentHeight-this.top-n,s.value.y[0].push(b,S,r,a)),E&&(this.top=w-n,this.bottom=this.parentHeight-this.top-n,s.value.y[1].push(b,S,r,a)),N&&(this.top=w,this.bottom=this.parentHeight-this.top-n,s.value.y[1].push(b,S,r,a)),P&&(this.left=b-e,this.right=this.parentWidth-this.left-e,s.value.x[0].push(y,w,o,l)),U&&(this.left=b,this.right=this.parentWidth-this.left-e,s.value.x[0].push(y,w,o,l)),R&&(this.left=S-e,this.right=this.parentWidth-this.left-e,s.value.x[1].push(y,w,o,l)),F&&(this.left=S,this.right=this.parentWidth-this.left-e,s.value.x[1].push(y,w,o,l)),M&&(this.top=y+m/2-n/2,this.bottom=this.parentHeight-this.top-n,s.value.y[2].push(b,S,r,a)),$&&(this.left=b+g/2-e/2,this.right=this.parentWidth-this.left-e,s.value.x[2].push(y,w,o,l)),this.snapBorder&&(Math.abs(this.left-0)<=this.snapTolerance&&(this.left=0,this.right=this.parentWidth-this.left-e),Math.abs(this.right-0)<=this.snapTolerance&&(this.right=0,this.left=this.parentWidth-this.width-this.right),Math.abs(this.top-0)<=this.snapTolerance&&(this.top=0,this.bottom=this.parentHeight-this.top-n),Math.abs(this.bottom-0)<=this.snapTolerance&&(this.bottom=0,this.top=this.parentHeight-this.bottom-n)));let H=this.bounds;this.left=Ft(this.left,H.minLeft,H.maxLeft),this.top=Ft(this.top,H.minTop,H.maxTop),this.right=Ft(this.right,H.minRight,H.maxRight),this.bottom=Ft(this.bottom,H.minBottom,H.maxBottom);const J=[0,1,0,1,2,2,0,1,0,1,2,2];for(let rt=0;rt<=J.length;rt++){const ft=rt<6?"y":"x",ut=rt<6?"hLine":"vLine";if(s.display[rt]){const{origin:pt,length:mt}=this.calcLineValues(s.value[ft][J[rt]]);i[ut][J[rt]].display=s.display[rt],i[ut][J[rt]].position=s.position[rt]+"px",i[ut][J[rt]].origin=pt,i[ut][J[rt]].lineLength=mt}}}}Lt(this,"refLineParams",i)}},calcLineValues(e){const n=Math.max(...e)-Math.min(...e)+"px",r=Math.min(...e)+"px";return{length:n,origin:r}},async getActiveAll(e){const n=[],r=[],a=[];let o=0,l=0,t=0,i=0;for(const u of e)u.className!==void 0&&u.className.split(" ").includes(this.classNameActive)&&n.push(u);const s=n.length;if(s>1){for(const u of n){const d=u.offsetLeft,f=d+u.offsetWidth,h=u.offsetTop,p=h+u.offsetHeight;r.push(d,f),a.push(h,p)}o=Math.max(...r)-Math.min(...r),l=Math.max(...a)-Math.min(...a),t=Math.min(...r),i=Math.min(...a)}return{groupWidth:o,groupHeight:l,groupLeft:t,groupTop:i,bln:s===1}},formatTransformVal(e){let[n,r,a=0]=e.match(/[\d|.]+/g);return r===void 0&&(r=0),[Number(n),Number(r),a]}},emits:["update:active","rotating","dragging","resizing","refLineParams","resizestop","dragstop","rotatestop","activated","deactivated"]};const qs=["onMousedown","onTouchstart"];function _s(e,n,r,a,o,l){return Q(),tt("div",{style:nn(l.style),class:Jt([{[r.classNameActive]:e.enabled,[r.classNameDragging]:e.dragging,[r.classNameResizing]:e.resizing,[r.classNameDraggable]:r.draggable,[r.classNameResizable]:r.resizable,[r.classNameRotating]:e.rotating,[r.classNameRotatable]:r.rotatable},r.className]),onMousedown:n[0]||(n[0]=(...t)=>l.elementMouseDown&&l.elementMouseDown(...t)),onTouchstart:n[1]||(n[1]=(...t)=>l.elementTouchDown&&l.elementTouchDown(...t))},[(Q(!0),tt(se,null,Ee(l.actualHandles,(t,i)=>(Q(),tt("div",{key:i,class:Jt([r.classNameHandle,r.classNameHandle+"-"+t]),style:nn(l.handleStyle(t,i)),onMousedown:ot(s=>l.handleDown(t,s),["stop","prevent"]),onTouchstart:ot(s=>l.handleTouchDown(t,s),["stop","prevent"])},[qn(e.$slots,t)],46,qs))),128)),qn(e.$slots,"default")],38)}Me.render=_s;Me.__scopeId="data-v-3c286975";Me.__file="src/components/vue-drag-resize-rotate/index.vue";function or(e){or.installed||(or.installed=!0,e.component("VueDragResizeRotate",Me))}Me.install=or;function tl(e){return $r()?(Nr(e),!0):!1}function to(e){return typeof e=="function"?e():zt(e)}const eo=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const el=Object.prototype.toString,nl=e=>el.call(e)==="[object Object]",Tn=()=>{},rl=ol();function ol(){var e,n;return eo&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Je(e){var n;const r=to(e);return(n=r==null?void 0:r.$el)!=null?n:r}const no=eo?window:void 0;function Qn(...e){let n,r,a,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,a,o]=e,n=no):[n,r,a,o]=e,!n)return Tn;Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]);const l=[],t=()=>{l.forEach(u=>u()),l.length=0},i=(u,d,f,h)=>(u.addEventListener(d,f,h),()=>u.removeEventListener(d,f,h)),s=ir(()=>[Je(n),to(o)],([u,d])=>{if(t(),!u)return;const f=nl(d)?{...d}:d;l.push(...r.flatMap(h=>a.map(p=>i(u,h,p,f))))},{immediate:!0,flush:"post"}),c=()=>{s(),t()};return tl(c),c}let Ar=!1;function al(e,n,r={}){const{window:a=no,ignore:o=[],capture:l=!0,detectIframe:t=!1}=r;if(!a)return Tn;rl&&!Ar&&(Ar=!0,Array.from(a.document.body.children).forEach(f=>f.addEventListener("click",Tn)),a.document.documentElement.addEventListener("click",Tn));let i=!0;const s=f=>o.some(h=>{if(typeof h=="string")return Array.from(a.document.querySelectorAll(h)).some(p=>p===f.target||f.composedPath().includes(p));{const p=Je(h);return p&&(f.target===p||f.composedPath().includes(p))}}),u=[Qn(a,"click",f=>{const h=Je(e);if(!(!h||h===f.target||f.composedPath().includes(h))){if(f.detail===0&&(i=!s(f)),!i){i=!0;return}n(f)}},{passive:!0,capture:l}),Qn(a,"pointerdown",f=>{const h=Je(e);i=!s(f)&&!!(h&&!f.composedPath().includes(h))},{passive:!0}),t&&Qn(a,"blur",f=>{setTimeout(()=>{var h;const p=Je(e);((h=a.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(p!=null&&p.contains(a.document.activeElement))&&n(f)},0)})].filter(Boolean);return()=>u.forEach(f=>f())}const il=e=>["h1","h2","h3","h4","h5","h6","p","blockquote","div","dd","dl","dt","figcaption","figure","ol","ul","li","pre"].includes(e),sl=e=>["a","b","i","q","s","u","abbr","bdi","cite","code","kbd","mark","data","time","dfn","em","strong","samp","ruby","rp","rt","sub","sup","wbr","small","big"].includes(e),ro=e=>il(e)||sl(e),ll=()=>{let e=window.getSelection(),n,r;return e&&e.rangeCount>0&&(n=e.getRangeAt(0),r=n.cloneContents()),r},cl=new XMLSerializer,Ae=(e,n)=>document.execCommand("insertHTML",!1,e+cl.serializeToString(ll()).replace(/xmlns="[\w\/\.:]*?"/g,"")+n),ul={},dl={xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"21",viewBox:"0 -2 24 24",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-type"},fl=O("polyline",{points:"4 7 4 4 20 4 20 7"},null,-1),hl=O("line",{x1:"9",y1:"20",x2:"15",y2:"20"},null,-1),pl=O("line",{x1:"12",y1:"4",x2:"12",y2:"20"},null,-1),gl=[fl,hl,pl];function vl(e,n){return Q(),tt("svg",dl,gl)}const ml=Bt(ul,[["render",vl]]),yl={},bl={xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"21",viewBox:"0 -2 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-type"},xl=O("path",{d:"M 4 7 L 4 4 L 20 4 L 20 7 M 9 20 L 15 20 M 12 4 L 12 20 M 15 13 L 15 14 M 15 13 L 21 13 L 21 14 M 18 13 L 18 19 M 17 19 L 19 19"},null,-1),Sl=[xl];function El(e,n){return Q(),tt("svg",bl,Sl)}const wl=Bt(yl,[["render",El]]),Tl={},Cl={xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"21",viewBox:"0 -2 24 24",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-type"},Ol=ar('<polyline points="2 7 2 4 15 4 15 7"></polyline><line x1="7" y1="20" x2="10" y2="20"></line><line x1="9" y1="4" x2="9" y2="20"></line><line x1="21" y1="4" x2="21" y2="22"></line><polyline points="19 4 21 0 23 4"></polyline>',5),Il=[Ol];function Al(e,n){return Q(),tt("svg",Cl,Il)}const Pl=Bt(Tl,[["render",Al]]),Dl={},Rl={xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"21",viewBox:"0 -2 24 24",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-type"},$l=ar('<polyline points="2 7 2 4 15 4 15 7"></polyline><line x1="7" y1="20" x2="10" y2="20"></line><line x1="9" y1="4" x2="9" y2="20"></line><line x1="21" y1="4" x2="21" y2="22"></line><polyline points="19 18 21 22 23 18"></polyline>',5),Ml=[$l];function Nl(e,n){return Q(),tt("svg",Rl,Ml)}const Ll=Bt(Dl,[["render",Nl]]),Fl={},jl={"aria-hidden":"true","data-prefix":"fas","data-icon":"layer-plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"21",height:"21"},Bl=O("path",{fill:"currentColor",d:"M304 144h64v64c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-64h64c8.84 0 16-7.16 16-16V96c0-8.84-7.16-16-16-16h-64V16c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v64h-64c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16zm195.59 220.1l-58.54-26.53-161.19 73.06c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.95 337.57 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40zM12.41 275.9l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L448 299.28V280.7c-15.32 4.38-31.27 7.29-48 7.29-88.01 0-160.72-64.67-173.72-149.04L12.41 235.9c-16.55 7.5-16.55 32.5 0 40z",class:""},null,-1),Hl=[Bl];function zl(e,n){return Q(),tt("svg",jl,Hl)}const Ul=Bt(Fl,[["render",zl]]),Wl={},Gl={"aria-hidden":"true","data-prefix":"fas","data-icon":"layer-minus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"21",height:"21"},Vl=O("path",{fill:"currentColor",d:"M12.41 276.3l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40L266.65 130.72a25.682 25.682 0 0 0-21.29 0L12.41 236.3c-16.55 7.5-16.55 32.5 0 40zM304 64h192c8.84 0 16-7.16 16-16V16c0-8.84-7.16-16-16-16H304c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16zm195.59 300.1l-58.09-26.33-161.63 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 337.77l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z",class:""},null,-1),Xl=[Vl];function Kl(e,n){return Q(),tt("svg",Gl,Xl)}const Yl=Bt(Wl,[["render",Kl]]),gt=e=>(Nn("data-v-97ec9cb9"),e=e(),Mn(),e),Jl=gt(()=>O("i",{class:"fa-solid fa-bold"},null,-1)),Zl=[Jl],Ql=gt(()=>O("i",{class:"fa-solid fa-italic"},null,-1)),kl=[Ql],ql={class:"underline"},_l={key:0,class:"underline-container"},tc=gt(()=>O("span",{style:{"text-decoration":"underline double"}},"T",-1)),ec=[tc],nc=gt(()=>O("span",{style:{"text-decoration":"underline dotted"}},"T",-1)),rc=[nc],oc=gt(()=>O("span",{style:{"text-decoration":"underline dashed"}},"T",-1)),ac=[oc],ic=gt(()=>O("span",{style:{"text-decoration":"underline wavy"}},"T",-1)),sc=[ic],lc=gt(()=>O("i",{class:"fa-solid fa-align-left"},null,-1)),cc=[lc],uc=gt(()=>O("i",{class:"fa-solid fa-align-center"},null,-1)),dc=[uc],fc=gt(()=>O("i",{class:"fa-solid fa-align-right"},null,-1)),hc=[fc],pc=gt(()=>O("i",{class:"fa-solid fa-align-justify"},null,-1)),gc=[pc],vc=gt(()=>O("i",{class:"fa-solid fa-strikethrough"},null,-1)),mc=[vc],yc=gt(()=>O("i",{class:"fa-solid fa-subscript"},null,-1)),bc=[yc],xc=gt(()=>O("i",{class:"fa-solid fa-superscript"},null,-1)),Sc=[xc],Ec={class:"font-color"},wc={class:"font-color"},Tc={class:"font-size"},Cc=gt(()=>O("i",{class:"text-span fa-solid fa-chevron-right fa-2xs"},null,-1)),Oc={key:0,class:"text-container"},Ic=gt(()=>O("i",{class:"fa-solid fa-minus"},null,-1)),Ac=[Ic],Pc=gt(()=>O("i",{class:"fa-solid fa-plus"},null,-1)),Dc=[Pc],Rc={class:"font-width"},$c=gt(()=>O("i",{class:"fa-solid fa-text-width"},null,-1)),Mc=gt(()=>O("i",{class:"width-span fa-solid fa-chevron-right fa-2xs"},null,-1)),Nc=[$c,Mc],Lc={key:0,class:"width-container"},Fc=gt(()=>O("i",{class:"fa-solid fa-check"},null,-1)),jc=[Fc],Bc=gt(()=>O("i",{class:"fa-solid fa-minus"},null,-1)),Hc=[Bc],zc=gt(()=>O("i",{class:"fa-solid fa-plus"},null,-1)),Uc=[zc],Wc={class:"font-height"},Gc=gt(()=>O("i",{class:"fa-solid fa-text-height"},null,-1)),Vc=gt(()=>O("i",{class:"height-span fa-solid fa-chevron-right fa-2xs"},null,-1)),Xc=[Gc,Vc],Kc={key:0,class:"height-container"},Yc=gt(()=>O("i",{class:"fa-solid fa-check"},null,-1)),Jc=[Yc],Zc=gt(()=>O("i",{class:"fa-solid fa-minus"},null,-1)),Qc=[Zc],kc=gt(()=>O("i",{class:"fa-solid fa-plus"},null,-1)),qc=[kc],_c=gt(()=>O("i",{class:"fa-solid fa-trash",style:{color:"red"}},null,-1)),tu=[_c],eu=ce({__name:"TextFormat",props:{update:Object},emits:["delete","styles"],setup(e,{emit:n}){rn(x=>({"7c396b24":d.value,"4d6aa75a":p.value,"5d69598c":h.value,"7984d90c":v.value,"56edc82d":b.value}));const r=e,a=n,o=k(!1),l=k(null),t=k(24),i=k(0),s=k(0),c=k(""),u=k(""),d=k("#FF0000"),f=k("#FF0000"),h=k(0),p=k(0),v=k(0),b=k(0),y=(x,...g)=>{switch(a("styles"),x){case"increaseFontSize":Ae('<span class="igx-bigger-font-size">',"</span>");break;case"decreaseFontSize":Ae('<span class="igx-smaller-font-size">',"</span>");break;case"setFontSize":Ae(`<span style="font-size: ${g[0]}pt" >`,"</span>");break;case"customUnderline":document.execCommand("backColor",!1,g[0]);break;case"textColor":document.execCommand("foreColor",!1,g[0]);break;case"fillColor":u.value==="div"?document.getElementById(c.value).style.backgroundColor=g[0]:Ae(`<span style="background-color: ${g[0]}" >`,"</span>");break;case"setFontWidth":Ae(`<span style="letter-spacing: ${g[0]}pt" >`,"</span>");break;case"setFontHeight":Ae(`<span style="line-height: ${g[0]}" >`,"</span>");break;case"moveUp":let m=Number(document.getElementById(c.value).style.zIndex);document.getElementById(c.value).style.zIndex=String(m+1);break;case"moveDown":let S=Number(document.getElementById(c.value).style.zIndex);document.getElementById(c.value).style.zIndex=String(S-1);break;default:document.execCommand(x)}};return al(l,x=>{var g,m,S,w;((g=document.querySelector(":focus"))==null?void 0:g.id)===((m=r.update)==null?void 0:m.id)&&((S=r.update)!=null&&S.id)||(w=l.value)!=null&&w.style&&(l.value.style.transform="translate(-50%, -50%) rotateX(90deg)")}),Ln(()=>{var S,w,M,$;if(!((S=l.value)!=null&&S.style)||!((w=r.update)!=null&&w.tag&&((M=r.update)!=null&&M.id)))return;c.value=r.update.id,u.value=r.update.tag,o.value=ro(r.update.tag);let{left:x,top:g,width:m}=(($=document.getElementById(r.update.id))==null?void 0:$.getBoundingClientRect())??{};x??(x=0),g??(g=0),m??(m=0),l.value.style.display="flex",l.value.style.top=`${g-50}px`,l.value.style.left=`${x+m/2}px`,l.value.style.transform="translate(-50%, -50%) rotateX(0deg)"}),(x,g)=>(Q(),tt("div",{class:"box",ref_key:"box",ref:l},[ie(O("div",null,[O("button",{onClick:g[0]||(g[0]=ot(m=>y("bold"),["prevent"]))},Zl),O("button",{onClick:g[1]||(g[1]=ot(m=>y("italic"),["prevent"]))},kl),O("div",ql,[O("button",null,[O("i",{onClick:g[2]||(g[2]=ot(m=>y("underline"),["prevent"])),class:"fa-solid fa-underline"}),O("i",{onClick:g[3]||(g[3]=ot(m=>h.value=+!h.value,["prevent"])),class:"underline-span fa-solid fa-chevron-right fa-2xs"})]),h.value?(Q(),tt("div",_l,[O("button",{class:"inner",onClick:g[4]||(g[4]=ot(m=>y("customUnderline","double"),["prevent"]))},ec),O("button",{class:"inner",onClick:g[5]||(g[5]=ot(m=>y("customUnderline","dotted"),["prevent"]))},rc),O("button",{class:"inner",onClick:g[6]||(g[6]=ot(m=>y("customUnderline","dashed"),["prevent"]))},ac),O("button",{class:"inner",onClick:g[7]||(g[7]=ot(m=>y("customUnderline","wavy"),["prevent"]))},sc)])):De("",!0)]),O("button",{onClick:g[8]||(g[8]=ot(m=>y("justifyLeft"),["prevent"]))},cc),O("button",{onClick:g[9]||(g[9]=ot(m=>y("justifyCenter"),["prevent"]))},dc),O("button",{onClick:g[10]||(g[10]=ot(m=>y("justifyRight"),["prevent"]))},hc),O("button",{onClick:g[11]||(g[11]=ot(m=>y("justifyFull"),["prevent"]))},gc),O("button",{onClick:g[12]||(g[12]=ot(m=>y("strikeThrough"),["prevent"]))},mc),O("button",{onClick:g[13]||(g[13]=ot(m=>y("subscript"),["prevent"]))},bc),O("button",{onClick:g[14]||(g[14]=ot(m=>y("superscript"),["prevent"]))},Sc),O("button",Ec,[O("i",{onClick:g[15]||(g[15]=ot(m=>y("textColor",d.value),["prevent"])),class:"fa-solid fa-font"}),ie(O("input",{type:"color","onUpdate:modelValue":g[16]||(g[16]=m=>d.value=m)},null,512),[[he,d.value]])]),O("button",wc,[O("i",{onClick:g[17]||(g[17]=ot(m=>y("fillColor",f.value),["prevent"])),class:"fa-solid fa-fill-drip fa-sm"}),ie(O("input",{type:"color","onUpdate:modelValue":g[18]||(g[18]=m=>f.value=m)},null,512),[[he,f.value]])]),O("div",Tc,[O("button",{class:"inner",onClick:g[19]||(g[19]=ot(m=>p.value=+!p.value,["prevent"]))},[xt(ml),Cc]),p.value?(Q(),tt("div",Oc,[O("button",{class:"inner",onClick:g[20]||(g[20]=ot(m=>y("setFontSize",t.value),["prevent"]))},[xt(wl)]),O("button",{class:"inner",onClick:g[21]||(g[21]=ot(m=>t.value--,["prevent"]))},Ac),ie(O("input",{type:"number",value:"24","onUpdate:modelValue":g[22]||(g[22]=m=>t.value=m)},null,512),[[he,t.value]]),O("button",{class:"inner",onClick:g[23]||(g[23]=ot(m=>t.value++,["prevent"]))},Dc),O("button",{class:"inner",onClick:g[24]||(g[24]=ot(m=>y("increaseFontSize"),["prevent"]))},[xt(Pl)]),O("button",{class:"inner",onClick:g[25]||(g[25]=ot(m=>y("decreaseFontSize"),["prevent"]))},[xt(Ll)])])):De("",!0)]),O("div",Rc,[O("button",{class:"inner",onClick:g[26]||(g[26]=ot(m=>v.value=+!v.value,["prevent"]))},Nc),v.value?(Q(),tt("div",Lc,[O("button",{class:"inner",onClick:g[27]||(g[27]=ot(m=>y("setFontWidth",i.value),["prevent"]))},jc),O("button",{class:"inner",onClick:g[28]||(g[28]=ot(m=>i.value-=.1,["prevent"]))},Hc),ie(O("input",{type:"number",value:"2.5","onUpdate:modelValue":g[29]||(g[29]=m=>i.value=m)},null,512),[[he,i.value]]),O("button",{class:"inner",onClick:g[30]||(g[30]=ot(m=>i.value+=.1,["prevent"]))},Uc)])):De("",!0)]),O("div",Wc,[O("button",{class:"inner",onClick:g[31]||(g[31]=ot(m=>b.value=+!b.value,["prevent"]))},Xc),b.value?(Q(),tt("div",Kc,[O("button",{class:"inner",onClick:g[32]||(g[32]=ot(m=>y("setFontHeight",s.value),["prevent"]))},Jc),O("button",{class:"inner",onClick:g[33]||(g[33]=ot(m=>s.value-=.1,["prevent"]))},Qc),ie(O("input",{type:"number",value:"2.5","onUpdate:modelValue":g[34]||(g[34]=m=>s.value=m)},null,512),[[he,s.value]]),O("button",{class:"inner",onClick:g[35]||(g[35]=ot(m=>s.value+=.1,["prevent"]))},qc)])):De("",!0)])],512),[[Fr,o.value]]),O("div",null,[O("button",{onClick:g[36]||(g[36]=ot(m=>x.$emit("delete",c.value),["prevent"]))},tu),O("button",{onClick:g[37]||(g[37]=ot(m=>y("moveUp"),["prevent"]))},[xt(Ul)]),O("button",{onClick:g[38]||(g[38]=ot(m=>y("moveDown"),["prevent"]))},[xt(Yl)])])],512))}}),nu=Bt(eu,[["__scopeId","data-v-97ec9cb9"]]),ru={ref:"ctx",class:"ctx",id:"slide_edit_ctx"},ou=ce({__name:"InnerEditor",props:{data:Object,width:Number,height:Number,class:String,log:String},emits:["drag","resize","content","rotate","delete","styles"],setup(e,{emit:n}){rn(u=>({"866e3af4":e.width,"7af71732":e.height}));const r=k({}),a=n,o=(u,d,f)=>{a("drag",u,d,f[0].id)},l=(u,d,f,h,p)=>{a("resize",u,d,f,h,p[0].id)},t=(u,d)=>{a("rotate",u,d[0].id)},i=u=>{const d=u.target;a("content",d.innerHTML,Ks(),d.id)},s=()=>{Array.from(document.getElementsByClassName("handle-rot")).forEach(u=>{u.style.display="block"})},c=u=>{u.code==="Delete"&&a("delete",u.target.id)};return(u,d)=>{var f;return Q(),tt(se,null,[xt(nu,{update:r.value,onDelete:d[0]||(d[0]=h=>u.$emit("delete",h)),onStyles:d[1]||(d[1]=h=>u.$emit("styles"))},null,8,["update"]),O("div",ru,[(Q(!0),tt(se,null,Ee((f=e.data)==null?void 0:f.content,(h,p)=>(Q(),Cn(zt(Me),{onKeydown:c,onDragstop:(v,b)=>o(v,b,u.$refs[`draggable${p}`]),onResizestop:(v,b,y,x)=>l(v,b,y,x,u.$refs[`draggable${p}`]),onRotatestop:v=>t(v,u.$refs[`draggable${p}`]),onActivated:s,x:h.position.x,"onUpdate:x":v=>h.position.x=v,y:h.position.y,"onUpdate:y":v=>h.position.y=v,w:h.position.w,"onUpdate:w":v=>h.position.w=v,h:h.position.h,"onUpdate:h":v=>h.position.h=v,r:h.position.r,"onUpdate:r":v=>h.position.r=v},{default:Fn(()=>[(Q(),Cn(Lr(h.tag),Mr({ref_for:!0,ref:`draggable${p}`,id:h.id,style:{...h.styles,color:"black","text-align":"center"}},h.attrs,{innerHTML:h.content,contenteditable:"",class:"no-focus full",onFocus:v=>r.value={tag:h.tag,id:h.id},onBlur:d[2]||(d[2]=v=>{i(v),r.value={}})}),null,16,["id","style","innerHTML","onFocus"]))]),_:2},1032,["onDragstop","onResizestop","onRotatestop","x","onUpdate:x","y","onUpdate:y","w","onUpdate:w","h","onUpdate:h","r","onUpdate:r"]))),256))],512)],64)}}}),au=Bt(ou,[["__scopeId","data-v-4a78fcdc"]]),oo={generate_layouts:()=>`
    Make a basic presentation layout with this syntax:
    't' for text
    'i' for images
    'c' for charts
    'h' and 'v' for horizontal and vertical
    Say, h{ttt} would be A|B|C.
    h{tv{it}} is A|B where B is an image and text stack on top of each other.
    '^' for random position and '%' for random rotation.
    '%^t' and '%h{tt}' for example.
    No other characters are valid except: t, i, c, h, v, {, }, ^ and %
    NO OTHER CHARACTERS ARE VALID EXCEPT: 't', 'i', 'c', 'h', 'v', '{', '}', '^' and '%'.
    NO EXTRA STRINGS, ONLY LAYOUTS.
    If you understand, only respond with this syntax and please put the each layout in between '$'.
    example: $h{ttt}$ and $%^v{th{it}}$
    `,generate_text:e=>`
    Make an easy and concise explanation of ${e}.
    `},Pr=async(e,n,r=!0)=>await(await fetch("https://api-inference.huggingface.co/models/mistralai/Mixtral-8x7B-Instruct-v0.1",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({inputs:e,options:{use_cache:r}})})).json(),ao=(e,n=!0)=>({async text_gen(r,a=!0){let o=`<s>[INST]${r}[/INST]`,l=(await Pr(o,e,n))[0].generated_text;for(;o!=l;)o=l,l=(await Pr(o,e,n))[0].generated_text;return a?l.slice(l.search(/\[\/INST\]/)+7):l+"</s>"}}),iu=async()=>(await ao("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").text_gen(oo.generate_layouts())).match(/\$[\{\}cithv%\^]+\$/g),su=async e=>(await ao("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",!1).text_gen(oo.generate_text(e))).replaceAll(`Make an easy and concise explanation of ${e}.`,""),lu=async e=>{const r=await(await fetch(`https://api.unsplash.com/search/photos?client_id=Xf4ZlNm_NuY-zJ0scF1bNZv8Eb0KiLp_Qdqn6mBZGy4&query=${e}&page=1&per_page=20`)).json(),a=Math.floor(Math.random()*20),o=r.results[a].urls.raw;return console.log(o),o},Dr=function(){function e(o,l){function t(){this.constructor=o}t.prototype=l.prototype,o.prototype=new t}function n(o,l,t,i){var s=Error.call(this,o);return Object.setPrototypeOf&&Object.setPrototypeOf(s,n.prototype),s.expected=l,s.found=t,s.location=i,s.name="SyntaxError",s}e(n,Error);function r(o,l,t){return t=t||" ",o.length>l?o:(l-=o.length,t+=t.repeat(l),o+t.slice(0,l))}n.prototype.format=function(o){var l="Error: "+this.message;if(this.location){var t=null,i;for(i=0;i<o.length;i++)if(o[i].source===this.location.source){t=o[i].text.split(/\r\n|\n|\r/g);break}var s=this.location.start,c=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(s):s,u=this.location.source+":"+c.line+":"+c.column;if(t){var d=this.location.end,f=r("",c.line.toString().length," "),h=t[s.line-1],p=s.line===d.line?d.column:h.length+1,v=p-s.column||1;l+=`
 --> `+u+`
`+f+` |
`+c.line+" | "+h+`
`+f+" | "+r("",s.column-1," ")+r("",v,"^")}else l+=`
 at `+u}return l},n.buildMessage=function(o,l){var t={literal:function(h){return'"'+s(h.text)+'"'},class:function(h){var p=h.parts.map(function(v){return Array.isArray(v)?c(v[0])+"-"+c(v[1]):c(v)});return"["+(h.inverted?"^":"")+p.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(h){return h.description}};function i(h){return h.charCodeAt(0).toString(16).toUpperCase()}function s(h){return h.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+i(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+i(p)})}function c(h){return h.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(p){return"\\x0"+i(p)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(p){return"\\x"+i(p)})}function u(h){return t[h.type](h)}function d(h){var p=h.map(u),v,b;if(p.sort(),p.length>0){for(v=1,b=1;v<p.length;v++)p[v-1]!==p[v]&&(p[b]=p[v],b++);p.length=b}switch(p.length){case 1:return p[0];case 2:return p[0]+" or "+p[1];default:return p.slice(0,-1).join(", ")+", or "+p[p.length-1]}}function f(h){return h?'"'+s(h)+'"':"end of input"}return"Expected "+d(o)+" but "+f(l)+" found."};function a(o,l){l=l!==void 0?l:{};var t={},i=l.grammarSource,s={Expression:pt},c=pt,u="$",d="{",f="}",h=/^[cti]/,p=/^[vh]/,v=/^[%\^]/,b=U("$",!1),y=U("{",!1),x=U("}",!1),g=F(["c","t","i"],!1,!1),m=F(["v","h"],!1,!1),S=F(["%","^"],!1,!1),w=function(j){return j},M=function(j,V,z){let ht;switch(V){case"v":ht="<Vertical>"+z.join("")+"</Vertical>";break;case"h":ht="<Horizontal>"+z.join("")+"</Horizontal>";break}return j.includes("%")&&(ht="<RandRot>"+ht+"</RandRot>"),j.includes("^")&&(ht="<RandPos>"+ht+"</RandPos>"),ht},$=function(j){return j.join("")},A=function(j,V){let z;return V==="c"?z="<Chart />":V==="t"?z="<Text />":V==="i"&&(z="<Image />"),j.includes("%")&&(z="<RandRot>"+z+"</RandRot>"),j.includes("^")&&(z="<RandPos>"+z+"</RandPos>"),z},E=0,D=[{line:1,column:1}],N=0,P=[],R;if("startRule"in l){if(!(l.startRule in s))throw new Error(`Can't start parsing from rule "`+l.startRule+'".');c=s[l.startRule]}function U(j,V){return{type:"literal",text:j,ignoreCase:V}}function F(j,V,z){return{type:"class",parts:j,inverted:V,ignoreCase:z}}function H(){return{type:"end"}}function J(j){var V=D[j],z;if(V)return V;for(z=j-1;!D[z];)z--;for(V=D[z],V={line:V.line,column:V.column};z<j;)o.charCodeAt(z)===10?(V.line++,V.column=1):V.column++,z++;return D[j]=V,V}function rt(j,V,z){var ht=J(j),Mt=J(V),St={source:i,start:{offset:j,line:ht.line,column:ht.column},end:{offset:V,line:Mt.line,column:Mt.column}};return z&&i&&typeof i.offset=="function"&&(St.start=i.offset(St.start),St.end=i.offset(St.end)),St}function ft(j){E<N||(E>N&&(N=E,P=[]),P.push(j))}function ut(j,V,z){return new n(n.buildMessage(j,V),j,V,z)}function pt(){var j,V,z,ht;return j=E,o.charCodeAt(E)===36?(V=u,E++):(V=t,ft(b)),V!==t?(z=mt(),z!==t?(o.charCodeAt(E)===36?(ht=u,E++):(ht=t,ft(b)),ht!==t?j=w(z):(E=j,j=t)):(E=j,j=t)):(E=j,j=t),j}function mt(){var j,V,z,ht,Mt,St;for(j=E,V=[],z=dt();z!==t;)V.push(z),z=dt();if(z=wt(),z!==t)if(o.charCodeAt(E)===123?(ht=d,E++):(ht=t,ft(y)),ht!==t){if(Mt=[],St=mt(),St!==t)for(;St!==t;)Mt.push(St),St=mt();else Mt=t;Mt!==t?(o.charCodeAt(E)===125?(St=f,E++):(St=t,ft(x)),St!==t?j=M(V,z,Mt):(E=j,j=t)):(E=j,j=t)}else E=j,j=t;else E=j,j=t;if(j===t){if(j=E,V=[],z=It(),z!==t)for(;z!==t;)V.push(z),z=It();else V=t;V!==t&&(V=$(V)),j=V}return j}function It(){var j,V,z;for(j=E,V=[],z=dt();z!==t;)V.push(z),z=dt();return h.test(o.charAt(E))?(z=o.charAt(E),E++):(z=t,ft(g)),z!==t?j=A(V,z):(E=j,j=t),j}function wt(){var j;return p.test(o.charAt(E))?(j=o.charAt(E),E++):(j=t,ft(m)),j}function dt(){var j;return v.test(o.charAt(E))?(j=o.charAt(E),E++):(j=t,ft(S)),j}if(R=c(),R!==t&&E===o.length)return R;throw R!==t&&E<o.length&&ft(H()),ut(P,N<o.length?o.charAt(N):null,N<o.length?rt(N,N+1):rt(N,N))}return{SyntaxError:n,parse:a}}(),cu={};function uu(e,n){return Q(),tt("div",null,"Loading...")}const kn=Bt(cu,[["render",uu]]),sn=e=>(Nn("data-v-c0f4d032"),e=e(),Mn(),e),du={class:"page-indicators"},fu=["onClick"],hu={key:0,class:"page"},pu=sn(()=>O("h2",null,"1. Choose your layout",-1)),gu={key:0,class:"layouts"},vu=["innerHTML","onClick"],mu={class:"center"},yu={class:"page-indicators"},bu=["onClick"],xu={key:1},Su={key:1,class:"page"},Eu=sn(()=>O("h2",null,"2. Generated Content",-1)),wu={key:0},Tu=["innerHTML"],Cu={key:1},Ou={key:2,class:"page"},Iu=sn(()=>O("h2",null,"3. Building Slide Components",-1)),Au={key:0},Pu={class:"build-parent"},Du=["innerHTML"],Ru={key:1},$u={key:3,class:"page"},Mu=sn(()=>O("h2",null,"4. All Done!",-1)),Nu=sn(()=>O("p",null,[ge("Click out or the "),O("i",{class:"fa-solid fa-circle-xmark"}),ge(" to close this dialogue.")],-1)),Lu=[Mu,Nu],Fu=ce({__name:"AIDialogue",props:{title:String,opened:Boolean,prompt:String},emits:["ai_slide"],setup(e,{emit:n}){const r=e,a=n,o=k(0),l=k(0),t=k(null),i=k(""),s=k(null),c=k(null),u=k([]),d=(y,x,g=null)=>{try{return y(...x)}catch{return g}},f=y=>[...Array(y).keys()],h=y=>{const x=Dr.parse;let g;try{g=x(y)}catch{return"<div class='ai-gen-invalid'></div>"}return g='<div class="ai-layout">'+g.toString().replace(/<\/\w+?>/g,"</div>").replaceAll("<Text />","<div class='ai-gen-text'><i class='fa-solid fa-align-justify'></i></div>").replaceAll("<Image />","<div class='ai-gen-image'><i class='fa-solid fa-image'></i></div>").replaceAll("<Chart />","<div class='ai-gen-chart'><i class='fa-solid fa-chart-line'></i></div>").replaceAll("<RandPos>","<div class='ai-gen-rand-pos'>").replaceAll("<RandRot>","<div class='ai-gen-rand-rot'>").replaceAll("<Vertical>","<div class='ai-flex-col'>").replaceAll("<Horizontal>","<div class='ai-flex-row'>")+"</div>",g};async function p(y,x,g){const m=[];y.replace(x,(w,...M)=>(m.push(g(w,...M)),w));const S=await Promise.all(m);return y.replace(x,()=>S.shift())}const v=async y=>{o.value++;const x=Dr.parse;let g;try{g=x(y)}catch{return"<div class='ai-gen-invalid'></div>"}return g='<div class="ai-layout-preview">'+g.toString().replace(/<\/\w+?>/g,"</div>").replaceAll("<Chart />","<div class='ai-gen-chart'></div>").replaceAll("<RandPos>","<div class='ai-gen-rand-pos'>").replaceAll("<RandRot>","<div class='ai-gen-rand-rot'>").replaceAll("<Vertical>","<div class='ai-flex-col'>").replaceAll("<Horizontal>","<div class='ai-flex-row'>")+"</div>",g=await p(g,/<Text \/>/g,async()=>`<div class='gen-text'><p>${await su(r.prompt??"Artificial Intelligence")}</p></div>`),g=await p(g,/<Image \/>/g,async()=>`<div class='gen-image'><img class="full-image" src="${await lu(r.prompt??"Artificial Intelligence")}" /></div>`),i.value=g,g},b=()=>{let y=[];u.value=[];const{x,y:g,width:m,height:S}=c.value.getBoundingClientRect(),{width:w,height:M}=document.getElementById("slide_edit_ctx").getBoundingClientRect();u.value.push({log:`[CORE] Slide dimensions are ${w}x${M}`,color:"red"}),u.value.push({log:`[CORE] Generated Slide dimensions are ${m}x${S}`,color:"red"}),[].slice.call(c.value.getElementsByTagName("p")).forEach(A=>{u.value.push({log:"[NEW] Detected a new element: Paragraph.",color:"lime"});const{x:E,y:D,width:N,height:P}=A.getBoundingClientRect();u.value.push({log:`[INFO] Element Dimensions are "${N}x${P}+${E}+${D}"`,color:"cyan"});const R=Math.floor((E-x)/m*w),U=Math.floor((D-g)/S*M),F=Math.floor(N/m*w),H=Math.floor(P/S*M);u.value.push({log:`[INFO] Relative Element Dimensions are "${F}x${H}+${R}+${U}"`,color:"cyan"});const J={id:Qe(),tag:"p",content:A.innerHTML,position:{x:R,y:U,w:F,h:H,r:0}};u.value.push({log:`[BUILD] Create Element with JSON: ${JSON.stringify(J)}`,color:"yellow"}),y.push(J)}),[].slice.call(c.value.getElementsByTagName("img")).forEach(A=>{u.value.push({log:"[NEW] Detected a new element: Image.",color:"lime"});const{x:E,y:D,width:N,height:P}=A.getBoundingClientRect();u.value.push({log:`[INFO] Element Dimensions are "${N}x${P}+${E}+${D}"`,color:"cyan"});const R=Math.floor((E-x)/m*w),U=Math.floor((D-g)/S*M),F=Math.floor(N/m*w),H=Math.floor(P/S*M);u.value.push({log:`[INFO] Relative Element Dimensions are "${F}x${H}+${R}+${U}"`,color:"cyan"});const J={id:Qe(),tag:"img",position:{x:R,y:U,w:F,h:H,r:0},attrs:{src:A.src}};u.value.push({log:`[BUILD] Create Element with JSON: ${JSON.stringify(J)}`,color:"yellow"}),y.push(J)});const $={id:Qe(),content:y};u.value.push({log:`[BUILD] Created Slide with JSON: ${JSON.stringify($)}`,color:"yellow"}),a("ai_slide",$),o.value++};return $n(async()=>{t.value=await iu()}),(y,x)=>(Q(),Cn(Ii,{title:e.title,opened:e.opened},{default:Fn(()=>{var g,m;return[O("div",du,[(Q(),tt(se,null,Ee([0,1,2,3],S=>O("div",{class:Jt(["page-indicator",o.value===S&&"active"]),onClick:w=>o.value=S},null,10,fu)),64))]),o.value===0?(Q(),tt("div",hu,[pu,(g=t.value)!=null&&g.length?(Q(),tt("div",gu,[(Q(!0),tt(se,null,Ee(t.value.slice(l.value*4,l.value*4+4),S=>(Q(),tt("div",{innerHTML:h(S),onClick:w=>v(S),class:"layout"},null,8,vu))),256)),O("div",mu,[O("div",yu,[(Q(!0),tt(se,null,Ee(d(f,[((m=t.value)==null?void 0:m.length)/4],[]),S=>(Q(),tt("div",{class:Jt(["page-indicator",l.value===S&&"active"]),onClick:w=>l.value=S},null,10,bu))),256))])])])):(Q(),tt("p",xu,[xt(kn)]))])):o.value===1?(Q(),tt("div",Su,[Eu,i.value?(Q(),tt("div",wu,[O("div",{innerHTML:i.value},null,8,Tu),O("button",{class:"darker",onClick:x[0]||(x[0]=S=>o.value++)},"Use this Slide!")])):(Q(),tt("div",Cu,[xt(kn)]))])):o.value===2?(Q(),tt("div",Ou,[Iu,i.value?(Q(),tt("div",Au,[O("div",Pu,[O("div",{ref_key:"slide",ref:c,innerHTML:i.value},null,8,Du),O("div",{class:"logs",ref_key:"logs",ref:s},[(Q(!0),tt(se,null,Ee(u.value,S=>(Q(),tt("p",{class:"log",style:nn({color:S.color})},Kt(S.log),5))),256))],512)]),O("button",{class:"darker",onClick:b},"Build this Slide!")])):(Q(),tt("div",Ru,[xt(kn)]))])):o.value===3?(Q(),tt("div",$u,Lu)):De("",!0)]}),_:1},8,["title","opened"]))}}),ju=Bt(Fu,[["__scopeId","data-v-c0f4d032"]]),dr=e=>(Nn("data-v-2a508202"),e=e(),Mn(),e),Bu={class:"container"},Hu={class:"preview"},zu=dr(()=>O("i",{class:"fa-solid fa-wand-magic-sparkles"},null,-1)),Uu=[zu],Wu=dr(()=>O("i",{class:"fa-solid fa-add"},null,-1)),Gu=[Wu],Vu={class:"selection"},Xu={class:"selection"},Ku=["placeholder"],Yu=dr(()=>O("br",null,null,-1)),Ju=ce({__name:"SlideEditor",props:{slide:Object,width:String,height:String,language:String},emits:["drag","resize","rotate","content","new_elem","delete","styles","ai_slide"],setup(e,{emit:n}){rn(y=>({"394dae91":zt(l),"52cdac88":zt(t)}));const r=e,a=n,o=y=>{if(!r.slide)return"cope";a("new_elem",y,r.slide.id),i.value=!1};let l=k(0),t=k(0);const i=k(!1),s=k(!1),c=k(!1),u=k("");Ln(()=>{l.value=Number((/\d+/g.exec(r.width??"1920px")??[0])[0]),t.value=Number((/\d+/g.exec(r.height??"1080px")??[0])[0])});const d=(y,x,g)=>{a("drag",y,x,g)},f=(y,x,g,m,S)=>{a("resize",y,x,g,m,S)},h=(y,x)=>{a("rotate",y,x)},p=(y,x,g)=>{a("content",y,x,g)},v=y=>{a("delete",y)},b=y=>{a("ai_slide",y)};return(y,x)=>(Q(),tt("div",Bu,[O("div",Hu,[xt(au,{data:e.slide,width:zt(l),height:zt(t),class:"slide",onDrag:d,onResize:f,onRotate:h,onDelete:v,onContent:p,onStyles:x[0]||(x[0]=g=>y.$emit("styles"))},null,8,["data","width","height"])]),O("button",{class:"ai",onClick:x[1]||(x[1]=g=>s.value=!s.value)},Uu),O("button",{class:"new",onClick:x[2]||(x[2]=g=>i.value=!i.value)},Gu),O("div",{class:Jt(["popup",i.value?"show":"hide"])},[O("h1",null,Kt(e.language=="en"?"Add...":"เพิ่ม..."),1),O("h2",null,Kt(e.language=="en"?"Text":"ข้อความ"),1),O("div",Vu,[xt(un,{class:"card",icon:"heading",heading:e.language=="en"?"Header":"หัวข้อ",onClick:x[3]||(x[3]=g=>o("h1"))},null,8,["heading"]),xt(un,{class:"card",icon:"heading",heading:e.language=="en"?"Subheader":"หัวข้อย่อย",onClick:x[4]||(x[4]=g=>o("h2"))},null,8,["heading"]),xt(un,{class:"card",icon:"paragraph",heading:e.language=="en"?"Paragraph":"ข้อความ",onClick:x[5]||(x[5]=g=>o("p"))},null,8,["heading"])]),O("h2",null,Kt(e.language=="en"?"Shapes":"รูปทรง"),1),O("div",Xu,[xt(un,{class:"card",icon:"square",heading:e.language=="en"?"Rectangle":"สี่เหลี่ยม",onClick:x[6]||(x[6]=g=>o("div"))},null,8,["heading"])])],2),O("div",{class:Jt(["popup ai-popup",s.value?"show":"hide"])},[O("h1",null,Kt(e.language=="en"?"AI Prompt":"คุณต้องการเพิ่มอะไรหรอ?"),1),ie(O("textarea",{"onUpdate:modelValue":x[7]||(x[7]=g=>u.value=g),placeholder:e.language=="en"?"Enter your dreams....":"เขียนบอกให้ AI ทำให้เลย!"},null,8,Ku),[[he,u.value]]),Yu,O("button",{onClick:x[8]||(x[8]=g=>c.value=!c.value)},Kt(e.language=="en"?"Add":"เพิ่มเลย!"),1)],2),xt(ju,{title:"Add AI slides",opened:c.value,prompt:u.value,onAi_slide:b},null,8,["opened","prompt"])]))}}),Zu=Bt(Ju,[["__scopeId","data-v-2a508202"]]),Qu=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(n,r)=>(r?"-":"")+n.toLowerCase()),ku=(e,n)=>Object.fromEntries(Object.entries(e).filter(n)),qu=(e,n,r)=>{delete Object.assign(e,{[r]:e[n]})[n]},_u=(e,n)=>{Object.keys(e).forEach(n)},td=e=>{const n=new FileReader;return n.readAsDataURL(e),new Promise(r=>{n.onloadend=()=>{r(n.result)}})},ed={class:"main"},nd={class:"bottom"},rd=ce({__name:"Slides",props:{language:String},setup(e){const n=jr(),r=Br(),a=k("Loading..."),o=k("0"),l=k("0"),t=k([]),i=k({}),s=k(!1),c=k(0),u=k(0),d=k(!1);let f=k(0);$n(async()=>{const{data:E,error:D}=await Ze.from("Projects").select("*").eq("id",n.params.id);if(D&&r.push("/404"),!E)return;const N=E[0];N||r.push("/slide/404"),a.value=N.name,o.value=N.content.metadata.width,l.value=N.content.metadata.height,i.value=N.content.metadata,t.value=N.content.data,u.value=N.team_id,s.value=!0});const h=()=>{const E=Qe();t.value.push({id:E,content:[]})},p=E=>{t.value.push(E)},v=E=>{f.value=E},b=E=>{t.value=t.value.filter(D=>D.id!==E)},y=(E,D,N)=>{t.value=t.value.map(P=>({id:P.id,content:P.content.map(R=>(R.id==N&&(R.position.x=E,R.position.y=D),R))}))},x=(E,D,N,P,R)=>{t.value=t.value.map(U=>({id:U.id,content:U.content.map(F=>(F.id==R&&(F.position.x=E,F.position.y=D,F.position.w=N,F.position.h=P),F))}))},g=(E,D)=>{t.value=t.value.map(N=>({id:N.id,content:N.content.map(P=>(P.id==D&&(P.position.r=E),P))}))},m=(E,D,N)=>{t.value=t.value.map(P=>({id:P.id,content:P.content.map(R=>(R.id==N&&(R.content=E),R))}))},S=(E,D,N="Insert text here...",P)=>{t.value=t.value.map(R=>({id:R.id,content:R.id==D?[...R.content,{id:Qe(),tag:E,position:{x:69,y:420,w:420,h:69},content:ro(E)?N:"",attrs:P}]:R.content}))},w=()=>{t.value=t.value.map(E=>({id:E.id,content:E.content.map(D=>{var P;let N=((P=document.getElementById(D.id))==null?void 0:P.style)??{};return N=ku(N,([R,U])=>U!==""&&isNaN(parseInt(R))),_u(N,R=>qu(N,R,Qu(R))),{...D,styles:N}})}))},M=E=>{t.value=t.value.map(D=>({id:D.id,content:D.content.filter(N=>N.id!==E)}))},$=async()=>{try{const D=(await navigator.clipboard.read()).at(-1),N=D.types.at(-1);console.log(N);const P=await D.getType(N);console.log(P);const R=t.value[f.value].id;switch(N){case"text/html":case"text/plain":const U=await P.text();S("h1",R,U);break;case"image/png":const F=await td(P);S("img",R,"",{src:F});debugger}}catch(E){console.error(E.message)}},A=E=>{if(E.key!="Control")switch(E.key){case"n":h();break;case"v":$()}};return ir(t,async()=>{if(c.value=0,!s.value)return"cope";if(d.value){d.value=!1;return}const E={name:a.value,type:"slide",content:{metadata:On(i.value),data:On(t.value)}};await Ze.from("Projects").update({content:E.content}).eq("id",n.params.id).select(),c.value=1}),Ze.channel("table_db_changes").on("postgres_changes",{event:"*",schema:"public",table:"Projects",filter:`id=eq.${n.params.id}`},E=>{d.value=!0,t.value=E.new.content.data,i.value=E.new.content.metadata}).subscribe(),(E,D)=>(Q(),tt("div",{onKeydown:ot(A,["ctrl"]),tabindex:"0"},[O("div",ed,[xt(_i,{name:a.value,width:o.value,height:l.value,language:e.language,cloud_status:c.value,team_id:u.value},null,8,["name","width","height","language","cloud_status","team_id"]),O("div",nd,[xt(Xs,{slides:t.value,width:o.value,height:l.value,onNew_slide:h,onSelect:v,onDelete_slide:b,language:e.language},null,8,["slides","width","height","language"]),xt(Zu,{slide:t.value[zt(f)],width:o.value,height:l.value,language:e.language,onDrag:y,onResize:x,onRotate:g,onContent:m,onDelete:M,onNew_elem:S,onStyles:w,onAi_slide:p},null,8,["slide","width","height","language"])])])],32))}}),ud=Bt(rd,[["__scopeId","data-v-22276c78"]]);export{ud as default};
