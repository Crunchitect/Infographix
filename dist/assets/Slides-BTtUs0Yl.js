import{B as no,z as ro,C as oo,D as ao,E as io,A as so,G as lo,F as ie,K as uo,R as co,S as fo,H as ho,T as po,I as vo,J as go,L as mo,M as yo,N as bo,V as xo,O as So,P as Eo,Q as wo,U as To,W as Co,X as Oo,Y as $o,c as Or,Z as Io,k as wn,l as Ae,e as tt,f as O,$ as Ao,a0 as Po,a1 as Do,a2 as Ro,a3 as Mo,y as er,i as pe,g as bt,a4 as No,a5 as Lo,d as le,a6 as Fo,a7 as jo,a8 as Bo,a9 as Ho,aa as zo,ab as Uo,ac as Wo,ad as Go,ae as Vo,af as Xo,ag as Ko,ah as Yo,ai as $r,aj as Jo,ak as Zo,al as Qo,am as ko,an as qo,ao as _o,ap as ta,aq as ea,ar as na,as as ra,at as oa,au as aa,av as ia,aw as sa,ax as la,ay as ua,az as ca,aA as da,s as fa,aB as ha,aC as pa,aD as va,aE as ga,aF as ma,aG as ya,aH as Ir,aI as ba,aJ as xa,aK as Yt,aL as Sa,x as en,aM as Ea,aN as wa,aO as Ta,aP as Ca,aQ as Oa,aR as $a,o as Pn,aS as Ia,aT as Aa,aU as Ar,aV as Pa,aW as Da,aX as Ra,aY as Ma,j as Q,aZ as Na,a_ as La,a$ as Fa,b0 as ja,b1 as Ba,b2 as Ha,b as za,b3 as Ua,r as k,b4 as Wa,b5 as Ga,p as Se,b6 as Jn,h as Va,b7 as Xa,b8 as Pr,b9 as Ka,ba as Ya,bb as Ja,bc as Za,bd as Qa,be as ka,bf as qa,bg as _a,bh as ti,bi as ei,bj as ni,t as Xt,bk as ri,bl as oi,bm as ai,bn as ii,bo as si,bp as li,bq as ui,br as ci,n as Ft,bs as di,bt as fi,bu as nn,bv as hi,bw as pi,bx as vi,by as gi,bz as mi,bA as yi,bB as bi,bC as xi,bD as Si,bE as Ei,bF as wi,bG as Ti,v as fe,bH as Dr,bI as Ci,bJ as Oi,bK as nr,bL as Dn,bM as $i,bN as Ii,bO as Ai,w as Rn,bP as Pi,q as ae,bQ as Di,bR as Ri,m as ot,bS as Mi,_ as Bt,u as Rr,a as Mr}from"./index-rgW8kFI3.js";import{s as Je,g as Nr,a as Ni,c as Li}from"./supabase-TDJmcE2O.js";import{g as Ze}from"./generate_uuid-DCpGMQ0y.js";import{C as ln}from"./Card-uL3BK7vh.js";import{s as Fi}from"./index-BnQFQdEN.js";import{D as ji}from"./Dialogue-C4E2M4J_.js";/**
* vue v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/const Bi=()=>{},Hi=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:no,BaseTransitionPropsValidators:ro,Comment:oo,DeprecationTypes:ao,EffectScope:io,ErrorCodes:so,ErrorTypeStrings:lo,Fragment:ie,KeepAlive:uo,ReactiveEffect:co,Static:fo,Suspense:ho,Teleport:po,Text:vo,TrackOpTypes:go,Transition:mo,TransitionGroup:yo,TriggerOpTypes:bo,VueElement:xo,assertNumber:So,callWithAsyncErrorHandling:Eo,callWithErrorHandling:wo,camelize:To,capitalize:Co,cloneVNode:Oo,compatUtils:$o,compile:Bi,computed:Or,createApp:Io,createBlock:wn,createCommentVNode:Ae,createElementBlock:tt,createElementVNode:O,createHydrationRenderer:Ao,createPropsRestProxy:Po,createRenderer:Do,createSSRApp:Ro,createSlots:Mo,createStaticVNode:er,createTextVNode:pe,createVNode:bt,customRef:No,defineAsyncComponent:Lo,defineComponent:le,defineCustomElement:Fo,defineEmits:jo,defineExpose:Bo,defineModel:Ho,defineOptions:zo,defineProps:Uo,defineSSRCustomElement:Wo,defineSlots:Go,devtools:Vo,effect:Xo,effectScope:Ko,getCurrentInstance:Yo,getCurrentScope:$r,getCurrentWatcher:Jo,getTransitionRawChildren:Zo,guardReactiveProps:Qo,h:ko,handleError:qo,hasInjectionContext:_o,hydrate:ta,hydrateOnIdle:ea,hydrateOnInteraction:na,hydrateOnMediaQuery:ra,hydrateOnVisible:oa,initCustomFormatter:aa,initDirectivesForSSR:ia,inject:sa,isMemoSame:la,isProxy:ua,isReactive:ca,isReadonly:da,isRef:fa,isRuntimeOnly:ha,isShallow:pa,isVNode:va,markRaw:ga,mergeDefaults:ma,mergeModels:ya,mergeProps:Ir,nextTick:ba,nodeOps:xa,normalizeClass:Yt,normalizeProps:Sa,normalizeStyle:en,onActivated:Ea,onBeforeMount:wa,onBeforeUnmount:Ta,onBeforeUpdate:Ca,onDeactivated:Oa,onErrorCaptured:$a,onMounted:Pn,onRenderTracked:Ia,onRenderTriggered:Aa,onScopeDispose:Ar,onServerPrefetch:Pa,onUnmounted:Da,onUpdated:Ra,onWatcherCleanup:Ma,openBlock:Q,patchProp:Na,popScopeId:La,provide:Fa,proxyRefs:ja,pushScopeId:Ba,queuePostFlushCb:Ha,reactive:za,readonly:Ua,ref:k,registerRuntimeCompiler:Wa,render:Ga,renderList:Se,renderSlot:Jn,resolveComponent:Va,resolveDirective:Xa,resolveDynamicComponent:Pr,resolveFilter:Ka,resolveTransitionHooks:Ya,setBlockTracking:Ja,setDevtoolsHook:Za,setTransitionHooks:Qa,shallowReactive:ka,shallowReadonly:qa,shallowRef:_a,ssrContextKey:ti,ssrUtils:ei,stop:ni,toDisplayString:Xt,toHandlerKey:ri,toHandlers:oi,toRaw:ai,toRef:ii,toRefs:si,toValue:li,transformVNodeArgs:ui,triggerRef:ci,unref:Ft,useAttrs:di,useCssModule:fi,useCssVars:nn,useHost:hi,useId:pi,useModel:vi,useSSRContext:gi,useShadowRoot:mi,useSlots:yi,useTemplateRef:bi,useTransitionState:xi,vModelCheckbox:Si,vModelDynamic:Ei,vModelRadio:wi,vModelSelect:Ti,vModelText:fe,vShow:Dr,version:Ci,warn:Oi,watch:nr,watchEffect:Dn,watchPostEffect:$i,watchSyncEffect:Ii,withAsyncContext:Ai,withCtx:Rn,withDefaults:Pi,withDirectives:ae,withKeys:Di,withMemo:Ri,withModifiers:ot,withScopeId:Mi},Symbol.toStringTag,{value:"Module"})),Tn=e=>e instanceof Array?e.map(Tn):e instanceof Object?Object.fromEntries(Object.entries(Object.assign({},e)).map(([n,r])=>[n,Tn(r)])):e,Lr=k({is_opened:!1,set_is_opened(e){this.is_opened=e}}),Fr=e=>new Promise(n=>setTimeout(n,e)),zi={},Ui={width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Wi(e,n){return Q(),tt("svg",Ui,[...n[0]||(n[0]=[O("path",{d:"M0 9.5C0 11.9844 2.01562 14 4.5 14H16C18.2094 14 20 12.2094 20 10C20 8.06562 18.625 6.45 16.8 6.08125C16.9281 5.74688 17 5.38125 17 5C17 3.34375 15.6562 2 14 2C13.3844 2 12.8094 2.1875 12.3344 2.50625C11.4688 1.00625 9.85312 0 8 0C5.2375 0 3 2.2375 3 5C3 5.08438 3.00312 5.16875 3.00625 5.25313C1.25625 5.86875 0 7.5375 0 9.5Z",fill:"white"},null,-1),O("circle",{cx:"6",cy:"10",r:"1",fill:"black"},null,-1),O("circle",{cx:"10",cy:"10",r:"1",fill:"black"},null,-1),O("circle",{cx:"14",cy:"10",r:"1",fill:"black"},null,-1)])])}const Gi=Bt(zi,[["render",Wi]]),Vi={},Xi={width:"20",height:"16",viewBox:"0 0 20 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"};function Ki(e,n){return Q(),tt("svg",Xi,[...n[0]||(n[0]=[O("path",{d:"M0 9.5C0 11.9844 2.01562 14 4.5 14H16C18.2094 14 20 12.2094 20 10C20 8.06562 18.625 6.45 16.8 6.08125C16.9281 5.74688 17 5.38125 17 5C17 3.34375 15.6562 2 14 2C13.3844 2 12.8094 2.1875 12.3344 2.50625C11.4688 1.00625 9.85312 0 8 0C5.2375 0 3 2.2375 3 5C3 5.08438 3.00312 5.16875 3.00625 5.25313C1.25625 5.86875 0 7.5375 0 9.5Z",fill:"white"},null,-1),O("line",{x1:"4.35355",y1:"8.64645",x2:"7.35355",y2:"11.6464",stroke:"black"},null,-1),O("line",{x1:"14.3536",y1:"5.35355",x2:"7.35355",y2:"12.3536",stroke:"black"},null,-1)])])}const Yi=Bt(Vi,[["render",Ki]]),Ji={class:"status"},Zi={key:0},Qi={key:1},ki={style:{"word-wrap":"none"}},qi={class:"share"},_i=le({__name:"Metadata",props:{name:String,width:String,height:String,language:String,cloud_status:Number,team_id:Number},setup(e){const n=Rr(),r=Mr(),a=e,o=k(!0),l=k(""),t=()=>{o.value=!o.value,Lr.value.set_is_opened(o.value)},s=async c=>{const f=(await Je.from("Teams").select("team_members").eq("id",a.team_id)).data[0].team_members;console.log([...f,{email:l.value,status:"edit"}]),await Je.from("Teams").update({team_members:[...f,{email:l.value,status:"edit"}]}).eq("id",a.team_id).select(),c.target.classList.remove("fa-paper-plane"),c.target.classList.add("fa-check"),c.target.classList.add("fa-beat"),await Fr(200),c.target.classList.add("fa-paper-plane"),c.target.classList.remove("fa-check"),c.target.classList.remove("fa-beat"),l.value=""},i=()=>{const c=n.params.id;r.push(`/slide/${c}/present`)},u=Or(()=>a.cloud_status);return(c,d)=>(Q(),tt(ie,null,[O("div",{class:Yt(["metadata",o.value?"op":"cl"])},[O("div",{class:Yt(["content",o.value?"op":"cl"])},[O("h1",null,[pe(Xt(e.name)+" ",1),O("span",Ji,[u.value==0?(Q(),tt("span",Zi,[bt(Gi)])):(Q(),tt("span",Qi,[bt(Yi)]))])]),O("p",ki,[O("i",{class:"fa-solid fa-desktop",onClick:i}),d[2]||(d[2]=pe("   ",-1)),O("span",qi,[ae(O("input",{type:"text",placeholder:"Share to...","onUpdate:modelValue":d[0]||(d[0]=f=>l.value=f)},null,512),[[fe,l.value]]),d[1]||(d[1]=pe("    ",-1)),O("i",{class:"fa-solid fa-paper-plane fa-sm",onClick:s})]),O("strong",null,Xt(e.language=="en"?"Size":"ขนาด")+":",1),pe(" "+Xt(e.width)+" x "+Xt(e.height),1)])],2)],2),O("i",{class:Yt(["fa-solid","fa-chevron-up","fa-xs","chevron",o.value?"op":"cl"]),onClick:t},null,2)],64))}}),ts=Bt(_i,[["__scopeId","data-v-b7d1f28b"]]);var jr={exports:{}};const es=Nr(Hi);/**!
 * Sortable 1.14.0
 * @author	RubaXa   <trash@rubaxa.org>
 * @author	owenm    <owen23355@gmail.com>
 * @license MIT
 */function sr(e,n){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);n&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable})),r.push.apply(r,a)}return r}function ne(e){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?sr(Object(r),!0).forEach(function(a){ns(e,a,r[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):sr(Object(r)).forEach(function(a){Object.defineProperty(e,a,Object.getOwnPropertyDescriptor(r,a))})}return e}function gn(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?gn=function(n){return typeof n}:gn=function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},gn(e)}function ns(e,n,r){return n in e?Object.defineProperty(e,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[n]=r,e}function Jt(){return Jt=Object.assign||function(e){for(var n=1;n<arguments.length;n++){var r=arguments[n];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(e[a]=r[a])}return e},Jt.apply(this,arguments)}function rs(e,n){if(e==null)return{};var r={},a=Object.keys(e),o,l;for(l=0;l<a.length;l++)o=a[l],!(n.indexOf(o)>=0)&&(r[o]=e[o]);return r}function os(e,n){if(e==null)return{};var r=rs(e,n),a,o;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(o=0;o<l.length;o++)a=l[o],!(n.indexOf(a)>=0)&&Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}function as(e){return is(e)||ss(e)||ls(e)||us()}function is(e){if(Array.isArray(e))return Zn(e)}function ss(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}function ls(e,n){if(e){if(typeof e=="string")return Zn(e,n);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Zn(e,n)}}function Zn(e,n){(n==null||n>e.length)&&(n=e.length);for(var r=0,a=new Array(n);r<n;r++)a[r]=e[r];return a}function us(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var cs="1.14.0";function se(e){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(e)}var ue=se(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),rn=se(/Edge/i),lr=se(/firefox/i),Qe=se(/safari/i)&&!se(/chrome/i)&&!se(/android/i),Br=se(/iP(ad|od|hone)/i),ds=se(/chrome/i)&&se(/android/i),Hr={capture:!1,passive:!1};function it(e,n,r){e.addEventListener(n,r,!ue&&Hr)}function at(e,n,r){e.removeEventListener(n,r,!ue&&Hr)}function Cn(e,n){if(n){if(n[0]===">"&&(n=n.substring(1)),e)try{if(e.matches)return e.matches(n);if(e.msMatchesSelector)return e.msMatchesSelector(n);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(n)}catch{return!1}return!1}}function fs(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function qt(e,n,r,a){if(e){r=r||document;do{if(n!=null&&(n[0]===">"?e.parentNode===r&&Cn(e,n):Cn(e,n))||a&&e===r)return e;if(e===r)break}while(e=fs(e))}return null}var ur=/\s+/g;function xt(e,n,r){if(e&&n)if(e.classList)e.classList[r?"add":"remove"](n);else{var a=(" "+e.className+" ").replace(ur," ").replace(" "+n+" "," ");e.className=(a+(r?" "+n:"")).replace(ur," ")}}function G(e,n,r){var a=e&&e.style;if(a){if(r===void 0)return document.defaultView&&document.defaultView.getComputedStyle?r=document.defaultView.getComputedStyle(e,""):e.currentStyle&&(r=e.currentStyle),n===void 0?r:r[n];!(n in a)&&n.indexOf("webkit")===-1&&(n="-webkit-"+n),a[n]=r+(typeof r=="string"?"":"px")}}function Ee(e,n){var r="";if(typeof e=="string")r=e;else do{var a=G(e,"transform");a&&a!=="none"&&(r=a+" "+r)}while(!n&&(e=e.parentNode));var o=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return o&&new o(r)}function zr(e,n,r){if(e){var a=e.getElementsByTagName(n),o=0,l=a.length;if(r)for(;o<l;o++)r(a[o],o);return a}return[]}function ee(){var e=document.scrollingElement;return e||document.documentElement}function yt(e,n,r,a,o){if(!(!e.getBoundingClientRect&&e!==window)){var l,t,s,i,u,c,d;if(e!==window&&e.parentNode&&e!==ee()?(l=e.getBoundingClientRect(),t=l.top,s=l.left,i=l.bottom,u=l.right,c=l.height,d=l.width):(t=0,s=0,i=window.innerHeight,u=window.innerWidth,c=window.innerHeight,d=window.innerWidth),(n||r)&&e!==window&&(o=o||e.parentNode,!ue))do if(o&&o.getBoundingClientRect&&(G(o,"transform")!=="none"||r&&G(o,"position")!=="static")){var f=o.getBoundingClientRect();t-=f.top+parseInt(G(o,"border-top-width")),s-=f.left+parseInt(G(o,"border-left-width")),i=t+l.height,u=s+l.width;break}while(o=o.parentNode);if(a&&e!==window){var h=Ee(o||e),v=h&&h.a,g=h&&h.d;h&&(t/=g,s/=v,d/=v,c/=g,i=t+c,u=s+d)}return{top:t,left:s,bottom:i,right:u,width:d,height:c}}}function cr(e,n,r){for(var a=ve(e,!0),o=yt(e)[n];a;){var l=yt(a)[r],t=void 0;if(t=o>=l,!t)return a;if(a===ee())break;a=ve(a,!1)}return!1}function De(e,n,r,a){for(var o=0,l=0,t=e.children;l<t.length;){if(t[l].style.display!=="none"&&t[l]!==Y.ghost&&(a||t[l]!==Y.dragged)&&qt(t[l],r.draggable,e,!1)){if(o===n)return t[l];o++}l++}return null}function rr(e,n){for(var r=e.lastElementChild;r&&(r===Y.ghost||G(r,"display")==="none"||n&&!Cn(r,n));)r=r.previousElementSibling;return r||null}function Tt(e,n){var r=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!=="TEMPLATE"&&e!==Y.clone&&(!n||Cn(e,n))&&r++;return r}function dr(e){var n=0,r=0,a=ee();if(e)do{var o=Ee(e),l=o.a,t=o.d;n+=e.scrollLeft*l,r+=e.scrollTop*t}while(e!==a&&(e=e.parentNode));return[n,r]}function hs(e,n){for(var r in e)if(e.hasOwnProperty(r)){for(var a in n)if(n.hasOwnProperty(a)&&n[a]===e[r][a])return Number(r)}return-1}function ve(e,n){if(!e||!e.getBoundingClientRect)return ee();var r=e,a=!1;do if(r.clientWidth<r.scrollWidth||r.clientHeight<r.scrollHeight){var o=G(r);if(r.clientWidth<r.scrollWidth&&(o.overflowX=="auto"||o.overflowX=="scroll")||r.clientHeight<r.scrollHeight&&(o.overflowY=="auto"||o.overflowY=="scroll")){if(!r.getBoundingClientRect||r===document.body)return ee();if(a||n)return r;a=!0}}while(r=r.parentNode);return ee()}function ps(e,n){if(e&&n)for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e}function Fn(e,n){return Math.round(e.top)===Math.round(n.top)&&Math.round(e.left)===Math.round(n.left)&&Math.round(e.height)===Math.round(n.height)&&Math.round(e.width)===Math.round(n.width)}var ke;function Ur(e,n){return function(){if(!ke){var r=arguments,a=this;r.length===1?e.call(a,r[0]):e.apply(a,r),ke=setTimeout(function(){ke=void 0},n)}}}function vs(){clearTimeout(ke),ke=void 0}function Wr(e,n,r){e.scrollLeft+=n,e.scrollTop+=r}function or(e){var n=window.Polymer,r=window.jQuery||window.Zepto;return n&&n.dom?n.dom(e).cloneNode(!0):r?r(e).clone(!0)[0]:e.cloneNode(!0)}function fr(e,n){G(e,"position","absolute"),G(e,"top",n.top),G(e,"left",n.left),G(e,"width",n.width),G(e,"height",n.height)}function jn(e){G(e,"position",""),G(e,"top",""),G(e,"left",""),G(e,"width",""),G(e,"height","")}var jt="Sortable"+new Date().getTime();function gs(){var e=[],n;return{captureAnimationState:function(){if(e=[],!!this.options.animation){var a=[].slice.call(this.el.children);a.forEach(function(o){if(!(G(o,"display")==="none"||o===Y.ghost)){e.push({target:o,rect:yt(o)});var l=ne({},e[e.length-1].rect);if(o.thisAnimationDuration){var t=Ee(o,!0);t&&(l.top-=t.f,l.left-=t.e)}o.fromRect=l}})}},addAnimationState:function(a){e.push(a)},removeAnimationState:function(a){e.splice(hs(e,{target:a}),1)},animateAll:function(a){var o=this;if(!this.options.animation){clearTimeout(n),typeof a=="function"&&a();return}var l=!1,t=0;e.forEach(function(s){var i=0,u=s.target,c=u.fromRect,d=yt(u),f=u.prevFromRect,h=u.prevToRect,v=s.rect,g=Ee(u,!0);g&&(d.top-=g.f,d.left-=g.e),u.toRect=d,u.thisAnimationDuration&&Fn(f,d)&&!Fn(c,d)&&(v.top-d.top)/(v.left-d.left)===(c.top-d.top)/(c.left-d.left)&&(i=ys(v,f,h,o.options)),Fn(d,c)||(u.prevFromRect=c,u.prevToRect=d,i||(i=o.options.animation),o.animate(u,v,d,i)),i&&(l=!0,t=Math.max(t,i),clearTimeout(u.animationResetTimer),u.animationResetTimer=setTimeout(function(){u.animationTime=0,u.prevFromRect=null,u.fromRect=null,u.prevToRect=null,u.thisAnimationDuration=null},i),u.thisAnimationDuration=i)}),clearTimeout(n),l?n=setTimeout(function(){typeof a=="function"&&a()},t):typeof a=="function"&&a(),e=[]},animate:function(a,o,l,t){if(t){G(a,"transition",""),G(a,"transform","");var s=Ee(this.el),i=s&&s.a,u=s&&s.d,c=(o.left-l.left)/(i||1),d=(o.top-l.top)/(u||1);a.animatingX=!!c,a.animatingY=!!d,G(a,"transform","translate3d("+c+"px,"+d+"px,0)"),this.forRepaintDummy=ms(a),G(a,"transition","transform "+t+"ms"+(this.options.easing?" "+this.options.easing:"")),G(a,"transform","translate3d(0,0,0)"),typeof a.animated=="number"&&clearTimeout(a.animated),a.animated=setTimeout(function(){G(a,"transition",""),G(a,"transform",""),a.animated=!1,a.animatingX=!1,a.animatingY=!1},t)}}}}function ms(e){return e.offsetWidth}function ys(e,n,r,a){return Math.sqrt(Math.pow(n.top-e.top,2)+Math.pow(n.left-e.left,2))/Math.sqrt(Math.pow(n.top-r.top,2)+Math.pow(n.left-r.left,2))*a.animation}var Te=[],Bn={initializeByDefault:!0},on={mount:function(n){for(var r in Bn)Bn.hasOwnProperty(r)&&!(r in n)&&(n[r]=Bn[r]);Te.forEach(function(a){if(a.pluginName===n.pluginName)throw"Sortable: Cannot mount plugin ".concat(n.pluginName," more than once")}),Te.push(n)},pluginEvent:function(n,r,a){var o=this;this.eventCanceled=!1,a.cancel=function(){o.eventCanceled=!0};var l=n+"Global";Te.forEach(function(t){r[t.pluginName]&&(r[t.pluginName][l]&&r[t.pluginName][l](ne({sortable:r},a)),r.options[t.pluginName]&&r[t.pluginName][n]&&r[t.pluginName][n](ne({sortable:r},a)))})},initializePlugins:function(n,r,a,o){Te.forEach(function(s){var i=s.pluginName;if(!(!n.options[i]&&!s.initializeByDefault)){var u=new s(n,r,n.options);u.sortable=n,u.options=n.options,n[i]=u,Jt(a,u.defaults)}});for(var l in n.options)if(n.options.hasOwnProperty(l)){var t=this.modifyOption(n,l,n.options[l]);typeof t<"u"&&(n.options[l]=t)}},getEventProperties:function(n,r){var a={};return Te.forEach(function(o){typeof o.eventProperties=="function"&&Jt(a,o.eventProperties.call(r[o.pluginName],n))}),a},modifyOption:function(n,r,a){var o;return Te.forEach(function(l){n[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[r]=="function"&&(o=l.optionListeners[r].call(n[l.pluginName],a))}),o}};function Ge(e){var n=e.sortable,r=e.rootEl,a=e.name,o=e.targetEl,l=e.cloneEl,t=e.toEl,s=e.fromEl,i=e.oldIndex,u=e.newIndex,c=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,h=e.putSortable,v=e.extraEventProperties;if(n=n||r&&r[jt],!!n){var g,x=n.options,y="on"+a.charAt(0).toUpperCase()+a.substr(1);window.CustomEvent&&!ue&&!rn?g=new CustomEvent(a,{bubbles:!0,cancelable:!0}):(g=document.createEvent("Event"),g.initEvent(a,!0,!0)),g.to=t||r,g.from=s||r,g.item=o||r,g.clone=l,g.oldIndex=i,g.newIndex=u,g.oldDraggableIndex=c,g.newDraggableIndex=d,g.originalEvent=f,g.pullMode=h?h.lastPutMode:void 0;var b=ne(ne({},v),on.getEventProperties(a,n));for(var p in b)g[p]=b[p];r&&r.dispatchEvent(g),x[y]&&x[y].call(n,g)}}var bs=["evt"],Ut=function(n,r){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},o=a.evt,l=os(a,bs);on.pluginEvent.bind(Y)(n,r,ne({dragEl:B,parentEl:Et,ghostEl:et,rootEl:mt,nextEl:xe,lastDownEl:mn,cloneEl:wt,cloneHidden:he,dragStarted:Ve,putSortable:Dt,activeSortable:Y.active,originalEvent:o,oldIndex:Pe,oldDraggableIndex:qe,newIndex:Vt,newDraggableIndex:de,hideGhostForTarget:Kr,unhideGhostForTarget:Yr,cloneNowHidden:function(){he=!0},cloneNowShown:function(){he=!1},dispatchSortableEvent:function(s){Ht({sortable:r,name:s,originalEvent:o})}},l))};function Ht(e){Ge(ne({putSortable:Dt,cloneEl:wt,targetEl:B,rootEl:mt,oldIndex:Pe,oldDraggableIndex:qe,newIndex:Vt,newDraggableIndex:de},e))}var B,Et,et,mt,xe,mn,wt,he,Pe,Vt,qe,de,un,Dt,Ie=!1,On=!1,$n=[],me,Qt,Hn,zn,hr,pr,Ve,Ce,_e,tn=!1,cn=!1,yn,Mt,Un=[],Qn=!1,In=[],Mn=typeof document<"u",dn=Br,vr=rn||ue?"cssFloat":"float",xs=Mn&&!ds&&!Br&&"draggable"in document.createElement("div"),Gr=function(){if(Mn){if(ue)return!1;var e=document.createElement("x");return e.style.cssText="pointer-events:auto",e.style.pointerEvents==="auto"}}(),Vr=function(n,r){var a=G(n),o=parseInt(a.width)-parseInt(a.paddingLeft)-parseInt(a.paddingRight)-parseInt(a.borderLeftWidth)-parseInt(a.borderRightWidth),l=De(n,0,r),t=De(n,1,r),s=l&&G(l),i=t&&G(t),u=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+yt(l).width,c=i&&parseInt(i.marginLeft)+parseInt(i.marginRight)+yt(t).width;if(a.display==="flex")return a.flexDirection==="column"||a.flexDirection==="column-reverse"?"vertical":"horizontal";if(a.display==="grid")return a.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&s.float&&s.float!=="none"){var d=s.float==="left"?"left":"right";return t&&(i.clear==="both"||i.clear===d)?"vertical":"horizontal"}return l&&(s.display==="block"||s.display==="flex"||s.display==="table"||s.display==="grid"||u>=o&&a[vr]==="none"||t&&a[vr]==="none"&&u+c>o)?"vertical":"horizontal"},Ss=function(n,r,a){var o=a?n.left:n.top,l=a?n.right:n.bottom,t=a?n.width:n.height,s=a?r.left:r.top,i=a?r.right:r.bottom,u=a?r.width:r.height;return o===s||l===i||o+t/2===s+u/2},Es=function(n,r){var a;return $n.some(function(o){var l=o[jt].options.emptyInsertThreshold;if(!(!l||rr(o))){var t=yt(o),s=n>=t.left-l&&n<=t.right+l,i=r>=t.top-l&&r<=t.bottom+l;if(s&&i)return a=o}}),a},Xr=function(n){function r(l,t){return function(s,i,u,c){var d=s.options.group.name&&i.options.group.name&&s.options.group.name===i.options.group.name;if(l==null&&(t||d))return!0;if(l==null||l===!1)return!1;if(t&&l==="clone")return l;if(typeof l=="function")return r(l(s,i,u,c),t)(s,i,u,c);var f=(t?s:i).options.group.name;return l===!0||typeof l=="string"&&l===f||l.join&&l.indexOf(f)>-1}}var a={},o=n.group;(!o||gn(o)!="object")&&(o={name:o}),a.name=o.name,a.checkPull=r(o.pull,!0),a.checkPut=r(o.put),a.revertClone=o.revertClone,n.group=a},Kr=function(){!Gr&&et&&G(et,"display","none")},Yr=function(){!Gr&&et&&G(et,"display","")};Mn&&document.addEventListener("click",function(e){if(On)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),On=!1,!1},!0);var ye=function(n){if(B){n=n.touches?n.touches[0]:n;var r=Es(n.clientX,n.clientY);if(r){var a={};for(var o in n)n.hasOwnProperty(o)&&(a[o]=n[o]);a.target=a.rootEl=r,a.preventDefault=void 0,a.stopPropagation=void 0,r[jt]._onDragOver(a)}}},ws=function(n){B&&B.parentNode[jt]._isOutsideThisEl(n.target)};function Y(e,n){if(!(e&&e.nodeType&&e.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(e));this.el=e,this.options=n=Jt({},n),e[jt]=this;var r={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Vr(e,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(t,s){t.setData("Text",s.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Y.supportPointer!==!1&&"PointerEvent"in window&&!Qe,emptyInsertThreshold:5};on.initializePlugins(this,e,r);for(var a in r)!(a in n)&&(n[a]=r[a]);Xr(n);for(var o in this)o.charAt(0)==="_"&&typeof this[o]=="function"&&(this[o]=this[o].bind(this));this.nativeDraggable=n.forceFallback?!1:xs,this.nativeDraggable&&(this.options.touchStartThreshold=1),n.supportPointer?it(e,"pointerdown",this._onTapStart):(it(e,"mousedown",this._onTapStart),it(e,"touchstart",this._onTapStart)),this.nativeDraggable&&(it(e,"dragover",this),it(e,"dragenter",this)),$n.push(this.el),n.store&&n.store.get&&this.sort(n.store.get(this)||[]),Jt(this,gs())}Y.prototype={constructor:Y,_isOutsideThisEl:function(n){!this.el.contains(n)&&n!==this.el&&(Ce=null)},_getDirection:function(n,r){return typeof this.options.direction=="function"?this.options.direction.call(this,n,r,B):this.options.direction},_onTapStart:function(n){if(n.cancelable){var r=this,a=this.el,o=this.options,l=o.preventOnFilter,t=n.type,s=n.touches&&n.touches[0]||n.pointerType&&n.pointerType==="touch"&&n,i=(s||n).target,u=n.target.shadowRoot&&(n.path&&n.path[0]||n.composedPath&&n.composedPath()[0])||i,c=o.filter;if(Ds(a),!B&&!(/mousedown|pointerdown/.test(t)&&n.button!==0||o.disabled)&&!u.isContentEditable&&!(!this.nativeDraggable&&Qe&&i&&i.tagName.toUpperCase()==="SELECT")&&(i=qt(i,o.draggable,a,!1),!(i&&i.animated)&&mn!==i)){if(Pe=Tt(i),qe=Tt(i,o.draggable),typeof c=="function"){if(c.call(this,n,i,this)){Ht({sortable:r,rootEl:u,name:"filter",targetEl:i,toEl:a,fromEl:a}),Ut("filter",r,{evt:n}),l&&n.cancelable&&n.preventDefault();return}}else if(c&&(c=c.split(",").some(function(d){if(d=qt(u,d.trim(),a,!1),d)return Ht({sortable:r,rootEl:d,name:"filter",targetEl:i,fromEl:a,toEl:a}),Ut("filter",r,{evt:n}),!0}),c)){l&&n.cancelable&&n.preventDefault();return}o.handle&&!qt(u,o.handle,a,!1)||this._prepareDragStart(n,s,i)}}},_prepareDragStart:function(n,r,a){var o=this,l=o.el,t=o.options,s=l.ownerDocument,i;if(a&&!B&&a.parentNode===l){var u=yt(a);if(mt=l,B=a,Et=B.parentNode,xe=B.nextSibling,mn=a,un=t.group,Y.dragged=B,me={target:B,clientX:(r||n).clientX,clientY:(r||n).clientY},hr=me.clientX-u.left,pr=me.clientY-u.top,this._lastX=(r||n).clientX,this._lastY=(r||n).clientY,B.style["will-change"]="all",i=function(){if(Ut("delayEnded",o,{evt:n}),Y.eventCanceled){o._onDrop();return}o._disableDelayedDragEvents(),!lr&&o.nativeDraggable&&(B.draggable=!0),o._triggerDragStart(n,r),Ht({sortable:o,name:"choose",originalEvent:n}),xt(B,t.chosenClass,!0)},t.ignore.split(",").forEach(function(c){zr(B,c.trim(),Wn)}),it(s,"dragover",ye),it(s,"mousemove",ye),it(s,"touchmove",ye),it(s,"mouseup",o._onDrop),it(s,"touchend",o._onDrop),it(s,"touchcancel",o._onDrop),lr&&this.nativeDraggable&&(this.options.touchStartThreshold=4,B.draggable=!0),Ut("delayStart",this,{evt:n}),t.delay&&(!t.delayOnTouchOnly||r)&&(!this.nativeDraggable||!(rn||ue))){if(Y.eventCanceled){this._onDrop();return}it(s,"mouseup",o._disableDelayedDrag),it(s,"touchend",o._disableDelayedDrag),it(s,"touchcancel",o._disableDelayedDrag),it(s,"mousemove",o._delayedDragTouchMoveHandler),it(s,"touchmove",o._delayedDragTouchMoveHandler),t.supportPointer&&it(s,"pointermove",o._delayedDragTouchMoveHandler),o._dragStartTimer=setTimeout(i,t.delay)}else i()}},_delayedDragTouchMoveHandler:function(n){var r=n.touches?n.touches[0]:n;Math.max(Math.abs(r.clientX-this._lastX),Math.abs(r.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){B&&Wn(B),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var n=this.el.ownerDocument;at(n,"mouseup",this._disableDelayedDrag),at(n,"touchend",this._disableDelayedDrag),at(n,"touchcancel",this._disableDelayedDrag),at(n,"mousemove",this._delayedDragTouchMoveHandler),at(n,"touchmove",this._delayedDragTouchMoveHandler),at(n,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(n,r){r=r||n.pointerType=="touch"&&n,!this.nativeDraggable||r?this.options.supportPointer?it(document,"pointermove",this._onTouchMove):r?it(document,"touchmove",this._onTouchMove):it(document,"mousemove",this._onTouchMove):(it(B,"dragend",this),it(mt,"dragstart",this._onDragStart));try{document.selection?bn(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(n,r){if(Ie=!1,mt&&B){Ut("dragStarted",this,{evt:r}),this.nativeDraggable&&it(document,"dragover",ws);var a=this.options;!n&&xt(B,a.dragClass,!1),xt(B,a.ghostClass,!0),Y.active=this,n&&this._appendGhost(),Ht({sortable:this,name:"start",originalEvent:r})}else this._nulling()},_emulateDragOver:function(){if(Qt){this._lastX=Qt.clientX,this._lastY=Qt.clientY,Kr();for(var n=document.elementFromPoint(Qt.clientX,Qt.clientY),r=n;n&&n.shadowRoot&&(n=n.shadowRoot.elementFromPoint(Qt.clientX,Qt.clientY),n!==r);)r=n;if(B.parentNode[jt]._isOutsideThisEl(n),r)do{if(r[jt]){var a=void 0;if(a=r[jt]._onDragOver({clientX:Qt.clientX,clientY:Qt.clientY,target:n,rootEl:r}),a&&!this.options.dragoverBubble)break}n=r}while(r=r.parentNode);Yr()}},_onTouchMove:function(n){if(me){var r=this.options,a=r.fallbackTolerance,o=r.fallbackOffset,l=n.touches?n.touches[0]:n,t=et&&Ee(et,!0),s=et&&t&&t.a,i=et&&t&&t.d,u=dn&&Mt&&dr(Mt),c=(l.clientX-me.clientX+o.x)/(s||1)+(u?u[0]-Un[0]:0)/(s||1),d=(l.clientY-me.clientY+o.y)/(i||1)+(u?u[1]-Un[1]:0)/(i||1);if(!Y.active&&!Ie){if(a&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<a)return;this._onDragStart(n,!0)}if(et){t?(t.e+=c-(Hn||0),t.f+=d-(zn||0)):t={a:1,b:0,c:0,d:1,e:c,f:d};var f="matrix(".concat(t.a,",").concat(t.b,",").concat(t.c,",").concat(t.d,",").concat(t.e,",").concat(t.f,")");G(et,"webkitTransform",f),G(et,"mozTransform",f),G(et,"msTransform",f),G(et,"transform",f),Hn=c,zn=d,Qt=l}n.cancelable&&n.preventDefault()}},_appendGhost:function(){if(!et){var n=this.options.fallbackOnBody?document.body:mt,r=yt(B,!0,dn,!0,n),a=this.options;if(dn){for(Mt=n;G(Mt,"position")==="static"&&G(Mt,"transform")==="none"&&Mt!==document;)Mt=Mt.parentNode;Mt!==document.body&&Mt!==document.documentElement?(Mt===document&&(Mt=ee()),r.top+=Mt.scrollTop,r.left+=Mt.scrollLeft):Mt=ee(),Un=dr(Mt)}et=B.cloneNode(!0),xt(et,a.ghostClass,!1),xt(et,a.fallbackClass,!0),xt(et,a.dragClass,!0),G(et,"transition",""),G(et,"transform",""),G(et,"box-sizing","border-box"),G(et,"margin",0),G(et,"top",r.top),G(et,"left",r.left),G(et,"width",r.width),G(et,"height",r.height),G(et,"opacity","0.8"),G(et,"position",dn?"absolute":"fixed"),G(et,"zIndex","100000"),G(et,"pointerEvents","none"),Y.ghost=et,n.appendChild(et),G(et,"transform-origin",hr/parseInt(et.style.width)*100+"% "+pr/parseInt(et.style.height)*100+"%")}},_onDragStart:function(n,r){var a=this,o=n.dataTransfer,l=a.options;if(Ut("dragStart",this,{evt:n}),Y.eventCanceled){this._onDrop();return}Ut("setupClone",this),Y.eventCanceled||(wt=or(B),wt.draggable=!1,wt.style["will-change"]="",this._hideClone(),xt(wt,this.options.chosenClass,!1),Y.clone=wt),a.cloneId=bn(function(){Ut("clone",a),!Y.eventCanceled&&(a.options.removeCloneOnHide||mt.insertBefore(wt,B),a._hideClone(),Ht({sortable:a,name:"clone"}))}),!r&&xt(B,l.dragClass,!0),r?(On=!0,a._loopId=setInterval(a._emulateDragOver,50)):(at(document,"mouseup",a._onDrop),at(document,"touchend",a._onDrop),at(document,"touchcancel",a._onDrop),o&&(o.effectAllowed="move",l.setData&&l.setData.call(a,o,B)),it(document,"drop",a),G(B,"transform","translateZ(0)")),Ie=!0,a._dragStartId=bn(a._dragStarted.bind(a,r,n)),it(document,"selectstart",a),Ve=!0,Qe&&G(document.body,"user-select","none")},_onDragOver:function(n){var r=this.el,a=n.target,o,l,t,s=this.options,i=s.group,u=Y.active,c=un===i,d=s.sort,f=Dt||u,h,v=this,g=!1;if(Qn)return;function x(J,rt){Ut(J,v,ne({evt:n,isOwner:c,axis:h?"vertical":"horizontal",revert:t,dragRect:o,targetRect:l,canSort:d,fromSortable:f,target:a,completed:b,onMove:function(ct,ht){return fn(mt,r,B,o,ct,yt(ct),n,ht)},changed:p},rt))}function y(){x("dragOverAnimationCapture"),v.captureAnimationState(),v!==f&&f.captureAnimationState()}function b(J){return x("dragOverCompleted",{insertion:J}),J&&(c?u._hideClone():u._showClone(v),v!==f&&(xt(B,Dt?Dt.options.ghostClass:u.options.ghostClass,!1),xt(B,s.ghostClass,!0)),Dt!==v&&v!==Y.active?Dt=v:v===Y.active&&Dt&&(Dt=null),f===v&&(v._ignoreWhileAnimating=a),v.animateAll(function(){x("dragOverAnimationComplete"),v._ignoreWhileAnimating=null}),v!==f&&(f.animateAll(),f._ignoreWhileAnimating=null)),(a===B&&!B.animated||a===r&&!a.animated)&&(Ce=null),!s.dragoverBubble&&!n.rootEl&&a!==document&&(B.parentNode[jt]._isOutsideThisEl(n.target),!J&&ye(n)),!s.dragoverBubble&&n.stopPropagation&&n.stopPropagation(),g=!0}function p(){Vt=Tt(B),de=Tt(B,s.draggable),Ht({sortable:v,name:"change",toEl:r,newIndex:Vt,newDraggableIndex:de,originalEvent:n})}if(n.preventDefault!==void 0&&n.cancelable&&n.preventDefault(),a=qt(a,s.draggable,r,!0),x("dragOver"),Y.eventCanceled)return g;if(B.contains(n.target)||a.animated&&a.animatingX&&a.animatingY||v._ignoreWhileAnimating===a)return b(!1);if(On=!1,u&&!s.disabled&&(c?d||(t=Et!==mt):Dt===this||(this.lastPutMode=un.checkPull(this,u,B,n))&&i.checkPut(this,u,B,n))){if(h=this._getDirection(n,a)==="vertical",o=yt(B),x("dragOverValid"),Y.eventCanceled)return g;if(t)return Et=mt,y(),this._hideClone(),x("revert"),Y.eventCanceled||(xe?mt.insertBefore(B,xe):mt.appendChild(B)),b(!0);var m=rr(r,s.draggable);if(!m||$s(n,h,this)&&!m.animated){if(m===B)return b(!1);if(m&&r===n.target&&(a=m),a&&(l=yt(a)),fn(mt,r,B,o,a,l,n,!!a)!==!1)return y(),r.appendChild(B),Et=r,p(),b(!0)}else if(m&&Os(n,h,this)){var S=De(r,0,s,!0);if(S===B)return b(!1);if(a=S,l=yt(a),fn(mt,r,B,o,a,l,n,!1)!==!1)return y(),r.insertBefore(B,S),Et=r,p(),b(!0)}else if(a.parentNode===r){l=yt(a);var w=0,M,R=B.parentNode!==r,$=!Ss(B.animated&&B.toRect||o,a.animated&&a.toRect||l,h),E=h?"top":"left",P=cr(a,"top","top")||cr(B,"top","top"),N=P?P.scrollTop:void 0;Ce!==a&&(M=l[E],tn=!1,cn=!$&&s.invertSwap||R),w=Is(n,a,l,h,$?1:s.swapThreshold,s.invertedSwapThreshold==null?s.swapThreshold:s.invertedSwapThreshold,cn,Ce===a);var A;if(w!==0){var D=Tt(B);do D-=w,A=Et.children[D];while(A&&(G(A,"display")==="none"||A===et))}if(w===0||A===a)return b(!1);Ce=a,_e=w;var U=a.nextElementSibling,F=!1;F=w===1;var H=fn(mt,r,B,o,a,l,n,F);if(H!==!1)return(H===1||H===-1)&&(F=H===1),Qn=!0,setTimeout(Cs,30),y(),F&&!U?r.appendChild(B):a.parentNode.insertBefore(B,F?U:a),P&&Wr(P,0,N-P.scrollTop),Et=B.parentNode,M!==void 0&&!cn&&(yn=Math.abs(M-yt(a)[E])),p(),b(!0)}if(r.contains(B))return b(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){at(document,"mousemove",this._onTouchMove),at(document,"touchmove",this._onTouchMove),at(document,"pointermove",this._onTouchMove),at(document,"dragover",ye),at(document,"mousemove",ye),at(document,"touchmove",ye)},_offUpEvents:function(){var n=this.el.ownerDocument;at(n,"mouseup",this._onDrop),at(n,"touchend",this._onDrop),at(n,"pointerup",this._onDrop),at(n,"touchcancel",this._onDrop),at(document,"selectstart",this)},_onDrop:function(n){var r=this.el,a=this.options;if(Vt=Tt(B),de=Tt(B,a.draggable),Ut("drop",this,{evt:n}),Et=B&&B.parentNode,Vt=Tt(B),de=Tt(B,a.draggable),Y.eventCanceled){this._nulling();return}Ie=!1,cn=!1,tn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),kn(this.cloneId),kn(this._dragStartId),this.nativeDraggable&&(at(document,"drop",this),at(r,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),Qe&&G(document.body,"user-select",""),G(B,"transform",""),n&&(Ve&&(n.cancelable&&n.preventDefault(),!a.dropBubble&&n.stopPropagation()),et&&et.parentNode&&et.parentNode.removeChild(et),(mt===Et||Dt&&Dt.lastPutMode!=="clone")&&wt&&wt.parentNode&&wt.parentNode.removeChild(wt),B&&(this.nativeDraggable&&at(B,"dragend",this),Wn(B),B.style["will-change"]="",Ve&&!Ie&&xt(B,Dt?Dt.options.ghostClass:this.options.ghostClass,!1),xt(B,this.options.chosenClass,!1),Ht({sortable:this,name:"unchoose",toEl:Et,newIndex:null,newDraggableIndex:null,originalEvent:n}),mt!==Et?(Vt>=0&&(Ht({rootEl:Et,name:"add",toEl:Et,fromEl:mt,originalEvent:n}),Ht({sortable:this,name:"remove",toEl:Et,originalEvent:n}),Ht({rootEl:Et,name:"sort",toEl:Et,fromEl:mt,originalEvent:n}),Ht({sortable:this,name:"sort",toEl:Et,originalEvent:n})),Dt&&Dt.save()):Vt!==Pe&&Vt>=0&&(Ht({sortable:this,name:"update",toEl:Et,originalEvent:n}),Ht({sortable:this,name:"sort",toEl:Et,originalEvent:n})),Y.active&&((Vt==null||Vt===-1)&&(Vt=Pe,de=qe),Ht({sortable:this,name:"end",toEl:Et,originalEvent:n}),this.save()))),this._nulling()},_nulling:function(){Ut("nulling",this),mt=B=Et=et=xe=wt=mn=he=me=Qt=Ve=Vt=de=Pe=qe=Ce=_e=Dt=un=Y.dragged=Y.ghost=Y.clone=Y.active=null,In.forEach(function(n){n.checked=!0}),In.length=Hn=zn=0},handleEvent:function(n){switch(n.type){case"drop":case"dragend":this._onDrop(n);break;case"dragenter":case"dragover":B&&(this._onDragOver(n),Ts(n));break;case"selectstart":n.preventDefault();break}},toArray:function(){for(var n=[],r,a=this.el.children,o=0,l=a.length,t=this.options;o<l;o++)r=a[o],qt(r,t.draggable,this.el,!1)&&n.push(r.getAttribute(t.dataIdAttr)||Ps(r));return n},sort:function(n,r){var a={},o=this.el;this.toArray().forEach(function(l,t){var s=o.children[t];qt(s,this.options.draggable,o,!1)&&(a[l]=s)},this),r&&this.captureAnimationState(),n.forEach(function(l){a[l]&&(o.removeChild(a[l]),o.appendChild(a[l]))}),r&&this.animateAll()},save:function(){var n=this.options.store;n&&n.set&&n.set(this)},closest:function(n,r){return qt(n,r||this.options.draggable,this.el,!1)},option:function(n,r){var a=this.options;if(r===void 0)return a[n];var o=on.modifyOption(this,n,r);typeof o<"u"?a[n]=o:a[n]=r,n==="group"&&Xr(a)},destroy:function(){Ut("destroy",this);var n=this.el;n[jt]=null,at(n,"mousedown",this._onTapStart),at(n,"touchstart",this._onTapStart),at(n,"pointerdown",this._onTapStart),this.nativeDraggable&&(at(n,"dragover",this),at(n,"dragenter",this)),Array.prototype.forEach.call(n.querySelectorAll("[draggable]"),function(r){r.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),$n.splice($n.indexOf(this.el),1),this.el=n=null},_hideClone:function(){if(!he){if(Ut("hideClone",this),Y.eventCanceled)return;G(wt,"display","none"),this.options.removeCloneOnHide&&wt.parentNode&&wt.parentNode.removeChild(wt),he=!0}},_showClone:function(n){if(n.lastPutMode!=="clone"){this._hideClone();return}if(he){if(Ut("showClone",this),Y.eventCanceled)return;B.parentNode==mt&&!this.options.group.revertClone?mt.insertBefore(wt,B):xe?mt.insertBefore(wt,xe):mt.appendChild(wt),this.options.group.revertClone&&this.animate(B,wt),G(wt,"display",""),he=!1}}};function Ts(e){e.dataTransfer&&(e.dataTransfer.dropEffect="move"),e.cancelable&&e.preventDefault()}function fn(e,n,r,a,o,l,t,s){var i,u=e[jt],c=u.options.onMove,d;return window.CustomEvent&&!ue&&!rn?i=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(i=document.createEvent("Event"),i.initEvent("move",!0,!0)),i.to=n,i.from=e,i.dragged=r,i.draggedRect=a,i.related=o||n,i.relatedRect=l||yt(n),i.willInsertAfter=s,i.originalEvent=t,e.dispatchEvent(i),c&&(d=c.call(u,i,t)),d}function Wn(e){e.draggable=!1}function Cs(){Qn=!1}function Os(e,n,r){var a=yt(De(r.el,0,r.options,!0)),o=10;return n?e.clientX<a.left-o||e.clientY<a.top&&e.clientX<a.right:e.clientY<a.top-o||e.clientY<a.bottom&&e.clientX<a.left}function $s(e,n,r){var a=yt(rr(r.el,r.options.draggable)),o=10;return n?e.clientX>a.right+o||e.clientX<=a.right&&e.clientY>a.bottom&&e.clientX>=a.left:e.clientX>a.right&&e.clientY>a.top||e.clientX<=a.right&&e.clientY>a.bottom+o}function Is(e,n,r,a,o,l,t,s){var i=a?e.clientY:e.clientX,u=a?r.height:r.width,c=a?r.top:r.left,d=a?r.bottom:r.right,f=!1;if(!t){if(s&&yn<u*o){if(!tn&&(_e===1?i>c+u*l/2:i<d-u*l/2)&&(tn=!0),tn)f=!0;else if(_e===1?i<c+yn:i>d-yn)return-_e}else if(i>c+u*(1-o)/2&&i<d-u*(1-o)/2)return As(n)}return f=f||t,f&&(i<c+u*l/2||i>d-u*l/2)?i>c+u/2?1:-1:0}function As(e){return Tt(B)<Tt(e)?1:-1}function Ps(e){for(var n=e.tagName+e.className+e.src+e.href+e.textContent,r=n.length,a=0;r--;)a+=n.charCodeAt(r);return a.toString(36)}function Ds(e){In.length=0;for(var n=e.getElementsByTagName("input"),r=n.length;r--;){var a=n[r];a.checked&&In.push(a)}}function bn(e){return setTimeout(e,0)}function kn(e){return clearTimeout(e)}Mn&&it(document,"touchmove",function(e){(Y.active||Ie)&&e.cancelable&&e.preventDefault()});Y.utils={on:it,off:at,css:G,find:zr,is:function(n,r){return!!qt(n,r,n,!1)},extend:ps,throttle:Ur,closest:qt,toggleClass:xt,clone:or,index:Tt,nextTick:bn,cancelNextTick:kn,detectDirection:Vr,getChild:De};Y.get=function(e){return e[jt]};Y.mount=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];n[0].constructor===Array&&(n=n[0]),n.forEach(function(a){if(!a.prototype||!a.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(a));a.utils&&(Y.utils=ne(ne({},Y.utils),a.utils)),on.mount(a)})};Y.create=function(e,n){return new Y(e,n)};Y.version=cs;var $t=[],Xe,qn,_n=!1,Gn,Vn,An,Ke;function Rs(){function e(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var n in this)n.charAt(0)==="_"&&typeof this[n]=="function"&&(this[n]=this[n].bind(this))}return e.prototype={dragStarted:function(r){var a=r.originalEvent;this.sortable.nativeDraggable?it(document,"dragover",this._handleAutoScroll):this.options.supportPointer?it(document,"pointermove",this._handleFallbackAutoScroll):a.touches?it(document,"touchmove",this._handleFallbackAutoScroll):it(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(r){var a=r.originalEvent;!this.options.dragOverBubble&&!a.rootEl&&this._handleAutoScroll(a)},drop:function(){this.sortable.nativeDraggable?at(document,"dragover",this._handleAutoScroll):(at(document,"pointermove",this._handleFallbackAutoScroll),at(document,"touchmove",this._handleFallbackAutoScroll),at(document,"mousemove",this._handleFallbackAutoScroll)),gr(),xn(),vs()},nulling:function(){An=qn=Xe=_n=Ke=Gn=Vn=null,$t.length=0},_handleFallbackAutoScroll:function(r){this._handleAutoScroll(r,!0)},_handleAutoScroll:function(r,a){var o=this,l=(r.touches?r.touches[0]:r).clientX,t=(r.touches?r.touches[0]:r).clientY,s=document.elementFromPoint(l,t);if(An=r,a||this.options.forceAutoScrollFallback||rn||ue||Qe){Xn(r,this.options,s,a);var i=ve(s,!0);_n&&(!Ke||l!==Gn||t!==Vn)&&(Ke&&gr(),Ke=setInterval(function(){var u=ve(document.elementFromPoint(l,t),!0);u!==i&&(i=u,xn()),Xn(r,o.options,u,a)},10),Gn=l,Vn=t)}else{if(!this.options.bubbleScroll||ve(s,!0)===ee()){xn();return}Xn(r,this.options,ve(s,!1),!1)}}},Jt(e,{pluginName:"scroll",initializeByDefault:!0})}function xn(){$t.forEach(function(e){clearInterval(e.pid)}),$t=[]}function gr(){clearInterval(Ke)}var Xn=Ur(function(e,n,r,a){if(n.scroll){var o=(e.touches?e.touches[0]:e).clientX,l=(e.touches?e.touches[0]:e).clientY,t=n.scrollSensitivity,s=n.scrollSpeed,i=ee(),u=!1,c;qn!==r&&(qn=r,xn(),Xe=n.scroll,c=n.scrollFn,Xe===!0&&(Xe=ve(r,!0)));var d=0,f=Xe;do{var h=f,v=yt(h),g=v.top,x=v.bottom,y=v.left,b=v.right,p=v.width,m=v.height,S=void 0,w=void 0,M=h.scrollWidth,R=h.scrollHeight,$=G(h),E=h.scrollLeft,P=h.scrollTop;h===i?(S=p<M&&($.overflowX==="auto"||$.overflowX==="scroll"||$.overflowX==="visible"),w=m<R&&($.overflowY==="auto"||$.overflowY==="scroll"||$.overflowY==="visible")):(S=p<M&&($.overflowX==="auto"||$.overflowX==="scroll"),w=m<R&&($.overflowY==="auto"||$.overflowY==="scroll"));var N=S&&(Math.abs(b-o)<=t&&E+p<M)-(Math.abs(y-o)<=t&&!!E),A=w&&(Math.abs(x-l)<=t&&P+m<R)-(Math.abs(g-l)<=t&&!!P);if(!$t[d])for(var D=0;D<=d;D++)$t[D]||($t[D]={});($t[d].vx!=N||$t[d].vy!=A||$t[d].el!==h)&&($t[d].el=h,$t[d].vx=N,$t[d].vy=A,clearInterval($t[d].pid),(N!=0||A!=0)&&(u=!0,$t[d].pid=setInterval((function(){a&&this.layer===0&&Y.active._onTouchMove(An);var U=$t[this.layer].vy?$t[this.layer].vy*s:0,F=$t[this.layer].vx?$t[this.layer].vx*s:0;typeof c=="function"&&c.call(Y.dragged.parentNode[jt],F,U,e,An,$t[this.layer].el)!=="continue"||Wr($t[this.layer].el,F,U)}).bind({layer:d}),24))),d++}while(n.bubbleScroll&&f!==i&&(f=ve(f,!1)));_n=u}},30),Jr=function(n){var r=n.originalEvent,a=n.putSortable,o=n.dragEl,l=n.activeSortable,t=n.dispatchSortableEvent,s=n.hideGhostForTarget,i=n.unhideGhostForTarget;if(r){var u=a||l;s();var c=r.changedTouches&&r.changedTouches.length?r.changedTouches[0]:r,d=document.elementFromPoint(c.clientX,c.clientY);i(),u&&!u.el.contains(d)&&(t("spill"),this.onSpill({dragEl:o,putSortable:a}))}};function ar(){}ar.prototype={startIndex:null,dragStart:function(n){var r=n.oldDraggableIndex;this.startIndex=r},onSpill:function(n){var r=n.dragEl,a=n.putSortable;this.sortable.captureAnimationState(),a&&a.captureAnimationState();var o=De(this.sortable.el,this.startIndex,this.options);o?this.sortable.el.insertBefore(r,o):this.sortable.el.appendChild(r),this.sortable.animateAll(),a&&a.animateAll()},drop:Jr};Jt(ar,{pluginName:"revertOnSpill"});function ir(){}ir.prototype={onSpill:function(n){var r=n.dragEl,a=n.putSortable,o=a||this.sortable;o.captureAnimationState(),r.parentNode&&r.parentNode.removeChild(r),o.animateAll()},drop:Jr};Jt(ir,{pluginName:"removeOnSpill"});var Kt;function Ms(){function e(){this.defaults={swapClass:"sortable-swap-highlight"}}return e.prototype={dragStart:function(r){var a=r.dragEl;Kt=a},dragOverValid:function(r){var a=r.completed,o=r.target,l=r.onMove,t=r.activeSortable,s=r.changed,i=r.cancel;if(t.options.swap){var u=this.sortable.el,c=this.options;if(o&&o!==u){var d=Kt;l(o)!==!1?(xt(o,c.swapClass,!0),Kt=o):Kt=null,d&&d!==Kt&&xt(d,c.swapClass,!1)}s(),a(!0),i()}},drop:function(r){var a=r.activeSortable,o=r.putSortable,l=r.dragEl,t=o||this.sortable,s=this.options;Kt&&xt(Kt,s.swapClass,!1),Kt&&(s.swap||o&&o.options.swap)&&l!==Kt&&(t.captureAnimationState(),t!==a&&a.captureAnimationState(),Ns(l,Kt),t.animateAll(),t!==a&&a.animateAll())},nulling:function(){Kt=null}},Jt(e,{pluginName:"swap",eventProperties:function(){return{swapItem:Kt}}})}function Ns(e,n){var r=e.parentNode,a=n.parentNode,o,l;!r||!a||r.isEqualNode(n)||a.isEqualNode(e)||(o=Tt(e),l=Tt(n),r.isEqualNode(a)&&o<l&&l++,r.insertBefore(n,r.children[o]),a.insertBefore(e,a.children[l]))}var _=[],Gt=[],He,kt,ze=!1,Wt=!1,Oe=!1,vt,Ue,hn;function Ls(){function e(n){for(var r in this)r.charAt(0)==="_"&&typeof this[r]=="function"&&(this[r]=this[r].bind(this));n.options.supportPointer?it(document,"pointerup",this._deselectMultiDrag):(it(document,"mouseup",this._deselectMultiDrag),it(document,"touchend",this._deselectMultiDrag)),it(document,"keydown",this._checkKeyDown),it(document,"keyup",this._checkKeyUp),this.defaults={selectedClass:"sortable-selected",multiDragKey:null,setData:function(o,l){var t="";_.length&&kt===n?_.forEach(function(s,i){t+=(i?", ":"")+s.textContent}):t=l.textContent,o.setData("Text",t)}}}return e.prototype={multiDragKeyDown:!1,isMultiDrag:!1,delayStartGlobal:function(r){var a=r.dragEl;vt=a},delayEnded:function(){this.isMultiDrag=~_.indexOf(vt)},setupClone:function(r){var a=r.sortable,o=r.cancel;if(this.isMultiDrag){for(var l=0;l<_.length;l++)Gt.push(or(_[l])),Gt[l].sortableIndex=_[l].sortableIndex,Gt[l].draggable=!1,Gt[l].style["will-change"]="",xt(Gt[l],this.options.selectedClass,!1),_[l]===vt&&xt(Gt[l],this.options.chosenClass,!1);a._hideClone(),o()}},clone:function(r){var a=r.sortable,o=r.rootEl,l=r.dispatchSortableEvent,t=r.cancel;this.isMultiDrag&&(this.options.removeCloneOnHide||_.length&&kt===a&&(mr(!0,o),l("clone"),t()))},showClone:function(r){var a=r.cloneNowShown,o=r.rootEl,l=r.cancel;this.isMultiDrag&&(mr(!1,o),Gt.forEach(function(t){G(t,"display","")}),a(),hn=!1,l())},hideClone:function(r){var a=this;r.sortable;var o=r.cloneNowHidden,l=r.cancel;this.isMultiDrag&&(Gt.forEach(function(t){G(t,"display","none"),a.options.removeCloneOnHide&&t.parentNode&&t.parentNode.removeChild(t)}),o(),hn=!0,l())},dragStartGlobal:function(r){r.sortable,!this.isMultiDrag&&kt&&kt.multiDrag._deselectMultiDrag(),_.forEach(function(a){a.sortableIndex=Tt(a)}),_=_.sort(function(a,o){return a.sortableIndex-o.sortableIndex}),Oe=!0},dragStarted:function(r){var a=this,o=r.sortable;if(this.isMultiDrag){if(this.options.sort&&(o.captureAnimationState(),this.options.animation)){_.forEach(function(t){t!==vt&&G(t,"position","absolute")});var l=yt(vt,!1,!0,!0);_.forEach(function(t){t!==vt&&fr(t,l)}),Wt=!0,ze=!0}o.animateAll(function(){Wt=!1,ze=!1,a.options.animation&&_.forEach(function(t){jn(t)}),a.options.sort&&pn()})}},dragOver:function(r){var a=r.target,o=r.completed,l=r.cancel;Wt&&~_.indexOf(a)&&(o(!1),l())},revert:function(r){var a=r.fromSortable,o=r.rootEl,l=r.sortable,t=r.dragRect;_.length>1&&(_.forEach(function(s){l.addAnimationState({target:s,rect:Wt?yt(s):t}),jn(s),s.fromRect=t,a.removeAnimationState(s)}),Wt=!1,Fs(!this.options.removeCloneOnHide,o))},dragOverCompleted:function(r){var a=r.sortable,o=r.isOwner,l=r.insertion,t=r.activeSortable,s=r.parentEl,i=r.putSortable,u=this.options;if(l){if(o&&t._hideClone(),ze=!1,u.animation&&_.length>1&&(Wt||!o&&!t.options.sort&&!i)){var c=yt(vt,!1,!0,!0);_.forEach(function(f){f!==vt&&(fr(f,c),s.appendChild(f))}),Wt=!0}if(!o)if(Wt||pn(),_.length>1){var d=hn;t._showClone(a),t.options.animation&&!hn&&d&&Gt.forEach(function(f){t.addAnimationState({target:f,rect:Ue}),f.fromRect=Ue,f.thisAnimationDuration=null})}else t._showClone(a)}},dragOverAnimationCapture:function(r){var a=r.dragRect,o=r.isOwner,l=r.activeSortable;if(_.forEach(function(s){s.thisAnimationDuration=null}),l.options.animation&&!o&&l.multiDrag.isMultiDrag){Ue=Jt({},a);var t=Ee(vt,!0);Ue.top-=t.f,Ue.left-=t.e}},dragOverAnimationComplete:function(){Wt&&(Wt=!1,pn())},drop:function(r){var a=r.originalEvent,o=r.rootEl,l=r.parentEl,t=r.sortable,s=r.dispatchSortableEvent,i=r.oldIndex,u=r.putSortable,c=u||this.sortable;if(a){var d=this.options,f=l.children;if(!Oe)if(d.multiDragKey&&!this.multiDragKeyDown&&this._deselectMultiDrag(),xt(vt,d.selectedClass,!~_.indexOf(vt)),~_.indexOf(vt))_.splice(_.indexOf(vt),1),He=null,Ge({sortable:t,rootEl:o,name:"deselect",targetEl:vt});else{if(_.push(vt),Ge({sortable:t,rootEl:o,name:"select",targetEl:vt}),a.shiftKey&&He&&t.el.contains(He)){var h=Tt(He),v=Tt(vt);if(~h&&~v&&h!==v){var g,x;for(v>h?(x=h,g=v):(x=v,g=h+1);x<g;x++)~_.indexOf(f[x])||(xt(f[x],d.selectedClass,!0),_.push(f[x]),Ge({sortable:t,rootEl:o,name:"select",targetEl:f[x]}))}}else He=vt;kt=c}if(Oe&&this.isMultiDrag){if(Wt=!1,(l[jt].options.sort||l!==o)&&_.length>1){var y=yt(vt),b=Tt(vt,":not(."+this.options.selectedClass+")");if(!ze&&d.animation&&(vt.thisAnimationDuration=null),c.captureAnimationState(),!ze&&(d.animation&&(vt.fromRect=y,_.forEach(function(m){if(m.thisAnimationDuration=null,m!==vt){var S=Wt?yt(m):y;m.fromRect=S,c.addAnimationState({target:m,rect:S})}})),pn(),_.forEach(function(m){f[b]?l.insertBefore(m,f[b]):l.appendChild(m),b++}),i===Tt(vt))){var p=!1;_.forEach(function(m){if(m.sortableIndex!==Tt(m)){p=!0;return}}),p&&s("update")}_.forEach(function(m){jn(m)}),c.animateAll()}kt=c}(o===l||u&&u.lastPutMode!=="clone")&&Gt.forEach(function(m){m.parentNode&&m.parentNode.removeChild(m)})}},nullingGlobal:function(){this.isMultiDrag=Oe=!1,Gt.length=0},destroyGlobal:function(){this._deselectMultiDrag(),at(document,"pointerup",this._deselectMultiDrag),at(document,"mouseup",this._deselectMultiDrag),at(document,"touchend",this._deselectMultiDrag),at(document,"keydown",this._checkKeyDown),at(document,"keyup",this._checkKeyUp)},_deselectMultiDrag:function(r){if(!(typeof Oe<"u"&&Oe)&&kt===this.sortable&&!(r&&qt(r.target,this.options.draggable,this.sortable.el,!1))&&!(r&&r.button!==0))for(;_.length;){var a=_[0];xt(a,this.options.selectedClass,!1),_.shift(),Ge({sortable:this.sortable,rootEl:this.sortable.el,name:"deselect",targetEl:a})}},_checkKeyDown:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!0)},_checkKeyUp:function(r){r.key===this.options.multiDragKey&&(this.multiDragKeyDown=!1)}},Jt(e,{pluginName:"multiDrag",utils:{select:function(r){var a=r.parentNode[jt];!a||!a.options.multiDrag||~_.indexOf(r)||(kt&&kt!==a&&(kt.multiDrag._deselectMultiDrag(),kt=a),xt(r,a.options.selectedClass,!0),_.push(r))},deselect:function(r){var a=r.parentNode[jt],o=_.indexOf(r);!a||!a.options.multiDrag||!~o||(xt(r,a.options.selectedClass,!1),_.splice(o,1))}},eventProperties:function(){var r=this,a=[],o=[];return _.forEach(function(l){a.push({multiDragElement:l,index:l.sortableIndex});var t;Wt&&l!==vt?t=-1:Wt?t=Tt(l,":not(."+r.options.selectedClass+")"):t=Tt(l),o.push({multiDragElement:l,index:t})}),{items:as(_),clones:[].concat(Gt),oldIndicies:a,newIndicies:o}},optionListeners:{multiDragKey:function(r){return r=r.toLowerCase(),r==="ctrl"?r="Control":r.length>1&&(r=r.charAt(0).toUpperCase()+r.substr(1)),r}}})}function Fs(e,n){_.forEach(function(r,a){var o=n.children[r.sortableIndex+(e?Number(a):0)];o?n.insertBefore(r,o):n.appendChild(r)})}function mr(e,n){Gt.forEach(function(r,a){var o=n.children[r.sortableIndex+(e?Number(a):0)];o?n.insertBefore(r,o):n.appendChild(r)})}function pn(){_.forEach(function(e){e!==vt&&e.parentNode&&e.parentNode.removeChild(e)})}Y.mount(new Rs);Y.mount(ir,ar);const js=Object.freeze(Object.defineProperty({__proto__:null,MultiDrag:Ls,Sortable:Y,Swap:Ms,default:Y},Symbol.toStringTag,{value:"Module"})),Bs=Nr(js);(function(e,n){(function(a,o){e.exports=o(es,Bs)})(typeof self<"u"?self:Li,function(r,a){return function(o){var l={};function t(s){if(l[s])return l[s].exports;var i=l[s]={i:s,l:!1,exports:{}};return o[s].call(i.exports,i,i.exports,t),i.l=!0,i.exports}return t.m=o,t.c=l,t.d=function(s,i,u){t.o(s,i)||Object.defineProperty(s,i,{enumerable:!0,get:u})},t.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},t.t=function(s,i){if(i&1&&(s=t(s)),i&8||i&4&&typeof s=="object"&&s&&s.__esModule)return s;var u=Object.create(null);if(t.r(u),Object.defineProperty(u,"default",{enumerable:!0,value:s}),i&2&&typeof s!="string")for(var c in s)t.d(u,c,(function(d){return s[d]}).bind(null,c));return u},t.n=function(s){var i=s&&s.__esModule?function(){return s.default}:function(){return s};return t.d(i,"a",i),i},t.o=function(s,i){return Object.prototype.hasOwnProperty.call(s,i)},t.p="",t(t.s="fb15")}({"00ee":function(o,l,t){var s=t("b622"),i=s("toStringTag"),u={};u[i]="z",o.exports=String(u)==="[object z]"},"0366":function(o,l,t){var s=t("1c0b");o.exports=function(i,u,c){if(s(i),u===void 0)return i;switch(c){case 0:return function(){return i.call(u)};case 1:return function(d){return i.call(u,d)};case 2:return function(d,f){return i.call(u,d,f)};case 3:return function(d,f,h){return i.call(u,d,f,h)}}return function(){return i.apply(u,arguments)}}},"057f":function(o,l,t){var s=t("fc6a"),i=t("241c").f,u={}.toString,c=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],d=function(f){try{return i(f)}catch{return c.slice()}};o.exports.f=function(h){return c&&u.call(h)=="[object Window]"?d(h):i(s(h))}},"06cf":function(o,l,t){var s=t("83ab"),i=t("d1e7"),u=t("5c6c"),c=t("fc6a"),d=t("c04e"),f=t("5135"),h=t("0cfb"),v=Object.getOwnPropertyDescriptor;l.f=s?v:function(x,y){if(x=c(x),y=d(y,!0),h)try{return v(x,y)}catch{}if(f(x,y))return u(!i.f.call(x,y),x[y])}},"0cfb":function(o,l,t){var s=t("83ab"),i=t("d039"),u=t("cc12");o.exports=!s&&!i(function(){return Object.defineProperty(u("div"),"a",{get:function(){return 7}}).a!=7})},"13d5":function(o,l,t){var s=t("23e7"),i=t("d58f").left,u=t("a640"),c=t("ae40"),d=u("reduce"),f=c("reduce",{1:0});s({target:"Array",proto:!0,forced:!d||!f},{reduce:function(v){return i(this,v,arguments.length,arguments.length>1?arguments[1]:void 0)}})},"14c3":function(o,l,t){var s=t("c6b6"),i=t("9263");o.exports=function(u,c){var d=u.exec;if(typeof d=="function"){var f=d.call(u,c);if(typeof f!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return f}if(s(u)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return i.call(u,c)}},"159b":function(o,l,t){var s=t("da84"),i=t("fdbc"),u=t("17c2"),c=t("9112");for(var d in i){var f=s[d],h=f&&f.prototype;if(h&&h.forEach!==u)try{c(h,"forEach",u)}catch{h.forEach=u}}},"17c2":function(o,l,t){var s=t("b727").forEach,i=t("a640"),u=t("ae40"),c=i("forEach"),d=u("forEach");o.exports=!c||!d?function(h){return s(this,h,arguments.length>1?arguments[1]:void 0)}:[].forEach},"1be4":function(o,l,t){var s=t("d066");o.exports=s("document","documentElement")},"1c0b":function(o,l){o.exports=function(t){if(typeof t!="function")throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(o,l,t){var s=t("b622"),i=s("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[i]=function(){return this},Array.from(d,function(){throw 2})}catch{}o.exports=function(f,h){if(!h&&!u)return!1;var v=!1;try{var g={};g[i]=function(){return{next:function(){return{done:v=!0}}}},f(g)}catch{}return v}},"1d80":function(o,l){o.exports=function(t){if(t==null)throw TypeError("Can't call method on "+t);return t}},"1dde":function(o,l,t){var s=t("d039"),i=t("b622"),u=t("2d00"),c=i("species");o.exports=function(d){return u>=51||!s(function(){var f=[],h=f.constructor={};return h[c]=function(){return{foo:1}},f[d](Boolean).foo!==1})}},"23cb":function(o,l,t){var s=t("a691"),i=Math.max,u=Math.min;o.exports=function(c,d){var f=s(c);return f<0?i(f+d,0):u(f,d)}},"23e7":function(o,l,t){var s=t("da84"),i=t("06cf").f,u=t("9112"),c=t("6eeb"),d=t("ce4e"),f=t("e893"),h=t("94ca");o.exports=function(v,g){var x=v.target,y=v.global,b=v.stat,p,m,S,w,M,R;if(y?m=s:b?m=s[x]||d(x,{}):m=(s[x]||{}).prototype,m)for(S in g){if(M=g[S],v.noTargetGet?(R=i(m,S),w=R&&R.value):w=m[S],p=h(y?S:x+(b?".":"#")+S,v.forced),!p&&w!==void 0){if(typeof M==typeof w)continue;f(M,w)}(v.sham||w&&w.sham)&&u(M,"sham",!0),c(m,S,M,v)}}},"241c":function(o,l,t){var s=t("ca84"),i=t("7839"),u=i.concat("length","prototype");l.f=Object.getOwnPropertyNames||function(d){return s(d,u)}},"25f0":function(o,l,t){var s=t("6eeb"),i=t("825a"),u=t("d039"),c=t("ad6d"),d="toString",f=RegExp.prototype,h=f[d],v=u(function(){return h.call({source:"a",flags:"b"})!="/a/b"}),g=h.name!=d;(v||g)&&s(RegExp.prototype,d,function(){var y=i(this),b=String(y.source),p=y.flags,m=String(p===void 0&&y instanceof RegExp&&!("flags"in f)?c.call(y):p);return"/"+b+"/"+m},{unsafe:!0})},"2ca0":function(o,l,t){var s=t("23e7"),i=t("06cf").f,u=t("50c4"),c=t("5a34"),d=t("1d80"),f=t("ab13"),h=t("c430"),v="".startsWith,g=Math.min,x=f("startsWith"),y=!h&&!x&&!!function(){var b=i(String.prototype,"startsWith");return b&&!b.writable}();s({target:"String",proto:!0,forced:!y&&!x},{startsWith:function(p){var m=String(d(this));c(p);var S=u(g(arguments.length>1?arguments[1]:void 0,m.length)),w=String(p);return v?v.call(m,w,S):m.slice(S,S+w.length)===w}})},"2d00":function(o,l,t){var s=t("da84"),i=t("342f"),u=s.process,c=u&&u.versions,d=c&&c.v8,f,h;d?(f=d.split("."),h=f[0]+f[1]):i&&(f=i.match(/Edge\/(\d+)/),(!f||f[1]>=74)&&(f=i.match(/Chrome\/(\d+)/),f&&(h=f[1]))),o.exports=h&&+h},"342f":function(o,l,t){var s=t("d066");o.exports=s("navigator","userAgent")||""},"35a1":function(o,l,t){var s=t("f5df"),i=t("3f8c"),u=t("b622"),c=u("iterator");o.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||i[s(d)]}},"37e8":function(o,l,t){var s=t("83ab"),i=t("9bf2"),u=t("825a"),c=t("df75");o.exports=s?Object.defineProperties:function(f,h){u(f);for(var v=c(h),g=v.length,x=0,y;g>x;)i.f(f,y=v[x++],h[y]);return f}},"3bbe":function(o,l,t){var s=t("861d");o.exports=function(i){if(!s(i)&&i!==null)throw TypeError("Can't set "+String(i)+" as a prototype");return i}},"3ca3":function(o,l,t){var s=t("6547").charAt,i=t("69f3"),u=t("7dd0"),c="String Iterator",d=i.set,f=i.getterFor(c);u(String,"String",function(h){d(this,{type:c,string:String(h),index:0})},function(){var v=f(this),g=v.string,x=v.index,y;return x>=g.length?{value:void 0,done:!0}:(y=s(g,x),v.index+=y.length,{value:y,done:!1})})},"3f8c":function(o,l){o.exports={}},4160:function(o,l,t){var s=t("23e7"),i=t("17c2");s({target:"Array",proto:!0,forced:[].forEach!=i},{forEach:i})},"428f":function(o,l,t){var s=t("da84");o.exports=s},"44ad":function(o,l,t){var s=t("d039"),i=t("c6b6"),u="".split;o.exports=s(function(){return!Object("z").propertyIsEnumerable(0)})?function(c){return i(c)=="String"?u.call(c,""):Object(c)}:Object},"44d2":function(o,l,t){var s=t("b622"),i=t("7c73"),u=t("9bf2"),c=s("unscopables"),d=Array.prototype;d[c]==null&&u.f(d,c,{configurable:!0,value:i(null)}),o.exports=function(f){d[c][f]=!0}},"44e7":function(o,l,t){var s=t("861d"),i=t("c6b6"),u=t("b622"),c=u("match");o.exports=function(d){var f;return s(d)&&((f=d[c])!==void 0?!!f:i(d)=="RegExp")}},4930:function(o,l,t){var s=t("d039");o.exports=!!Object.getOwnPropertySymbols&&!s(function(){return!String(Symbol())})},"4d64":function(o,l,t){var s=t("fc6a"),i=t("50c4"),u=t("23cb"),c=function(d){return function(f,h,v){var g=s(f),x=i(g.length),y=u(v,x),b;if(d&&h!=h){for(;x>y;)if(b=g[y++],b!=b)return!0}else for(;x>y;y++)if((d||y in g)&&g[y]===h)return d||y||0;return!d&&-1}};o.exports={includes:c(!0),indexOf:c(!1)}},"4de4":function(o,l,t){var s=t("23e7"),i=t("b727").filter,u=t("1dde"),c=t("ae40"),d=u("filter"),f=c("filter");s({target:"Array",proto:!0,forced:!d||!f},{filter:function(v){return i(this,v,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(o,l,t){var s=t("0366"),i=t("7b0b"),u=t("9bdd"),c=t("e95a"),d=t("50c4"),f=t("8418"),h=t("35a1");o.exports=function(g){var x=i(g),y=typeof this=="function"?this:Array,b=arguments.length,p=b>1?arguments[1]:void 0,m=p!==void 0,S=h(x),w=0,M,R,$,E,P,N;if(m&&(p=s(p,b>2?arguments[2]:void 0,2)),S!=null&&!(y==Array&&c(S)))for(E=S.call(x),P=E.next,R=new y;!($=P.call(E)).done;w++)N=m?u(E,p,[$.value,w],!0):$.value,f(R,w,N);else for(M=d(x.length),R=new y(M);M>w;w++)N=m?p(x[w],w):x[w],f(R,w,N);return R.length=w,R}},"4fad":function(o,l,t){var s=t("23e7"),i=t("6f53").entries;s({target:"Object",stat:!0},{entries:function(c){return i(c)}})},"50c4":function(o,l,t){var s=t("a691"),i=Math.min;o.exports=function(u){return u>0?i(s(u),9007199254740991):0}},5135:function(o,l){var t={}.hasOwnProperty;o.exports=function(s,i){return t.call(s,i)}},5319:function(o,l,t){var s=t("d784"),i=t("825a"),u=t("7b0b"),c=t("50c4"),d=t("a691"),f=t("1d80"),h=t("8aa5"),v=t("14c3"),g=Math.max,x=Math.min,y=Math.floor,b=/\$([$&'`]|\d\d?|<[^>]*>)/g,p=/\$([$&'`]|\d\d?)/g,m=function(S){return S===void 0?S:String(S)};s("replace",2,function(S,w,M,R){var $=R.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,E=R.REPLACE_KEEPS_$0,P=$?"$":"$0";return[function(D,U){var F=f(this),H=D==null?void 0:D[S];return H!==void 0?H.call(D,F,U):w.call(String(F),D,U)},function(A,D){if(!$&&E||typeof D=="string"&&D.indexOf(P)===-1){var U=M(w,A,this,D);if(U.done)return U.value}var F=i(A),H=String(this),J=typeof D=="function";J||(D=String(D));var rt=F.global;if(rt){var ft=F.unicode;F.lastIndex=0}for(var ct=[];;){var ht=v(F,H);if(ht===null||(ct.push(ht),!rt))break;var gt=String(ht[0]);gt===""&&(F.lastIndex=h(H,c(F.lastIndex),ft))}for(var Ct="",St=0,dt=0;dt<ct.length;dt++){ht=ct[dt];for(var j=String(ht[0]),V=g(x(d(ht.index),H.length),0),z=[],pt=1;pt<ht.length;pt++)z.push(m(ht[pt]));var Rt=ht.groups;if(J){var It=[j].concat(z,V,H);Rt!==void 0&&It.push(Rt);var At=String(D.apply(void 0,It))}else At=N(j,H,V,z,Rt,D);V>=St&&(Ct+=H.slice(St,V)+At,St=V+j.length)}return Ct+H.slice(St)}];function N(A,D,U,F,H,J){var rt=U+A.length,ft=F.length,ct=p;return H!==void 0&&(H=u(H),ct=b),w.call(J,ct,function(ht,gt){var Ct;switch(gt.charAt(0)){case"$":return"$";case"&":return A;case"`":return D.slice(0,U);case"'":return D.slice(rt);case"<":Ct=H[gt.slice(1,-1)];break;default:var St=+gt;if(St===0)return ht;if(St>ft){var dt=y(St/10);return dt===0?ht:dt<=ft?F[dt-1]===void 0?gt.charAt(1):F[dt-1]+gt.charAt(1):ht}Ct=F[St-1]}return Ct===void 0?"":Ct})}})},5692:function(o,l,t){var s=t("c430"),i=t("c6cd");(o.exports=function(u,c){return i[u]||(i[u]=c!==void 0?c:{})})("versions",[]).push({version:"3.6.5",mode:s?"pure":"global",copyright:"© 2020 Denis Pushkarev (zloirock.ru)"})},"56ef":function(o,l,t){var s=t("d066"),i=t("241c"),u=t("7418"),c=t("825a");o.exports=s("Reflect","ownKeys")||function(f){var h=i.f(c(f)),v=u.f;return v?h.concat(v(f)):h}},"5a34":function(o,l,t){var s=t("44e7");o.exports=function(i){if(s(i))throw TypeError("The method doesn't accept regular expressions");return i}},"5c6c":function(o,l){o.exports=function(t,s){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:s}}},"5db7":function(o,l,t){var s=t("23e7"),i=t("a2bf"),u=t("7b0b"),c=t("50c4"),d=t("1c0b"),f=t("65f0");s({target:"Array",proto:!0},{flatMap:function(v){var g=u(this),x=c(g.length),y;return d(v),y=f(g,0),y.length=i(y,g,g,x,0,1,v,arguments.length>1?arguments[1]:void 0),y}})},6547:function(o,l,t){var s=t("a691"),i=t("1d80"),u=function(c){return function(d,f){var h=String(i(d)),v=s(f),g=h.length,x,y;return v<0||v>=g?c?"":void 0:(x=h.charCodeAt(v),x<55296||x>56319||v+1===g||(y=h.charCodeAt(v+1))<56320||y>57343?c?h.charAt(v):x:c?h.slice(v,v+2):(x-55296<<10)+(y-56320)+65536)}};o.exports={codeAt:u(!1),charAt:u(!0)}},"65f0":function(o,l,t){var s=t("861d"),i=t("e8b5"),u=t("b622"),c=u("species");o.exports=function(d,f){var h;return i(d)&&(h=d.constructor,typeof h=="function"&&(h===Array||i(h.prototype))?h=void 0:s(h)&&(h=h[c],h===null&&(h=void 0))),new(h===void 0?Array:h)(f===0?0:f)}},"69f3":function(o,l,t){var s=t("7f9a"),i=t("da84"),u=t("861d"),c=t("9112"),d=t("5135"),f=t("f772"),h=t("d012"),v=i.WeakMap,g,x,y,b=function($){return y($)?x($):g($,{})},p=function($){return function(E){var P;if(!u(E)||(P=x(E)).type!==$)throw TypeError("Incompatible receiver, "+$+" required");return P}};if(s){var m=new v,S=m.get,w=m.has,M=m.set;g=function($,E){return M.call(m,$,E),E},x=function($){return S.call(m,$)||{}},y=function($){return w.call(m,$)}}else{var R=f("state");h[R]=!0,g=function($,E){return c($,R,E),E},x=function($){return d($,R)?$[R]:{}},y=function($){return d($,R)}}o.exports={set:g,get:x,has:y,enforce:b,getterFor:p}},"6eeb":function(o,l,t){var s=t("da84"),i=t("9112"),u=t("5135"),c=t("ce4e"),d=t("8925"),f=t("69f3"),h=f.get,v=f.enforce,g=String(String).split("String");(o.exports=function(x,y,b,p){var m=p?!!p.unsafe:!1,S=p?!!p.enumerable:!1,w=p?!!p.noTargetGet:!1;if(typeof b=="function"&&(typeof y=="string"&&!u(b,"name")&&i(b,"name",y),v(b).source=g.join(typeof y=="string"?y:"")),x===s){S?x[y]=b:c(y,b);return}else m?!w&&x[y]&&(S=!0):delete x[y];S?x[y]=b:i(x,y,b)})(Function.prototype,"toString",function(){return typeof this=="function"&&h(this).source||d(this)})},"6f53":function(o,l,t){var s=t("83ab"),i=t("df75"),u=t("fc6a"),c=t("d1e7").f,d=function(f){return function(h){for(var v=u(h),g=i(v),x=g.length,y=0,b=[],p;x>y;)p=g[y++],(!s||c.call(v,p))&&b.push(f?[p,v[p]]:v[p]);return b}};o.exports={entries:d(!0),values:d(!1)}},"73d9":function(o,l,t){var s=t("44d2");s("flatMap")},7418:function(o,l){l.f=Object.getOwnPropertySymbols},"746f":function(o,l,t){var s=t("428f"),i=t("5135"),u=t("e538"),c=t("9bf2").f;o.exports=function(d){var f=s.Symbol||(s.Symbol={});i(f,d)||c(f,d,{value:u.f(d)})}},7839:function(o,l){o.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(o,l,t){var s=t("1d80");o.exports=function(i){return Object(s(i))}},"7c73":function(o,l,t){var s=t("825a"),i=t("37e8"),u=t("7839"),c=t("d012"),d=t("1be4"),f=t("cc12"),h=t("f772"),v=">",g="<",x="prototype",y="script",b=h("IE_PROTO"),p=function(){},m=function($){return g+y+v+$+g+"/"+y+v},S=function($){$.write(m("")),$.close();var E=$.parentWindow.Object;return $=null,E},w=function(){var $=f("iframe"),E="java"+y+":",P;return $.style.display="none",d.appendChild($),$.src=String(E),P=$.contentWindow.document,P.open(),P.write(m("document.F=Object")),P.close(),P.F},M,R=function(){try{M=document.domain&&new ActiveXObject("htmlfile")}catch{}R=M?S(M):w();for(var $=u.length;$--;)delete R[x][u[$]];return R()};c[b]=!0,o.exports=Object.create||function(E,P){var N;return E!==null?(p[x]=s(E),N=new p,p[x]=null,N[b]=E):N=R(),P===void 0?N:i(N,P)}},"7dd0":function(o,l,t){var s=t("23e7"),i=t("9ed3"),u=t("e163"),c=t("d2bb"),d=t("d44e"),f=t("9112"),h=t("6eeb"),v=t("b622"),g=t("c430"),x=t("3f8c"),y=t("ae93"),b=y.IteratorPrototype,p=y.BUGGY_SAFARI_ITERATORS,m=v("iterator"),S="keys",w="values",M="entries",R=function(){return this};o.exports=function($,E,P,N,A,D,U){i(P,E,N);var F=function(dt){if(dt===A&&ct)return ct;if(!p&&dt in rt)return rt[dt];switch(dt){case S:return function(){return new P(this,dt)};case w:return function(){return new P(this,dt)};case M:return function(){return new P(this,dt)}}return function(){return new P(this)}},H=E+" Iterator",J=!1,rt=$.prototype,ft=rt[m]||rt["@@iterator"]||A&&rt[A],ct=!p&&ft||F(A),ht=E=="Array"&&rt.entries||ft,gt,Ct,St;if(ht&&(gt=u(ht.call(new $)),b!==Object.prototype&&gt.next&&(!g&&u(gt)!==b&&(c?c(gt,b):typeof gt[m]!="function"&&f(gt,m,R)),d(gt,H,!0,!0),g&&(x[H]=R))),A==w&&ft&&ft.name!==w&&(J=!0,ct=function(){return ft.call(this)}),(!g||U)&&rt[m]!==ct&&f(rt,m,ct),x[E]=ct,A)if(Ct={values:F(w),keys:D?ct:F(S),entries:F(M)},U)for(St in Ct)(p||J||!(St in rt))&&h(rt,St,Ct[St]);else s({target:E,proto:!0,forced:p||J},Ct);return Ct}},"7f9a":function(o,l,t){var s=t("da84"),i=t("8925"),u=s.WeakMap;o.exports=typeof u=="function"&&/native code/.test(i(u))},"825a":function(o,l,t){var s=t("861d");o.exports=function(i){if(!s(i))throw TypeError(String(i)+" is not an object");return i}},"83ab":function(o,l,t){var s=t("d039");o.exports=!s(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},8418:function(o,l,t){var s=t("c04e"),i=t("9bf2"),u=t("5c6c");o.exports=function(c,d,f){var h=s(d);h in c?i.f(c,h,u(0,f)):c[h]=f}},"861d":function(o,l){o.exports=function(t){return typeof t=="object"?t!==null:typeof t=="function"}},8875:function(o,l,t){var s,i,u;(function(c,d){i=[],s=d,u=typeof s=="function"?s.apply(l,i):s,u!==void 0&&(o.exports=u)})(typeof self<"u"?self:this,function(){function c(){var d=Object.getOwnPropertyDescriptor(document,"currentScript");if(!d&&"currentScript"in document&&document.currentScript||d&&d.get!==c&&document.currentScript)return document.currentScript;try{throw new Error}catch(M){var f=/.*at [^(]*\((.*):(.+):(.+)\)$/ig,h=/@([^@]*):(\d+):(\d+)\s*$/ig,v=f.exec(M.stack)||h.exec(M.stack),g=v&&v[1]||!1,x=v&&v[2]||!1,y=document.location.href.replace(document.location.hash,""),b,p,m,S=document.getElementsByTagName("script");g===y&&(b=document.documentElement.outerHTML,p=new RegExp("(?:[^\\n]+?\\n){0,"+(x-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i"),m=b.replace(p,"$1").trim());for(var w=0;w<S.length;w++)if(S[w].readyState==="interactive"||S[w].src===g||g===y&&S[w].innerHTML&&S[w].innerHTML.trim()===m)return S[w];return null}}return c})},8925:function(o,l,t){var s=t("c6cd"),i=Function.toString;typeof s.inspectSource!="function"&&(s.inspectSource=function(u){return i.call(u)}),o.exports=s.inspectSource},"8aa5":function(o,l,t){var s=t("6547").charAt;o.exports=function(i,u,c){return u+(c?s(i,u).length:1)}},"8bbf":function(o,l){o.exports=r},"90e3":function(o,l){var t=0,s=Math.random();o.exports=function(i){return"Symbol("+String(i===void 0?"":i)+")_"+(++t+s).toString(36)}},9112:function(o,l,t){var s=t("83ab"),i=t("9bf2"),u=t("5c6c");o.exports=s?function(c,d,f){return i.f(c,d,u(1,f))}:function(c,d,f){return c[d]=f,c}},9263:function(o,l,t){var s=t("ad6d"),i=t("9f7f"),u=RegExp.prototype.exec,c=String.prototype.replace,d=u,f=function(){var x=/a/,y=/b*/g;return u.call(x,"a"),u.call(y,"a"),x.lastIndex!==0||y.lastIndex!==0}(),h=i.UNSUPPORTED_Y||i.BROKEN_CARET,v=/()??/.exec("")[1]!==void 0,g=f||v||h;g&&(d=function(y){var b=this,p,m,S,w,M=h&&b.sticky,R=s.call(b),$=b.source,E=0,P=y;return M&&(R=R.replace("y",""),R.indexOf("g")===-1&&(R+="g"),P=String(y).slice(b.lastIndex),b.lastIndex>0&&(!b.multiline||b.multiline&&y[b.lastIndex-1]!==`
`)&&($="(?: "+$+")",P=" "+P,E++),m=new RegExp("^(?:"+$+")",R)),v&&(m=new RegExp("^"+$+"$(?!\\s)",R)),f&&(p=b.lastIndex),S=u.call(M?m:b,P),M?S?(S.input=S.input.slice(E),S[0]=S[0].slice(E),S.index=b.lastIndex,b.lastIndex+=S[0].length):b.lastIndex=0:f&&S&&(b.lastIndex=b.global?S.index+S[0].length:p),v&&S&&S.length>1&&c.call(S[0],m,function(){for(w=1;w<arguments.length-2;w++)arguments[w]===void 0&&(S[w]=void 0)}),S}),o.exports=d},"94ca":function(o,l,t){var s=t("d039"),i=/#|\.prototype\./,u=function(v,g){var x=d[c(v)];return x==h?!0:x==f?!1:typeof g=="function"?s(g):!!g},c=u.normalize=function(v){return String(v).replace(i,".").toLowerCase()},d=u.data={},f=u.NATIVE="N",h=u.POLYFILL="P";o.exports=u},"99af":function(o,l,t){var s=t("23e7"),i=t("d039"),u=t("e8b5"),c=t("861d"),d=t("7b0b"),f=t("50c4"),h=t("8418"),v=t("65f0"),g=t("1dde"),x=t("b622"),y=t("2d00"),b=x("isConcatSpreadable"),p=9007199254740991,m="Maximum allowed index exceeded",S=y>=51||!i(function(){var $=[];return $[b]=!1,$.concat()[0]!==$}),w=g("concat"),M=function($){if(!c($))return!1;var E=$[b];return E!==void 0?!!E:u($)},R=!S||!w;s({target:"Array",proto:!0,forced:R},{concat:function(E){var P=d(this),N=v(P,0),A=0,D,U,F,H,J;for(D=-1,F=arguments.length;D<F;D++)if(J=D===-1?P:arguments[D],M(J)){if(H=f(J.length),A+H>p)throw TypeError(m);for(U=0;U<H;U++,A++)U in J&&h(N,A,J[U])}else{if(A>=p)throw TypeError(m);h(N,A++,J)}return N.length=A,N}})},"9bdd":function(o,l,t){var s=t("825a");o.exports=function(i,u,c,d){try{return d?u(s(c)[0],c[1]):u(c)}catch(h){var f=i.return;throw f!==void 0&&s(f.call(i)),h}}},"9bf2":function(o,l,t){var s=t("83ab"),i=t("0cfb"),u=t("825a"),c=t("c04e"),d=Object.defineProperty;l.f=s?d:function(h,v,g){if(u(h),v=c(v,!0),u(g),i)try{return d(h,v,g)}catch{}if("get"in g||"set"in g)throw TypeError("Accessors not supported");return"value"in g&&(h[v]=g.value),h}},"9ed3":function(o,l,t){var s=t("ae93").IteratorPrototype,i=t("7c73"),u=t("5c6c"),c=t("d44e"),d=t("3f8c"),f=function(){return this};o.exports=function(h,v,g){var x=v+" Iterator";return h.prototype=i(s,{next:u(1,g)}),c(h,x,!1,!0),d[x]=f,h}},"9f7f":function(o,l,t){var s=t("d039");function i(u,c){return RegExp(u,c)}l.UNSUPPORTED_Y=s(function(){var u=i("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),l.BROKEN_CARET=s(function(){var u=i("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},a2bf:function(o,l,t){var s=t("e8b5"),i=t("50c4"),u=t("0366"),c=function(d,f,h,v,g,x,y,b){for(var p=g,m=0,S=y?u(y,b,3):!1,w;m<v;){if(m in h){if(w=S?S(h[m],m,f):h[m],x>0&&s(w))p=c(d,f,w,i(w.length),p,x-1)-1;else{if(p>=9007199254740991)throw TypeError("Exceed the acceptable array length");d[p]=w}p++}m++}return p};o.exports=c},a352:function(o,l){o.exports=a},a434:function(o,l,t){var s=t("23e7"),i=t("23cb"),u=t("a691"),c=t("50c4"),d=t("7b0b"),f=t("65f0"),h=t("8418"),v=t("1dde"),g=t("ae40"),x=v("splice"),y=g("splice",{ACCESSORS:!0,0:0,1:2}),b=Math.max,p=Math.min,m=9007199254740991,S="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!x||!y},{splice:function(M,R){var $=d(this),E=c($.length),P=i(M,E),N=arguments.length,A,D,U,F,H,J;if(N===0?A=D=0:N===1?(A=0,D=E-P):(A=N-2,D=p(b(u(R),0),E-P)),E+A-D>m)throw TypeError(S);for(U=f($,D),F=0;F<D;F++)H=P+F,H in $&&h(U,F,$[H]);if(U.length=D,A<D){for(F=P;F<E-D;F++)H=F+D,J=F+A,H in $?$[J]=$[H]:delete $[J];for(F=E;F>E-D+A;F--)delete $[F-1]}else if(A>D)for(F=E-D;F>P;F--)H=F+D-1,J=F+A-1,H in $?$[J]=$[H]:delete $[J];for(F=0;F<A;F++)$[F+P]=arguments[F+2];return $.length=E-D+A,U}})},a4d3:function(o,l,t){var s=t("23e7"),i=t("da84"),u=t("d066"),c=t("c430"),d=t("83ab"),f=t("4930"),h=t("fdbf"),v=t("d039"),g=t("5135"),x=t("e8b5"),y=t("861d"),b=t("825a"),p=t("7b0b"),m=t("fc6a"),S=t("c04e"),w=t("5c6c"),M=t("7c73"),R=t("df75"),$=t("241c"),E=t("057f"),P=t("7418"),N=t("06cf"),A=t("9bf2"),D=t("d1e7"),U=t("9112"),F=t("6eeb"),H=t("5692"),J=t("f772"),rt=t("d012"),ft=t("90e3"),ct=t("b622"),ht=t("e538"),gt=t("746f"),Ct=t("d44e"),St=t("69f3"),dt=t("b727").forEach,j=J("hidden"),V="Symbol",z="prototype",pt=ct("toPrimitive"),Rt=St.set,It=St.getterFor(V),At=Object[z],Pt=i.Symbol,ge=u("JSON","stringify"),_t=N.f,te=A.f,an=E.f,Nn=D.f,Zt=H("symbols"),ce=H("op-symbols"),we=H("string-to-symbol-registry"),Me=H("symbol-to-string-registry"),Ne=H("wks"),Le=i.QObject,Fe=!Le||!Le[z]||!Le[z].findChild,je=d&&v(function(){return M(te({},"a",{get:function(){return te(this,"a",{value:7}).a}})).a!=7})?function(q,X,K){var st=_t(At,X);st&&delete At[X],te(q,X,K),st&&q!==At&&te(At,X,st)}:te,Be=function(q,X){var K=Zt[q]=M(Pt[z]);return Rt(K,{type:V,tag:q,description:X}),d||(K.description=X),K},C=h?function(q){return typeof q=="symbol"}:function(q){return Object(q)instanceof Pt},T=function(X,K,st){X===At&&T(ce,K,st),b(X);var lt=S(K,!0);return b(st),g(Zt,lt)?(st.enumerable?(g(X,j)&&X[j][lt]&&(X[j][lt]=!1),st=M(st,{enumerable:w(0,!1)})):(g(X,j)||te(X,j,w(1,{})),X[j][lt]=!0),je(X,lt,st)):te(X,lt,st)},I=function(X,K){b(X);var st=m(K),lt=R(st).concat(ut(st));return dt(lt,function(zt){(!d||W.call(st,zt))&&T(X,zt,st[zt])}),X},L=function(X,K){return K===void 0?M(X):I(M(X),K)},W=function(X){var K=S(X,!0),st=Nn.call(this,K);return this===At&&g(Zt,K)&&!g(ce,K)?!1:st||!g(this,K)||!g(Zt,K)||g(this,j)&&this[j][K]?st:!0},Z=function(X,K){var st=m(X),lt=S(K,!0);if(!(st===At&&g(Zt,lt)&&!g(ce,lt))){var zt=_t(st,lt);return zt&&g(Zt,lt)&&!(g(st,j)&&st[j][lt])&&(zt.enumerable=!0),zt}},nt=function(X){var K=an(m(X)),st=[];return dt(K,function(lt){!g(Zt,lt)&&!g(rt,lt)&&st.push(lt)}),st},ut=function(X){var K=X===At,st=an(K?ce:m(X)),lt=[];return dt(st,function(zt){g(Zt,zt)&&(!K||g(At,zt))&&lt.push(Zt[zt])}),lt};if(f||(Pt=function(){if(this instanceof Pt)throw TypeError("Symbol is not a constructor");var X=!arguments.length||arguments[0]===void 0?void 0:String(arguments[0]),K=ft(X),st=function(lt){this===At&&st.call(ce,lt),g(this,j)&&g(this[j],K)&&(this[j][K]=!1),je(this,K,w(1,lt))};return d&&Fe&&je(At,K,{configurable:!0,set:st}),Be(K,X)},F(Pt[z],"toString",function(){return It(this).tag}),F(Pt,"withoutSetter",function(q){return Be(ft(q),q)}),D.f=W,A.f=T,N.f=Z,$.f=E.f=nt,P.f=ut,ht.f=function(q){return Be(ct(q),q)},d&&(te(Pt[z],"description",{configurable:!0,get:function(){return It(this).description}}),c||F(At,"propertyIsEnumerable",W,{unsafe:!0}))),s({global:!0,wrap:!0,forced:!f,sham:!f},{Symbol:Pt}),dt(R(Ne),function(q){gt(q)}),s({target:V,stat:!0,forced:!f},{for:function(q){var X=String(q);if(g(we,X))return we[X];var K=Pt(X);return we[X]=K,Me[K]=X,K},keyFor:function(X){if(!C(X))throw TypeError(X+" is not a symbol");if(g(Me,X))return Me[X]},useSetter:function(){Fe=!0},useSimple:function(){Fe=!1}}),s({target:"Object",stat:!0,forced:!f,sham:!d},{create:L,defineProperty:T,defineProperties:I,getOwnPropertyDescriptor:Z}),s({target:"Object",stat:!0,forced:!f},{getOwnPropertyNames:nt,getOwnPropertySymbols:ut}),s({target:"Object",stat:!0,forced:v(function(){P.f(1)})},{getOwnPropertySymbols:function(X){return P.f(p(X))}}),ge){var Ot=!f||v(function(){var q=Pt();return ge([q])!="[null]"||ge({a:q})!="{}"||ge(Object(q))!="{}"});s({target:"JSON",stat:!0,forced:Ot},{stringify:function(X,K,st){for(var lt=[X],zt=1,Ln;arguments.length>zt;)lt.push(arguments[zt++]);if(Ln=K,!(!y(K)&&X===void 0||C(X)))return x(K)||(K=function(eo,sn){if(typeof Ln=="function"&&(sn=Ln.call(this,eo,sn)),!C(sn))return sn}),lt[1]=K,ge.apply(null,lt)}})}Pt[z][pt]||U(Pt[z],pt,Pt[z].valueOf),Ct(Pt,V),rt[j]=!0},a630:function(o,l,t){var s=t("23e7"),i=t("4df4"),u=t("1c7e"),c=!u(function(d){Array.from(d)});s({target:"Array",stat:!0,forced:c},{from:i})},a640:function(o,l,t){var s=t("d039");o.exports=function(i,u){var c=[][i];return!!c&&s(function(){c.call(null,u||function(){throw 1},1)})}},a691:function(o,l){var t=Math.ceil,s=Math.floor;o.exports=function(i){return isNaN(i=+i)?0:(i>0?s:t)(i)}},ab13:function(o,l,t){var s=t("b622"),i=s("match");o.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[i]=!1,"/./"[u](c)}catch{}}return!1}},ac1f:function(o,l,t){var s=t("23e7"),i=t("9263");s({target:"RegExp",proto:!0,forced:/./.exec!==i},{exec:i})},ad6d:function(o,l,t){var s=t("825a");o.exports=function(){var i=s(this),u="";return i.global&&(u+="g"),i.ignoreCase&&(u+="i"),i.multiline&&(u+="m"),i.dotAll&&(u+="s"),i.unicode&&(u+="u"),i.sticky&&(u+="y"),u}},ae40:function(o,l,t){var s=t("83ab"),i=t("d039"),u=t("5135"),c=Object.defineProperty,d={},f=function(h){throw h};o.exports=function(h,v){if(u(d,h))return d[h];v||(v={});var g=[][h],x=u(v,"ACCESSORS")?v.ACCESSORS:!1,y=u(v,0)?v[0]:f,b=u(v,1)?v[1]:void 0;return d[h]=!!g&&!i(function(){if(x&&!s)return!0;var p={length:-1};x?c(p,1,{enumerable:!0,get:f}):p[1]=1,g.call(p,y,b)})}},ae93:function(o,l,t){var s=t("e163"),i=t("9112"),u=t("5135"),c=t("b622"),d=t("c430"),f=c("iterator"),h=!1,v=function(){return this},g,x,y;[].keys&&(y=[].keys(),"next"in y?(x=s(s(y)),x!==Object.prototype&&(g=x)):h=!0),g==null&&(g={}),!d&&!u(g,f)&&i(g,f,v),o.exports={IteratorPrototype:g,BUGGY_SAFARI_ITERATORS:h}},b041:function(o,l,t){var s=t("00ee"),i=t("f5df");o.exports=s?{}.toString:function(){return"[object "+i(this)+"]"}},b0c0:function(o,l,t){var s=t("83ab"),i=t("9bf2").f,u=Function.prototype,c=u.toString,d=/^\s*function ([^ (]*)/,f="name";s&&!(f in u)&&i(u,f,{configurable:!0,get:function(){try{return c.call(this).match(d)[1]}catch{return""}}})},b622:function(o,l,t){var s=t("da84"),i=t("5692"),u=t("5135"),c=t("90e3"),d=t("4930"),f=t("fdbf"),h=i("wks"),v=s.Symbol,g=f?v:v&&v.withoutSetter||c;o.exports=function(x){return u(h,x)||(d&&u(v,x)?h[x]=v[x]:h[x]=g("Symbol."+x)),h[x]}},b64b:function(o,l,t){var s=t("23e7"),i=t("7b0b"),u=t("df75"),c=t("d039"),d=c(function(){u(1)});s({target:"Object",stat:!0,forced:d},{keys:function(h){return u(i(h))}})},b727:function(o,l,t){var s=t("0366"),i=t("44ad"),u=t("7b0b"),c=t("50c4"),d=t("65f0"),f=[].push,h=function(v){var g=v==1,x=v==2,y=v==3,b=v==4,p=v==6,m=v==5||p;return function(S,w,M,R){for(var $=u(S),E=i($),P=s(w,M,3),N=c(E.length),A=0,D=R||d,U=g?D(S,N):x?D(S,0):void 0,F,H;N>A;A++)if((m||A in E)&&(F=E[A],H=P(F,A,$),v)){if(g)U[A]=H;else if(H)switch(v){case 3:return!0;case 5:return F;case 6:return A;case 2:f.call(U,F)}else if(b)return!1}return p?-1:y||b?b:U}};o.exports={forEach:h(0),map:h(1),filter:h(2),some:h(3),every:h(4),find:h(5),findIndex:h(6)}},c04e:function(o,l,t){var s=t("861d");o.exports=function(i,u){if(!s(i))return i;var c,d;if(u&&typeof(c=i.toString)=="function"&&!s(d=c.call(i))||typeof(c=i.valueOf)=="function"&&!s(d=c.call(i))||!u&&typeof(c=i.toString)=="function"&&!s(d=c.call(i)))return d;throw TypeError("Can't convert object to primitive value")}},c430:function(o,l){o.exports=!1},c6b6:function(o,l){var t={}.toString;o.exports=function(s){return t.call(s).slice(8,-1)}},c6cd:function(o,l,t){var s=t("da84"),i=t("ce4e"),u="__core-js_shared__",c=s[u]||i(u,{});o.exports=c},c740:function(o,l,t){var s=t("23e7"),i=t("b727").findIndex,u=t("44d2"),c=t("ae40"),d="findIndex",f=!0,h=c(d);d in[]&&Array(1)[d](function(){f=!1}),s({target:"Array",proto:!0,forced:f||!h},{findIndex:function(g){return i(this,g,arguments.length>1?arguments[1]:void 0)}}),u(d)},c8ba:function(o,l){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}o.exports=t},c975:function(o,l,t){var s=t("23e7"),i=t("4d64").indexOf,u=t("a640"),c=t("ae40"),d=[].indexOf,f=!!d&&1/[1].indexOf(1,-0)<0,h=u("indexOf"),v=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:f||!h||!v},{indexOf:function(x){return f?d.apply(this,arguments)||0:i(this,x,arguments.length>1?arguments[1]:void 0)}})},ca84:function(o,l,t){var s=t("5135"),i=t("fc6a"),u=t("4d64").indexOf,c=t("d012");o.exports=function(d,f){var h=i(d),v=0,g=[],x;for(x in h)!s(c,x)&&s(h,x)&&g.push(x);for(;f.length>v;)s(h,x=f[v++])&&(~u(g,x)||g.push(x));return g}},caad:function(o,l,t){var s=t("23e7"),i=t("4d64").includes,u=t("44d2"),c=t("ae40"),d=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:!d},{includes:function(h){return i(this,h,arguments.length>1?arguments[1]:void 0)}}),u("includes")},cc12:function(o,l,t){var s=t("da84"),i=t("861d"),u=s.document,c=i(u)&&i(u.createElement);o.exports=function(d){return c?u.createElement(d):{}}},ce4e:function(o,l,t){var s=t("da84"),i=t("9112");o.exports=function(u,c){try{i(s,u,c)}catch{s[u]=c}return c}},d012:function(o,l){o.exports={}},d039:function(o,l){o.exports=function(t){try{return!!t()}catch{return!0}}},d066:function(o,l,t){var s=t("428f"),i=t("da84"),u=function(c){return typeof c=="function"?c:void 0};o.exports=function(c,d){return arguments.length<2?u(s[c])||u(i[c]):s[c]&&s[c][d]||i[c]&&i[c][d]}},d1e7:function(o,l,t){var s={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,u=i&&!s.call({1:2},1);l.f=u?function(d){var f=i(this,d);return!!f&&f.enumerable}:s},d28b:function(o,l,t){var s=t("746f");s("iterator")},d2bb:function(o,l,t){var s=t("825a"),i=t("3bbe");o.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var u=!1,c={},d;try{d=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,d.call(c,[]),u=c instanceof Array}catch{}return function(h,v){return s(h),i(v),u?d.call(h,v):h.__proto__=v,h}}():void 0)},d3b7:function(o,l,t){var s=t("00ee"),i=t("6eeb"),u=t("b041");s||i(Object.prototype,"toString",u,{unsafe:!0})},d44e:function(o,l,t){var s=t("9bf2").f,i=t("5135"),u=t("b622"),c=u("toStringTag");o.exports=function(d,f,h){d&&!i(d=h?d:d.prototype,c)&&s(d,c,{configurable:!0,value:f})}},d58f:function(o,l,t){var s=t("1c0b"),i=t("7b0b"),u=t("44ad"),c=t("50c4"),d=function(f){return function(h,v,g,x){s(v);var y=i(h),b=u(y),p=c(y.length),m=f?p-1:0,S=f?-1:1;if(g<2)for(;;){if(m in b){x=b[m],m+=S;break}if(m+=S,f?m<0:p<=m)throw TypeError("Reduce of empty array with no initial value")}for(;f?m>=0:p>m;m+=S)m in b&&(x=v(x,b[m],m,y));return x}};o.exports={left:d(!1),right:d(!0)}},d784:function(o,l,t){t("ac1f");var s=t("6eeb"),i=t("d039"),u=t("b622"),c=t("9263"),d=t("9112"),f=u("species"),h=!i(function(){var b=/./;return b.exec=function(){var p=[];return p.groups={a:"7"},p},"".replace(b,"$<a>")!=="7"}),v=function(){return"a".replace(/./,"$0")==="$0"}(),g=u("replace"),x=function(){return/./[g]?/./[g]("a","$0")==="":!1}(),y=!i(function(){var b=/(?:)/,p=b.exec;b.exec=function(){return p.apply(this,arguments)};var m="ab".split(b);return m.length!==2||m[0]!=="a"||m[1]!=="b"});o.exports=function(b,p,m,S){var w=u(b),M=!i(function(){var A={};return A[w]=function(){return 7},""[b](A)!=7}),R=M&&!i(function(){var A=!1,D=/a/;return b==="split"&&(D={},D.constructor={},D.constructor[f]=function(){return D},D.flags="",D[w]=/./[w]),D.exec=function(){return A=!0,null},D[w](""),!A});if(!M||!R||b==="replace"&&!(h&&v&&!x)||b==="split"&&!y){var $=/./[w],E=m(w,""[b],function(A,D,U,F,H){return D.exec===c?M&&!H?{done:!0,value:$.call(D,U,F)}:{done:!0,value:A.call(U,D,F)}:{done:!1}},{REPLACE_KEEPS_$0:v,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:x}),P=E[0],N=E[1];s(String.prototype,b,P),s(RegExp.prototype,w,p==2?function(A,D){return N.call(A,this,D)}:function(A){return N.call(A,this)})}S&&d(RegExp.prototype[w],"sham",!0)}},d81d:function(o,l,t){var s=t("23e7"),i=t("b727").map,u=t("1dde"),c=t("ae40"),d=u("map"),f=c("map");s({target:"Array",proto:!0,forced:!d||!f},{map:function(v){return i(this,v,arguments.length>1?arguments[1]:void 0)}})},da84:function(o,l,t){(function(s){var i=function(u){return u&&u.Math==Math&&u};o.exports=i(typeof globalThis=="object"&&globalThis)||i(typeof window=="object"&&window)||i(typeof self=="object"&&self)||i(typeof s=="object"&&s)||Function("return this")()}).call(this,t("c8ba"))},dbb4:function(o,l,t){var s=t("23e7"),i=t("83ab"),u=t("56ef"),c=t("fc6a"),d=t("06cf"),f=t("8418");s({target:"Object",stat:!0,sham:!i},{getOwnPropertyDescriptors:function(v){for(var g=c(v),x=d.f,y=u(g),b={},p=0,m,S;y.length>p;)S=x(g,m=y[p++]),S!==void 0&&f(b,m,S);return b}})},dbf1:function(o,l,t){(function(s){t.d(l,"a",function(){return u});function i(){return typeof window<"u"?window.console:s.console}var u=i()}).call(this,t("c8ba"))},ddb0:function(o,l,t){var s=t("da84"),i=t("fdbc"),u=t("e260"),c=t("9112"),d=t("b622"),f=d("iterator"),h=d("toStringTag"),v=u.values;for(var g in i){var x=s[g],y=x&&x.prototype;if(y){if(y[f]!==v)try{c(y,f,v)}catch{y[f]=v}if(y[h]||c(y,h,g),i[g]){for(var b in u)if(y[b]!==u[b])try{c(y,b,u[b])}catch{y[b]=u[b]}}}}},df75:function(o,l,t){var s=t("ca84"),i=t("7839");o.exports=Object.keys||function(c){return s(c,i)}},e01a:function(o,l,t){var s=t("23e7"),i=t("83ab"),u=t("da84"),c=t("5135"),d=t("861d"),f=t("9bf2").f,h=t("e893"),v=u.Symbol;if(i&&typeof v=="function"&&(!("description"in v.prototype)||v().description!==void 0)){var g={},x=function(){var w=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),M=this instanceof x?new v(w):w===void 0?v():v(w);return w===""&&(g[M]=!0),M};h(x,v);var y=x.prototype=v.prototype;y.constructor=x;var b=y.toString,p=String(v("test"))=="Symbol(test)",m=/^Symbol\((.*)\)[^)]+$/;f(y,"description",{configurable:!0,get:function(){var w=d(this)?this.valueOf():this,M=b.call(w);if(c(g,w))return"";var R=p?M.slice(7,-1):M.replace(m,"$1");return R===""?void 0:R}}),s({global:!0,forced:!0},{Symbol:x})}},e163:function(o,l,t){var s=t("5135"),i=t("7b0b"),u=t("f772"),c=t("e177"),d=u("IE_PROTO"),f=Object.prototype;o.exports=c?Object.getPrototypeOf:function(h){return h=i(h),s(h,d)?h[d]:typeof h.constructor=="function"&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?f:null}},e177:function(o,l,t){var s=t("d039");o.exports=!s(function(){function i(){}return i.prototype.constructor=null,Object.getPrototypeOf(new i)!==i.prototype})},e260:function(o,l,t){var s=t("fc6a"),i=t("44d2"),u=t("3f8c"),c=t("69f3"),d=t("7dd0"),f="Array Iterator",h=c.set,v=c.getterFor(f);o.exports=d(Array,"Array",function(g,x){h(this,{type:f,target:s(g),index:0,kind:x})},function(){var g=v(this),x=g.target,y=g.kind,b=g.index++;return!x||b>=x.length?(g.target=void 0,{value:void 0,done:!0}):y=="keys"?{value:b,done:!1}:y=="values"?{value:x[b],done:!1}:{value:[b,x[b]],done:!1}},"values"),u.Arguments=u.Array,i("keys"),i("values"),i("entries")},e439:function(o,l,t){var s=t("23e7"),i=t("d039"),u=t("fc6a"),c=t("06cf").f,d=t("83ab"),f=i(function(){c(1)}),h=!d||f;s({target:"Object",stat:!0,forced:h,sham:!d},{getOwnPropertyDescriptor:function(g,x){return c(u(g),x)}})},e538:function(o,l,t){var s=t("b622");l.f=s},e893:function(o,l,t){var s=t("5135"),i=t("56ef"),u=t("06cf"),c=t("9bf2");o.exports=function(d,f){for(var h=i(f),v=c.f,g=u.f,x=0;x<h.length;x++){var y=h[x];s(d,y)||v(d,y,g(f,y))}}},e8b5:function(o,l,t){var s=t("c6b6");o.exports=Array.isArray||function(u){return s(u)=="Array"}},e95a:function(o,l,t){var s=t("b622"),i=t("3f8c"),u=s("iterator"),c=Array.prototype;o.exports=function(d){return d!==void 0&&(i.Array===d||c[u]===d)}},f5df:function(o,l,t){var s=t("00ee"),i=t("c6b6"),u=t("b622"),c=u("toStringTag"),d=i(function(){return arguments}())=="Arguments",f=function(h,v){try{return h[v]}catch{}};o.exports=s?i:function(h){var v,g,x;return h===void 0?"Undefined":h===null?"Null":typeof(g=f(v=Object(h),c))=="string"?g:d?i(v):(x=i(v))=="Object"&&typeof v.callee=="function"?"Arguments":x}},f772:function(o,l,t){var s=t("5692"),i=t("90e3"),u=s("keys");o.exports=function(c){return u[c]||(u[c]=i(c))}},fb15:function(o,l,t){if(t.r(l),typeof window<"u"){var s=window.document.currentScript;{var i=t("8875");s=i(),"currentScript"in document||Object.defineProperty(document,"currentScript",{get:i})}var u=s&&s.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);u&&(t.p=u[1])}t("99af"),t("4de4"),t("4160"),t("c975"),t("d81d"),t("a434"),t("159b"),t("a4d3"),t("e439"),t("dbb4"),t("b64b");function c(C,T,I){return T in C?Object.defineProperty(C,T,{value:I,enumerable:!0,configurable:!0,writable:!0}):C[T]=I,C}function d(C,T){var I=Object.keys(C);if(Object.getOwnPropertySymbols){var L=Object.getOwnPropertySymbols(C);T&&(L=L.filter(function(W){return Object.getOwnPropertyDescriptor(C,W).enumerable})),I.push.apply(I,L)}return I}function f(C){for(var T=1;T<arguments.length;T++){var I=arguments[T]!=null?arguments[T]:{};T%2?d(Object(I),!0).forEach(function(L){c(C,L,I[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(C,Object.getOwnPropertyDescriptors(I)):d(Object(I)).forEach(function(L){Object.defineProperty(C,L,Object.getOwnPropertyDescriptor(I,L))})}return C}function h(C){if(Array.isArray(C))return C}t("e01a"),t("d28b"),t("e260"),t("d3b7"),t("3ca3"),t("ddb0");function v(C,T){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(C)))){var I=[],L=!0,W=!1,Z=void 0;try{for(var nt=C[Symbol.iterator](),ut;!(L=(ut=nt.next()).done)&&(I.push(ut.value),!(T&&I.length===T));L=!0);}catch(Ot){W=!0,Z=Ot}finally{try{!L&&nt.return!=null&&nt.return()}finally{if(W)throw Z}}return I}}t("a630"),t("fb6a"),t("b0c0"),t("25f0");function g(C,T){(T==null||T>C.length)&&(T=C.length);for(var I=0,L=new Array(T);I<T;I++)L[I]=C[I];return L}function x(C,T){if(C){if(typeof C=="string")return g(C,T);var I=Object.prototype.toString.call(C).slice(8,-1);if(I==="Object"&&C.constructor&&(I=C.constructor.name),I==="Map"||I==="Set")return Array.from(C);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return g(C,T)}}function y(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function b(C,T){return h(C)||v(C,T)||x(C,T)||y()}function p(C){if(Array.isArray(C))return g(C)}function m(C){if(typeof Symbol<"u"&&Symbol.iterator in Object(C))return Array.from(C)}function S(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function w(C){return p(C)||m(C)||x(C)||S()}var M=t("a352"),R=t.n(M);function $(C){C.parentElement!==null&&C.parentElement.removeChild(C)}function E(C,T,I){var L=I===0?C.children[0]:C.children[I-1].nextSibling;C.insertBefore(T,L)}var P=t("dbf1");t("13d5"),t("4fad"),t("ac1f"),t("5319");function N(C){var T=Object.create(null);return function(L){var W=T[L];return W||(T[L]=C(L))}}var A=/-(\w)/g,D=N(function(C){return C.replace(A,function(T,I){return I.toUpperCase()})});t("5db7"),t("73d9");var U=["Start","Add","Remove","Update","End"],F=["Choose","Unchoose","Sort","Filter","Clone"],H=["Move"],J=[H,U,F].flatMap(function(C){return C}).map(function(C){return"on".concat(C)}),rt={manage:H,manageAndEmit:U,emit:F};function ft(C){return J.indexOf(C)!==-1}t("caad"),t("2ca0");var ct=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","label","legend","li","link","main","map","mark","math","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rb","rp","rt","rtc","ruby","s","samp","script","section","select","slot","small","source","span","strong","style","sub","summary","sup","svg","table","tbody","td","template","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr"];function ht(C){return ct.includes(C)}function gt(C){return["transition-group","TransitionGroup"].includes(C)}function Ct(C){return["id","class","role","style"].includes(C)||C.startsWith("data-")||C.startsWith("aria-")||C.startsWith("on")}function St(C){return C.reduce(function(T,I){var L=b(I,2),W=L[0],Z=L[1];return T[W]=Z,T},{})}function dt(C){var T=C.$attrs,I=C.componentData,L=I===void 0?{}:I,W=St(Object.entries(T).filter(function(Z){var nt=b(Z,2),ut=nt[0];return nt[1],Ct(ut)}));return f(f({},W),L)}function j(C){var T=C.$attrs,I=C.callBackBuilder,L=St(V(T));Object.entries(I).forEach(function(Z){var nt=b(Z,2),ut=nt[0],Ot=nt[1];rt[ut].forEach(function(q){L["on".concat(q)]=Ot(q)})});var W="[data-draggable]".concat(L.draggable||"");return f(f({},L),{},{draggable:W})}function V(C){return Object.entries(C).filter(function(T){var I=b(T,2),L=I[0];return I[1],!Ct(L)}).map(function(T){var I=b(T,2),L=I[0],W=I[1];return[D(L),W]}).filter(function(T){var I=b(T,2),L=I[0];return I[1],!ft(L)})}t("c740");function z(C,T){if(!(C instanceof T))throw new TypeError("Cannot call a class as a function")}function pt(C,T){for(var I=0;I<T.length;I++){var L=T[I];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(C,L.key,L)}}function Rt(C,T,I){return T&&pt(C.prototype,T),C}var It=function(T){var I=T.el;return I},At=function(T,I){return T.__draggable_context=I},Pt=function(T){return T.__draggable_context},ge=function(){function C(T){var I=T.nodes,L=I.header,W=I.default,Z=I.footer,nt=T.root,ut=T.realList;z(this,C),this.defaultNodes=W,this.children=[].concat(w(L),w(W),w(Z)),this.externalComponent=nt.externalComponent,this.rootTransition=nt.transition,this.tag=nt.tag,this.realList=ut}return Rt(C,[{key:"render",value:function(I,L){var W=this.tag,Z=this.children,nt=this._isRootComponent,ut=nt?{default:function(){return Z}}:Z;return I(W,L,ut)}},{key:"updated",value:function(){var I=this.defaultNodes,L=this.realList;I.forEach(function(W,Z){At(It(W),{element:L[Z],index:Z})})}},{key:"getUnderlyingVm",value:function(I){return Pt(I)}},{key:"getVmIndexFromDomIndex",value:function(I,L){var W=this.defaultNodes,Z=W.length,nt=L.children,ut=nt.item(I);if(ut===null)return Z;var Ot=Pt(ut);if(Ot)return Ot.index;if(Z===0)return 0;var q=It(W[0]),X=w(nt).findIndex(function(K){return K===q});return I<X?0:Z}},{key:"_isRootComponent",get:function(){return this.externalComponent||this.rootTransition}}]),C}(),_t=t("8bbf");function te(C,T){var I=C[T];return I?I():[]}function an(C){var T=C.$slots,I=C.realList,L=C.getKey,W=I||[],Z=["header","footer"].map(function(K){return te(T,K)}),nt=b(Z,2),ut=nt[0],Ot=nt[1],q=T.item;if(!q)throw new Error("draggable element must have an item slot");var X=W.flatMap(function(K,st){return q({element:K,index:st}).map(function(lt){return lt.key=L(K),lt.props=f(f({},lt.props||{}),{},{"data-draggable":!0}),lt})});if(X.length!==W.length)throw new Error("Item slot must have only one child");return{header:ut,footer:Ot,default:X}}function Nn(C){var T=gt(C),I=!ht(C)&&!T;return{transition:T,externalComponent:I,tag:I?Object(_t.resolveComponent)(C):T?_t.TransitionGroup:C}}function Zt(C){var T=C.$slots,I=C.tag,L=C.realList,W=C.getKey,Z=an({$slots:T,realList:L,getKey:W}),nt=Nn(I);return new ge({nodes:Z,root:nt,realList:L})}function ce(C,T){var I=this;Object(_t.nextTick)(function(){return I.$emit(C.toLowerCase(),T)})}function we(C){var T=this;return function(I,L){if(T.realList!==null)return T["onDrag".concat(C)](I,L)}}function Me(C){var T=this,I=we.call(this,C);return function(L,W){I.call(T,L,W),ce.call(T,C,L)}}var Ne=null,Le={list:{type:Array,required:!1,default:null},modelValue:{type:Array,required:!1,default:null},itemKey:{type:[String,Function],required:!0},clone:{type:Function,default:function(T){return T}},tag:{type:String,default:"div"},move:{type:Function,default:null},componentData:{type:Object,required:!1,default:null}},Fe=["update:modelValue","change"].concat(w([].concat(w(rt.manageAndEmit),w(rt.emit)).map(function(C){return C.toLowerCase()}))),je=Object(_t.defineComponent)({name:"draggable",inheritAttrs:!1,props:Le,emits:Fe,data:function(){return{error:!1}},render:function(){try{this.error=!1;var T=this.$slots,I=this.$attrs,L=this.tag,W=this.componentData,Z=this.realList,nt=this.getKey,ut=Zt({$slots:T,tag:L,realList:Z,getKey:nt});this.componentStructure=ut;var Ot=dt({$attrs:I,componentData:W});return ut.render(_t.h,Ot)}catch(q){return this.error=!0,Object(_t.h)("pre",{style:{color:"red"}},q.stack)}},created:function(){this.list!==null&&this.modelValue!==null&&P.a.error("modelValue and list props are mutually exclusive! Please set one or another.")},mounted:function(){var T=this;if(!this.error){var I=this.$attrs,L=this.$el,W=this.componentStructure;W.updated();var Z=j({$attrs:I,callBackBuilder:{manageAndEmit:function(Ot){return Me.call(T,Ot)},emit:function(Ot){return ce.bind(T,Ot)},manage:function(Ot){return we.call(T,Ot)}}}),nt=L.nodeType===1?L:L.parentElement;this._sortable=new R.a(nt,Z),this.targetDomElement=nt,nt.__draggable_component__=this}},updated:function(){this.componentStructure.updated()},beforeUnmount:function(){this._sortable!==void 0&&this._sortable.destroy()},computed:{realList:function(){var T=this.list;return T||this.modelValue},getKey:function(){var T=this.itemKey;return typeof T=="function"?T:function(I){return I[T]}}},watch:{$attrs:{handler:function(T){var I=this._sortable;I&&V(T).forEach(function(L){var W=b(L,2),Z=W[0],nt=W[1];I.option(Z,nt)})},deep:!0}},methods:{getUnderlyingVm:function(T){return this.componentStructure.getUnderlyingVm(T)||null},getUnderlyingPotencialDraggableComponent:function(T){return T.__draggable_component__},emitChanges:function(T){var I=this;Object(_t.nextTick)(function(){return I.$emit("change",T)})},alterList:function(T){if(this.list){T(this.list);return}var I=w(this.modelValue);T(I),this.$emit("update:modelValue",I)},spliceList:function(){var T=arguments,I=function(W){return W.splice.apply(W,w(T))};this.alterList(I)},updatePosition:function(T,I){var L=function(Z){return Z.splice(I,0,Z.splice(T,1)[0])};this.alterList(L)},getRelatedContextFromMoveEvent:function(T){var I=T.to,L=T.related,W=this.getUnderlyingPotencialDraggableComponent(I);if(!W)return{component:W};var Z=W.realList,nt={list:Z,component:W};if(I!==L&&Z){var ut=W.getUnderlyingVm(L)||{};return f(f({},ut),nt)}return nt},getVmIndexFromDomIndex:function(T){return this.componentStructure.getVmIndexFromDomIndex(T,this.targetDomElement)},onDragStart:function(T){this.context=this.getUnderlyingVm(T.item),T.item._underlying_vm_=this.clone(this.context.element),Ne=T.item},onDragAdd:function(T){var I=T.item._underlying_vm_;if(I!==void 0){$(T.item);var L=this.getVmIndexFromDomIndex(T.newIndex);this.spliceList(L,0,I);var W={element:I,newIndex:L};this.emitChanges({added:W})}},onDragRemove:function(T){if(E(this.$el,T.item,T.oldIndex),T.pullMode==="clone"){$(T.clone);return}var I=this.context,L=I.index,W=I.element;this.spliceList(L,1);var Z={element:W,oldIndex:L};this.emitChanges({removed:Z})},onDragUpdate:function(T){$(T.item),E(T.from,T.item,T.oldIndex);var I=this.context.index,L=this.getVmIndexFromDomIndex(T.newIndex);this.updatePosition(I,L);var W={element:this.context.element,oldIndex:I,newIndex:L};this.emitChanges({moved:W})},computeFutureIndex:function(T,I){if(!T.element)return 0;var L=w(I.to.children).filter(function(ut){return ut.style.display!=="none"}),W=L.indexOf(I.related),Z=T.component.getVmIndexFromDomIndex(W),nt=L.indexOf(Ne)!==-1;return nt||!I.willInsertAfter?Z:Z+1},onDragMove:function(T,I){var L=this.move,W=this.realList;if(!L||!W)return!0;var Z=this.getRelatedContextFromMoveEvent(T),nt=this.computeFutureIndex(Z,T),ut=f(f({},this.context),{},{futureIndex:nt}),Ot=f(f({},T),{},{relatedContext:Z,draggedContext:ut});return L(Ot,I)},onDragEnd:function(){Ne=null}}}),Be=je;l.default=Be},fb6a:function(o,l,t){var s=t("23e7"),i=t("861d"),u=t("e8b5"),c=t("23cb"),d=t("50c4"),f=t("fc6a"),h=t("8418"),v=t("b622"),g=t("1dde"),x=t("ae40"),y=g("slice"),b=x("slice",{ACCESSORS:!0,0:0,1:2}),p=v("species"),m=[].slice,S=Math.max;s({target:"Array",proto:!0,forced:!y||!b},{slice:function(M,R){var $=f(this),E=d($.length),P=c(M,E),N=c(R===void 0?E:R,E),A,D,U;if(u($)&&(A=$.constructor,typeof A=="function"&&(A===Array||u(A.prototype))?A=void 0:i(A)&&(A=A[p],A===null&&(A=void 0)),A===Array||A===void 0))return m.call($,P,N);for(D=new(A===void 0?Array:A)(S(N-P,0)),U=0;P<N;P++,U++)P in $&&h(D,U,$[P]);return D.length=U,D}})},fc6a:function(o,l,t){var s=t("44ad"),i=t("1d80");o.exports=function(u){return s(i(u))}},fdbc:function(o,l){o.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},fdbf:function(o,l,t){var s=t("4930");o.exports=s&&!Symbol.sham&&typeof Symbol.iterator=="symbol"}}).default})})(jr);var Hs=jr.exports;const zs=Ni(Hs),Us=le({__name:"SlidePreview",props:{data:Object,width:Number,height:Number,log:String},setup(e){var o;const n=e,r=((o=n.data)==null?void 0:o.content)??[],a=k(null);return Pn(()=>{var l;for(const t of r){let s=document.createElement(t.tag);if(s.id=t.id+"-preview",s.style.position="absolute",s.style.top=(t.position.x/(n.width??1)*50).toString()+"%",s.style.left=(t.position.y/(n.height??1)*50).toString()+"%",s.style.transform=`rotate(${t.position.r}deg)`,s.style.scale="0.5",t.content&&(s.innerHTML=t.content),t.attrs)for(const i in t.attrs)s.setAttribute(i,t.attrs[i]);if(t.styles)for(const i in t.styles)s.style[i]=t.styles[i];(l=a.value)==null||l.appendChild(s)}}),(l,t)=>(Q(),tt("span",{ref_key:"ctx",ref:a,class:"ctx"},null,512))}}),Ws=Bt(Us,[["__scopeId","data-v-ba4b1109"]]),Gs={class:"flex"},Vs=["onMouseleave","onClick"],Xs=le({__name:"SlideView",props:{slides:Array,width:String,height:String,language:String},emits:["new_slide","select","delete_slide"],setup(e,{emit:n}){nn(h=>({v15e68b6c:Ft(r),v81427422:Ft(s),v12aafe1e:Ft(i)}));let r=k(+!Lr.value.is_opened),a=k(0);const o=n,l=e,t=k(!1);let s=k(0),i=k(0);Dn(()=>{s.value=Number((/\d+/g.exec(l.width??"1920px")??[0])[0]),i.value=Number((/\d+/g.exec(l.height??"1080px")??[0])[0])});const u=h=>{a.value=h,o("select",h)},c=h=>{h.target.innerHTML='<i class="fa-solid fa-trash fa-sm fa-shake"></i>'},d=(h,v)=>{h.target.innerHTML=v.toString()},f=async(h,v)=>{document.getElementsByClassName(`slide${h}`)[0].classList.add("deleting"),await Fr(750),o("delete_slide",v.id)};return(h,v)=>(Q(),tt("div",Gs,[bt(Ft(zs),{list:e.slides,group:"slide",onStart:v[0]||(v[0]=g=>t.value=!0),onEnd:v[1]||(v[1]=g=>t.value=!1),"item-key":"id",class:"slides grid"},{item:Rn(({element:g,index:x})=>[O("div",{class:Yt(["flexx",`slide${x}`])},[O("p",{class:"delete-p",onMouseenter:c,onMouseleave:y=>d(y,x+1),onClick:y=>f(x,g)},Xt(x+1),41,Vs),bt(Ws,{data:g,width:Ft(s),height:Ft(i),class:Yt(["slide",x==Ft(a)?"fancy":""]),style:en({"--anim-order":x}),onClick:y=>u(x)},null,8,["data","width","height","class","style","onClick"])],2)]),_:1},8,["list"]),O("button",{onClick:v[2]||(v[2]=g=>h.$emit("new_slide"))},[v[3]||(v[3]=O("i",{class:"fa-solid fa-add"},null,-1)),pe(" "+Xt(e.language==="en"?"New Slide":"สไลด์ใหม่"),1)])]))}}),Ks=()=>{if(window.getSelection&&window.getSelection().getRangeAt){for(var e=window.getSelection().getRangeAt(0),n=window.getSelection(),r=0,a=n.anchorNode.parentNode.childNodes,o=0;o<a.length&&a[o]!=n.anchorNode;o++)a[o].outerHTML?r+=a[o].outerHTML.length:a[o].nodeType==3&&(r+=a[o].textContent.length);return e.startOffset+r}return-1},yr=new WeakMap;function Ys(e){let n=yr.get(e);return n||yr.set(e,n=Object.create(null)),n}function Nt(e,n,...r){e&&e.$emit&&e.$emit(n,...r);const a=Ys(e)[n];return a&&a.map(o=>o.apply(e,r)),e}function br(e){return typeof e=="function"||Object.prototype.toString.call(e)==="[object Function]"}function We(e,n,r,a=1){const o=Math.round(n/a/e[0])*e[0],l=Math.round(r/a/e[1])*e[1];return[o,l]}function xr(e,n,r){return e-n-r}function Sr(e,n,r){return e-n-r}function Lt(e,n,r){return n!==null&&e<n?n:r!==null&&r<e?r:e}function vn(e,n,r,a,o){const l=Math.PI/180*o,t=Math.cos(l),s=Math.sin(l);let i=r-e,u=a-n;return{x:i*t-u*s+e,y:i*s+u*t+n}}function Js(e,n){let r=Math.atan2(n,e);return r=Math.round(180/Math.PI*r),r<0&&(r=360+r),r}function Er(e,n,r){let a=e;const o=["matches","webkitMatchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector"].find(l=>br(a[l]));if(!br(a[o]))return!1;do{if(a[o](n))return!0;if(a===r)return!1;a=a.parentNode}while(a);return!1}function Zs(e){const n=window.getComputedStyle(e);return[parseFloat(n.getPropertyValue("width"),10),parseFloat(n.getPropertyValue("height"),10)]}function be(e,n,r){e&&(e.attachEvent?e.attachEvent("on"+n,r):e.addEventListener?e.addEventListener(n,r,!0):e["on"+n]=r)}function re(e,n,r){e&&(e.detachEvent?e.detachEvent("on"+n,r):e.removeEventListener?e.removeEventListener(n,r,!0):e["on"+n]=null)}const Sn={mouse:{start:"mousedown",move:"mousemove",stop:"mouseup"},touch:{start:"touchstart",move:"touchmove",stop:"touchend"}},Qs={userSelect:"none",MozUserSelect:"none",WebkitUserSelect:"none",MsUserSelect:"none"},ks={userSelect:"auto",MozUserSelect:"auto",WebkitUserSelect:"auto",MsUserSelect:"auto"};let oe=Sn.mouse;var Re={name:"VueDragResizeRotate",props:{className:{type:String,default:"vue-drag-resize-rotate"},classNameDraggable:{type:String,default:"draggable"},classNameResizable:{type:String,default:"resizable"},classNameRotatable:{type:String,default:"rotatable"},classNameDragging:{type:String,default:"dragging"},classNameResizing:{type:String,default:"resizing"},classNameRotating:{type:String,default:"rotating"},classNameActive:{type:String,default:"active"},classNameHandle:{type:String,default:"handle"},disableUserSelect:{type:Boolean,default:!0},enableNativeDrag:{type:Boolean,default:!1},preventDeactivation:{type:Boolean,default:!1},active:{type:Boolean,default:!1},draggable:{type:Boolean,default:!0},resizable:{type:Boolean,default:!0},rotatable:{type:Boolean,default:!1},lockAspectRatio:{type:Boolean,default:!1},outsideAspectRatio:{type:[Number,String],default:0},w:{type:[Number,String],default:200,validator:e=>typeof e=="number"?e>0:e==="auto"},h:{type:[Number,String],default:200,validator:e=>typeof e=="number"?e>0:e==="auto"},minWidth:{type:Number,default:0,validator:e=>e>=0},minHeight:{type:Number,default:0,validator:e=>e>=0},maxWidth:{type:Number,default:1/0,validator:e=>e>=0},maxHeight:{type:Number,default:1/0,validator:e=>e>=0},x:{type:[String,Number],default:0},y:{type:[String,Number],default:0},z:{type:[String,Number],default:"auto",validator:e=>typeof e=="string"?e==="auto":e>=0},r:{type:[String,Number],default:0},handles:{type:Array,default:()=>["tl","tm","tr","mr","br","bm","bl","ml","rot"],validator:e=>{const n=new Set(["tl","tm","tr","mr","br","bm","bl","ml","rot"]);return new Set(e.filter(r=>n.has(r))).size===e.length}},dragHandle:{type:String,default:null},dragCancel:{type:String,default:null},axis:{type:String,default:"both",validator:e=>["x","y","both"].includes(e)},grid:{type:Array,default:()=>[1,1]},parent:{type:[Boolean,String],default:!1},onDragStart:{type:Function,default:()=>!0},onDrag:{type:Function,default:()=>!0},onResizeStart:{type:Function,default:()=>!0},onResize:{type:Function,default:()=>!0},onRotateStart:{type:Function,default:()=>!0},onRotate:{type:Function,default:()=>!0},isConflictCheck:{type:Boolean,default:!1},snap:{type:Boolean,default:!1},snapBorder:{type:Boolean,default:!1},snapTolerance:{type:Number,default:5,validator:function(e){return typeof e=="number"}},scaleRatio:{type:Number,default:1,validator:e=>typeof e=="number"},handleInfo:{type:Object,default:()=>({size:8,offset:-4,switch:!0})}},data:function(){return{left:this.x,top:this.y,right:null,bottom:null,rotate:this.r,width:null,height:null,widthTouched:!1,heightTouched:!1,aspectFactor:null,parentWidth:null,parentHeight:null,minW:this.minWidth,minH:this.minHeight,maxW:this.maxWidth,maxH:this.maxHeight,handle:null,enabled:this.active,resizing:!1,dragging:!1,rotating:!1,zIndex:this.z,parentX:0,parentY:0}},computed:{handleStyle(){return e=>{if(!this.handleInfo.switch)return{display:this.enabled?"block":"none"};if(e==="rot"&&!this.rotatable)return{display:"none"};if(e!=="rot"&&!this.resizable)return{display:"none"};const n=(this.handleInfo.size/this.scaleRatio).toFixed(2),r=(this.handleInfo.offset/this.scaleRatio).toFixed(2),a=(n/2).toFixed(2),o={tl:{top:`${r}px`,left:`${r}px`},tm:{top:`${r}px`,left:`calc(50% - ${a}px)`},tr:{top:`${r}px`,right:`${r}px`},mr:{top:`calc(50% - ${a}px)`,right:`${r}px`},br:{bottom:`${r}px`,right:`${r}px`},bm:{bottom:`${r}px`,right:`calc(50% - ${a}px)`},bl:{bottom:`${r}px`,left:`${r}px`},ml:{top:`calc(50% - ${a}px)`,left:`${r}px`},rot:{top:`-${n*3}px`,left:"50%"}},l={width:o[e].width||`${n}px`,height:o[e].height||`${n}px`,top:o[e].top,left:o[e].left,right:o[e].right,bottom:o[e].bottom},t={tl:0,tm:1,tr:2,mr:3,br:4,bm:5,bl:6,ml:7,rot:8};if(e!=="rot"){const s=["nw-resize","n-resize","ne-resize","e-resize","se-resize","s-resize","sw-resize","w-resize"],u=this.rotate+22.5,c=Math.floor(u/45);let d=(t[e]+c)%8;l.cursor=s[d]}return l.display=this.enabled?"block":"none",l}},style(){return{transform:`translate(${this.left}px, ${this.top}px) rotate(${this.rotate}deg)`,width:this.computedWidth,height:this.computedHeight,zIndex:this.zIndex,fontSize:this.handleInfo.size*2+"px",...this.dragging&&this.disableUserSelect?Qs:ks}},actualHandles(){return!this.resizable&&!this.rotatable?[]:this.handles},computedWidth(){return this.w==="auto"&&!this.widthTouched?"auto":this.width+"px"},computedHeight(){return this.h==="auto"&&!this.heightTouched?"auto":this.height+"px"}},watch:{active(e){this.enabled=e,e?(this.updateParentSize(),Nt(this,"activated")):Nt(this,"deactivated")},x(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveHorizontally(e))},y(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcDragLimits()),this.moveVertically(e))},z(e){(e>=0||e==="auto")&&(this.zIndex=e)},r(e){e>=0&&(this.rotate=e%360)},lockAspectRatio(e){e?this.outsideAspectRatio?this.aspectFactor=this.outsideAspectRatio:this.aspectFactor=this.width/this.height:this.aspectFactor=void 0},outsideAspectRatio(e){e&&(this.aspectFactor=e)},minWidth(e){e>0&&(this.minW=e),this.correctSize()},minHeight(e){e>0&&(this.minH=e),this.correctSize()},maxWidth(e){e>0&&(this.maxW=e),this.correctSize()},maxHeight(e){e>0&&(this.maxH=e),this.correctSize()},w(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeWidth(e))},h(e){this.resizing||this.dragging||(this.parent&&(this.bounds=this.calcResizeLimits()),this.changeHeight(e))}},created(){this.maxWidth&&this.minWidth>this.maxWidth&&console.warn("[Vdr warn]: Invalid prop: minWidth cannot be greater than maxWidth"),this.maxHeight&&this.minHeight>this.maxHeight&&console.warn("[Vdr warn]: Invalid prop: minHeight cannot be greater than maxHeight"),this.Center={x:0,y:0},this.TL={x:0,y:0},this.TR={x:0,y:0},this.BL={x:0,y:0},this.BR={x:0,y:0},this.resetBoundsAndMouseState()},mounted(){this.enableNativeDrag||(this.$el.ondragstart=()=>!1);const[e,n]=this.getParentSize();this.parentWidth=e,this.parentHeight=n;const[r,a]=Zs(this.$el);this.aspectFactor=(this.w!=="auto"?this.w:r)/(this.h!=="auto"?this.h:a),this.outsideAspectRatio&&(this.aspectFactor=this.outsideAspectRatio),this.width=this.w!=="auto"?this.w:r,this.height=this.h!=="auto"?this.h:a,this.right=this.parentWidth-this.width-this.left,this.bottom=this.parentHeight-this.height-this.top,this.settingAttribute(),be(document.documentElement,"mousedown",this.deselect),be(document.documentElement,"touchend touchcancel",this.deselect),this.checkParentSize(),be(window,"resize",this.checkParentSize)},beforeUnmount:function(){re(document.documentElement,"mousedown",this.deselect),re(document.documentElement,"touchstart",this.handleUp),re(document.documentElement,"mousemove",this.move),re(document.documentElement,"touchmove",this.move),re(document.documentElement,"mouseup",this.handleUp),re(document.documentElement,"touchend touchcancel",this.deselect),re(window,"resize",this.checkParentSize)},methods:{correctSize(){this.width<this.minW&&(this.width=this.minW),this.height<this.minH&&(this.height=this.minH),this.height>this.maxH&&(this.height=this.maxH),this.width>this.maxW&&(this.width=this.maxW),Nt(this,"resizestop",this.left,this.top,this.width,this.height)},resetBoundsAndMouseState(){this.mouseClickPosition={mouseX:0,mouseY:0,x:0,y:0,w:0,h:0},this.bounds={minLeft:null,maxLeft:null,minRight:null,maxRight:null,minTop:null,maxTop:null,minBottom:null,maxBottom:null}},checkParentSize(){if(this.parent){const[e,n]=this.getParentSize();this.right=e-this.width-this.left,this.bottom=n-this.height-this.top,this.parentWidth=e,this.parentHeight=n}},updateParentSize(){const[e,n]=this.getParentSize();this.parentWidth=e,this.parentHeight=n},getParentSize(){if(this.parent===!0){const e=window.getComputedStyle(this.$el.parentNode,null),n=this.$el.parentNode.getBoundingClientRect();return this.parentX=n.x,this.parentY=n.y,[Math.round(parseFloat(e.getPropertyValue("width"),10)),Math.round(parseFloat(e.getPropertyValue("height"),10))]}if(typeof this.parent=="string"){const e=document.querySelector(this.parent);if(!(e instanceof HTMLElement))throw new Error(`The selector ${this.parent} does not match any element`);return[e.offsetWidth,e.offsetHeight]}return[null,null]},elementTouchDown(e){oe=Sn.touch,this.elementDown(e)},elementMouseDown(e){oe=Sn.mouse,this.elementDown(e)},elementDown(e){if(e instanceof MouseEvent&&e.which!==1)return;const n=e.target||e.srcElement;if(this.$el.contains(n)){if(this.onDragStart(e)===!1)return;if(this.enabled||(this.enabled=!0,Nt(this,"activated"),Nt(this,"update:active",!0)),this.dragHandle&&!Er(n,this.dragHandle,this.$el)||this.dragCancel&&Er(n,this.dragCancel,this.$el)){this.dragging=!1;return}this.draggable&&(this.dragging=!0),this.mouseClickPosition.mouseX=e.touches?e.touches[0].pageX:e.pageX,this.mouseClickPosition.mouseY=e.touches?e.touches[0].pageY:e.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.mouseClickPosition.width=this.width,this.mouseClickPosition.height=this.height,this.parent&&(this.bounds=this.calcDragLimits()),be(document.documentElement,oe.move,this.move),be(document.documentElement,oe.stop,this.handleUp)}},calcDragLimits(){return this.checkParentSize(),this.rotatable?{minLeft:-this.width/2,maxLeft:this.parentWidth-this.width/2,minRight:this.width/2,maxRight:this.parentWidth+this.width/2,minTop:-this.height/2,maxTop:this.parentHeight-this.height/2,minBottom:this.height/2,maxBottom:this.parentHeight+this.height/2}:{minLeft:this.left%this.grid[0],maxLeft:Math.floor((this.parentWidth-this.width-this.left)/this.grid[0])*this.grid[0]+this.left,minRight:this.right%this.grid[0],maxRight:Math.floor((this.parentWidth-this.width-this.right)/this.grid[0])*this.grid[0]+this.right,minTop:this.top%this.grid[1],maxTop:Math.floor((this.parentHeight-this.height-this.top)/this.grid[1])*this.grid[1]+this.top,minBottom:this.bottom%this.grid[1],maxBottom:Math.floor((this.parentHeight-this.height-this.bottom)/this.grid[1])*this.grid[1]+this.bottom}},deselect(e){const n=e.target||e.srcElement,r=new RegExp(this.className+"-([trmbl]{2})","");!this.$el.contains(n)&&!r.test(n.className)&&(this.enabled&&!this.preventDeactivation&&(this.enabled=!1,Nt(this,"deactivated"),Nt(this,"update:active",!1)),re(document.documentElement,oe.move,this.move)),this.resetBoundsAndMouseState()},handleTouchDown(e,n){oe=Sn.touch,this.handleDown(e,n)},handleDown(e,n){if(n instanceof MouseEvent&&n.which!==1||this.onResizeStart(e,n)===!1)return!1;n.stopPropagation&&n.stopPropagation(),this.handle=e,this.handle==="rot"?this.rotating=!0:this.resizing=!0;const r=this.$el.getBoundingClientRect(),{top:a,left:o,width:l,height:t}=r;this.Center.x=window.pageXOffset+o+l/2,this.Center.y=window.pageYOffset+a+t/2;let s=this.left,i=this.top,u=this.width,c=this.height,d=s+u/2,f=i+c/2,h=this.rotate;this.TL=vn(d,f,s,i,h),this.TR=vn(d,f,s+u,i,h),this.BL=vn(d,f,s,i+c,h),this.BR=vn(d,f,s+u,i+c,h),this.mouseClickPosition.mouseX=n.touches?n.touches[0].pageX:n.pageX,this.mouseClickPosition.mouseY=n.touches?n.touches[0].pageY:n.pageY,this.mouseClickPosition.left=this.left,this.mouseClickPosition.right=this.right,this.mouseClickPosition.top=this.top,this.mouseClickPosition.bottom=this.bottom,this.mouseClickPosition.width=this.width,this.mouseClickPosition.height=this.height,this.bounds=this.calcResizeLimits(),be(document.documentElement,oe.move,this.move),be(document.documentElement,oe.stop,this.handleUp)},calcResizeLimits(){let e=this.minW,n=this.minH,r=this.maxW,a=this.maxH;const[o,l]=this.grid,t=this.width,s=this.height,i=this.left,u=this.top,c=this.right,d=this.bottom;r=r-r%o,a=a-a%l;const f={minLeft:null,maxLeft:null,minTop:null,maxTop:null,minRight:null,maxRight:null,minBottom:null,maxBottom:null};return this.parent?(f.minLeft=i,f.maxLeft=i+Math.floor((t-e)/o),f.minTop=u,f.maxTop=u+Math.floor((s-n)/l),f.minRight=c,f.maxRight=c+Math.floor((t-e)/o),f.minBottom=d,f.maxBottom=d+Math.floor((s-n)/l),r&&(f.minLeft=Math.max(f.minLeft,this.parentWidth-c-r),f.minRight=Math.max(f.minRight,this.parentWidth-i-r)),a&&(f.minTop=Math.max(f.minTop,this.parentHeight-d-a),f.minBottom=Math.max(f.minBottom,this.parentHeight-u-a))):(f.minLeft=null,f.maxLeft=i+Math.floor(t-e),f.minTop=null,f.maxTop=u+Math.floor(s-n),f.minRight=null,f.maxRight=c+Math.floor(t-e),f.minBottom=null,f.maxBottom=d+Math.floor(s-n),r&&(f.minLeft=-(c+r),f.minRight=-(i+r)),a&&(f.minTop=-(d+a),f.minBottom=-(u+a)),this.lockAspectRatio&&r&&a&&(f.minLeft=Math.min(f.minLeft,-(c+r)),f.minTop=Math.min(f.minTop,-(a+d)),f.minRight=Math.min(f.minRight,-i-r),f.minBottom=Math.min(f.minBottom,-u-a))),f},move(e){this.resizing?this.handleResize(e):this.dragging?this.handleDrag(e):this.rotating&&this.handleRotate(e)},getMouseCoordinate(e){return e.type.indexOf("touch")!==-1?{x:e.changedTouches[0].clientX,y:e.changedTouches[0].clientY}:{x:e.pageX||e.clientX+document.documentElement.scrollLeft,y:e.pageY||e.clientY+document.documentElement.scrollTop}},handleRotate(e){const{x:n,y:r}=this.getMouseCoordinate(e),a=n-this.Center.x,o=r-this.Center.y;this.rotate=(Js(a,o)+90)%360,Nt(this,"rotating",this.rotate)},async handleDrag(e){const n=this.axis,r=this.grid,a=this.bounds,o=this.mouseClickPosition,l=n&&n!=="y"?o.mouseX-(e.touches?e.touches[0].pageX:e.pageX):0,t=n&&n!=="x"?o.mouseY-(e.touches?e.touches[0].pageY:e.pageY):0,[s,i]=We(r,l,t,this.scaleRatio),u=Lt(o.left-s,a.minLeft,a.maxLeft),c=Lt(o.top-i,a.minTop,a.maxTop);if(this.onDrag(u,c)===!1)return;const d=Lt(o.right+s,a.minRight,a.maxRight),f=Lt(o.bottom+i,a.minBottom,a.maxBottom);this.left=u,this.top=c,this.right=d,this.bottom=f,await this.snapCheck(),Nt(this,"dragging",this.left,this.top)},moveHorizontally(e){const[n]=We(this.grid,e,this.top,this.scale),r=Lt(n,this.bounds.minLeft,this.bounds.maxLeft);this.left=r,this.right=this.parentWidth-this.width-r},moveVertically(e){const[,n]=We(this.grid,this.left,e,this.scale),r=Lt(n,this.bounds.minTop,this.bounds.maxTop);this.top=r,this.bottom=this.parentHeight-this.height-r},handleResize(e){const n=this.handle,r=this.scaleRatio,{TL:a,TR:o,BL:l,BR:t}=this;let{x:s,y:i}=this.getMouseCoordinate(e);!this.rotatable&&this.parent&&(s=Lt(s,this.parentX,this.parentX+this.parentWidth*r),i=Lt(i,this.parentY,this.parentY+this.parentHeight*r));let u=s-this.mouseClickPosition.mouseX,c=i-this.mouseClickPosition.mouseY;u=u/r,c=c/r;let d,f,h,v,g,x,y,b,p,m={},S={},w={},M={},R={},$={},E={},P={};if(n.includes("m")){switch(n){case"tm":d=u+(a.x+o.x)/2,f=c+(a.y+o.y)/2,m=l,S=a,w=t,M={x:d-m.x,y:f-m.y},R={x:S.x-m.x,y:S.y-m.y},h=(M.x*R.x+M.y*R.y)/(Math.pow(R.x,2)+Math.pow(R.y,2)),E={x:w.x-m.x,y:w.y-m.y},P={x:R.x*h,y:R.y*h};break;case"bm":d=u+(l.x+t.x)/2,f=c+(l.y+t.y)/2,m=a,S=l,w=o,M={x:d-m.x,y:f-m.y},R={x:S.x-m.x,y:S.y-m.y},h=(M.x*R.x+M.y*R.y)/(Math.pow(R.x,2)+Math.pow(R.y,2)),E={x:w.x-m.x,y:w.y-m.y},P={x:R.x*h,y:R.y*h};break;case"ml":d=u+(a.x+l.x)/2,f=c+(a.y+l.y)/2,m=t,S=l,w=o,M={x:d-m.x,y:f-m.y},R={x:S.x-m.x,y:S.y-m.y},h=(M.x*R.x+M.y*R.y)/(Math.pow(R.x,2)+Math.pow(R.y,2)),P={x:w.x-m.x,y:w.y-m.y},E={x:R.x*h,y:R.y*h};break;case"mr":d=u+(o.x+o.x)/2,f=c+(o.y+o.y)/2,m=l,S=t,w=a,M={x:d-m.x,y:f-m.y},R={x:S.x-m.x,y:S.y-m.y},h=(M.x*R.x+M.y*R.y)/(Math.pow(R.x,2)+Math.pow(R.y,2)),P={x:w.x-m.x,y:w.y-m.y},E={x:R.x*h,y:R.y*h};break}x=m.x+(E.x+P.x)/2,y=m.y+(E.y+P.y)/2,b=Math.sqrt(Math.pow(E.x,2)+Math.pow(E.y,2)),p=Math.sqrt(Math.pow(P.x,2)+Math.pow(P.y,2))}else{switch(n){case"tl":d=u+a.x,f=c+a.y,m=t,S=l,w=o;break;case"tr":d=u+o.x,f=c+o.y,m=l,S=t,w=a;break;case"bl":d=u+l.x,f=c+l.y,m=o,S=a,w=t;break;case"br":d=u+t.x,f=c+t.y,m=a,S=o,w=l;break}M={x:d-m.x,y:f-m.y},R={x:S.x-m.x,y:S.y-m.y},$={x:w.x-m.x,y:w.y-m.y},v=(M.x*R.x+M.y*R.y)/(Math.pow(R.x,2)+Math.pow(R.y,2)),g=(M.x*$.x+M.y*$.y)/(Math.pow($.x,2)+Math.pow($.y,2)),E={x:R.x*v,y:R.y*v},P={x:$.x*g,y:$.y*g},x=m.x+(E.x+P.x)/2,y=m.y+(E.y+P.y)/2,b=Math.sqrt(Math.pow(E.x,2)+Math.pow(E.y,2)),p=Math.sqrt(Math.pow(P.x,2)+Math.pow(P.y,2))}this.left=x-b/2,this.top=y-p/2,b=Lt(b,this.minW||0,this.maxW),p=Lt(p,this.minH||0,this.maxH),this.parent&&(b=Lt(b,0,this.parentWidth),p=Lt(p,0,this.parentHeight)),this.lockAspectRatio&&(b/p>this.aspectFactor?b=p*this.aspectFactor:p=b/this.aspectFactor),this.width=b,this.height=p,Nt(this,"resizing",this.left,this.top,this.width,this.height)},changeWidth(e){const[n]=We(this.grid,e,0,this.scale),r=this.parentWidth-n-this.left;let a=this.bottom;this.lockAspectRatio&&(a=this.bottom-(this.right-r)/this.aspectFactor);const o=xr(this.parentWidth,this.left,r),l=Sr(this.parentHeight,this.top,a);this.right=r,this.bottom=a,this.width=o,this.height=l},changeHeight(e){const[,n]=We(this.grid,0,e,this.scale),r=this.parentHeight-n-this.top;let a=this.right;this.lockAspectRatio&&(a=this.right-(this.bottom-r)*this.aspectFactor);const o=xr(this.parentWidth,this.left,a),l=Sr(this.parentHeight,this.top,r);this.right=a,this.bottom=r,this.width=o,this.height=l},async handleUp(e){this.handle=null;const n=new Array(3).fill({display:!1,position:"",origin:"",lineLength:""}),r={vLine:[],hLine:[]};for(const l in r)r[l]=JSON.parse(JSON.stringify(n));const{x:a,y:o}=this.getMouseCoordinate(e);this.lastMouseX=a,this.lastMouseY=o,this.resizing&&(this.resizing=!1,await this.conflictCheck(),Nt(this,"refLineParams",r),Nt(this,"resizestop",this.left,this.top,this.width,this.height)),this.dragging&&(this.dragging=!1,await this.conflictCheck(),Nt(this,"refLineParams",r),Nt(this,"dragstop",this.left,this.top)),this.rotating&&(this.rotating=!1,Nt(this,"rotatestop",this.rotate)),this.resetBoundsAndMouseState(),re(document.documentElement,oe.move,this.move)},settingAttribute(){this.$el.setAttribute("data-is-check",`${this.isConflictCheck}`),this.$el.setAttribute("data-is-snap",`${this.snap}`)},conflictCheck(){const e=this.top,n=this.left,r=this.width,a=this.height;if(this.isConflictCheck){const o=this.$el.parentNode.childNodes;for(const l of o)if(l.className!==void 0&&!l.className.split(" ").includes(this.classNameActive)&&l.getAttribute("data-is-check")!==null&&l.getAttribute("data-is-check")!=="false"){const t=l.offsetWidth,s=l.offsetHeight,[i,u]=this.formatTransformVal(l.style.transform),c=e>=u&&n>=i&&u+s>e&&i+t>n||e<=u&&n<i&&e+a>u&&n+r>i,d=n<=i&&e>=u&&n+r>i&&e<u+s||e<u&&n>i&&e+a>u&&n<i+t,f=e<=u&&n>=i&&e+a>u&&n<i+t||e>=u&&n<=i&&e<u+s&&n>i+t,h=e<=u&&n>=i&&e+a>u&&n<i+t||e>=u&&n<=i&&e<u+s&&n>i+t,v=n>=i&&e>=u&&n<i+t&&e<u+s||e>u&&n<=i&&n+r>i&&e<u+s,g=e<=u&&n>=i&&e+a>u&&n<i+t||e>=u&&n<=i&&e<u+s&&n+r>i;(c||d||f||h||v||g)&&(this.top=this.mouseClickPosition.top,this.left=this.mouseClickPosition.left,this.width=this.mouseClickPosition.width,this.height=this.mouseClickPosition.height)}}},async snapCheck(){if(this.snap){let e=this.width,n=this.height,r=this.left,a=this.left+e,o=this.top,l=this.top+n;const t=new Array(3).fill({display:!1,position:"",origin:"",lineLength:""}),s={vLine:[],hLine:[]};for(const g in s)s[g]=JSON.parse(JSON.stringify(t));const i={value:{x:[[],[],[]],y:[[],[],[]]},display:[],position:[]},u=this.$el.parentNode.childNodes,{groupWidth:c,groupHeight:d,groupLeft:f,groupTop:h,bln:v}=await this.getActiveAll(u);v||(e=c,n=d,r=f,a=f+c,o=h,l=h+d);for(const g of u)if(g.className!==void 0&&!g.className.split(" ").includes(this.classNameActive)&&g.getAttribute("data-is-snap")!==null&&g.getAttribute("data-is-snap")!=="false"){const[x,y,b]=this.formatTransformVal(g.style.transform);if((b-this.rotate)%90===0){const p=g.offsetWidth,m=g.offsetHeight,S=x+p,w=y+m,M=Math.abs(o+n/2-(y+m/2))<=this.snapTolerance,R=Math.abs(r+e/2-(x+p/2))<=this.snapTolerance,$=Math.abs(y-l)<=this.snapTolerance,E=Math.abs(w-l)<=this.snapTolerance,P=Math.abs(y-o)<=this.snapTolerance,N=Math.abs(w-o)<=this.snapTolerance,A=Math.abs(x-a)<=this.snapTolerance,D=Math.abs(S-a)<=this.snapTolerance,U=Math.abs(x-r)<=this.snapTolerance,F=Math.abs(S-r)<=this.snapTolerance;i.display=[$,E,P,N,M,M,A,D,U,F,R,R],i.position=[y,w,y,w,y+m/2,y+m/2,x,S,x,S,x+p/2,x+p/2],v&&($&&(this.top=y-n,this.bottom=this.parentHeight-this.top-n,i.value.y[0].push(x,S,r,a)),P&&(this.top=y,this.bottom=this.parentHeight-this.top-n,i.value.y[0].push(x,S,r,a)),E&&(this.top=w-n,this.bottom=this.parentHeight-this.top-n,i.value.y[1].push(x,S,r,a)),N&&(this.top=w,this.bottom=this.parentHeight-this.top-n,i.value.y[1].push(x,S,r,a)),A&&(this.left=x-e,this.right=this.parentWidth-this.left-e,i.value.x[0].push(y,w,o,l)),U&&(this.left=x,this.right=this.parentWidth-this.left-e,i.value.x[0].push(y,w,o,l)),D&&(this.left=S-e,this.right=this.parentWidth-this.left-e,i.value.x[1].push(y,w,o,l)),F&&(this.left=S,this.right=this.parentWidth-this.left-e,i.value.x[1].push(y,w,o,l)),M&&(this.top=y+m/2-n/2,this.bottom=this.parentHeight-this.top-n,i.value.y[2].push(x,S,r,a)),R&&(this.left=x+p/2-e/2,this.right=this.parentWidth-this.left-e,i.value.x[2].push(y,w,o,l)),this.snapBorder&&(Math.abs(this.left-0)<=this.snapTolerance&&(this.left=0,this.right=this.parentWidth-this.left-e),Math.abs(this.right-0)<=this.snapTolerance&&(this.right=0,this.left=this.parentWidth-this.width-this.right),Math.abs(this.top-0)<=this.snapTolerance&&(this.top=0,this.bottom=this.parentHeight-this.top-n),Math.abs(this.bottom-0)<=this.snapTolerance&&(this.bottom=0,this.top=this.parentHeight-this.bottom-n)));let H=this.bounds;this.left=Lt(this.left,H.minLeft,H.maxLeft),this.top=Lt(this.top,H.minTop,H.maxTop),this.right=Lt(this.right,H.minRight,H.maxRight),this.bottom=Lt(this.bottom,H.minBottom,H.maxBottom);const J=[0,1,0,1,2,2,0,1,0,1,2,2];for(let rt=0;rt<=J.length;rt++){const ft=rt<6?"y":"x",ct=rt<6?"hLine":"vLine";if(i.display[rt]){const{origin:ht,length:gt}=this.calcLineValues(i.value[ft][J[rt]]);s[ct][J[rt]].display=i.display[rt],s[ct][J[rt]].position=i.position[rt]+"px",s[ct][J[rt]].origin=ht,s[ct][J[rt]].lineLength=gt}}}}Nt(this,"refLineParams",s)}},calcLineValues(e){const n=Math.max(...e)-Math.min(...e)+"px",r=Math.min(...e)+"px";return{length:n,origin:r}},async getActiveAll(e){const n=[],r=[],a=[];let o=0,l=0,t=0,s=0;for(const c of e)c.className!==void 0&&c.className.split(" ").includes(this.classNameActive)&&n.push(c);const i=n.length;if(i>1){for(const c of n){const d=c.offsetLeft,f=d+c.offsetWidth,h=c.offsetTop,v=h+c.offsetHeight;r.push(d,f),a.push(h,v)}o=Math.max(...r)-Math.min(...r),l=Math.max(...a)-Math.min(...a),t=Math.min(...r),s=Math.min(...a)}return{groupWidth:o,groupHeight:l,groupLeft:t,groupTop:s,bln:i===1}},formatTransformVal(e){let[n,r,a=0]=e.match(/[\d|.]+/g);return r===void 0&&(r=0),[Number(n),Number(r),a]}},emits:["update:active","rotating","dragging","resizing","refLineParams","resizestop","dragstop","rotatestop","activated","deactivated"]};const qs=["onMousedown","onTouchstart"];function _s(e,n,r,a,o,l){return Q(),tt("div",{style:en(l.style),class:Yt([{[r.classNameActive]:e.enabled,[r.classNameDragging]:e.dragging,[r.classNameResizing]:e.resizing,[r.classNameDraggable]:r.draggable,[r.classNameResizable]:r.resizable,[r.classNameRotating]:e.rotating,[r.classNameRotatable]:r.rotatable},r.className]),onMousedown:n[0]||(n[0]=(...t)=>l.elementMouseDown&&l.elementMouseDown(...t)),onTouchstart:n[1]||(n[1]=(...t)=>l.elementTouchDown&&l.elementTouchDown(...t))},[(Q(!0),tt(ie,null,Se(l.actualHandles,(t,s)=>(Q(),tt("div",{key:s,class:Yt([r.classNameHandle,r.classNameHandle+"-"+t]),style:en(l.handleStyle(t,s)),onMousedown:ot(i=>l.handleDown(t,i),["stop","prevent"]),onTouchstart:ot(i=>l.handleTouchDown(t,i),["stop","prevent"])},[Jn(e.$slots,t)],46,qs))),128)),Jn(e.$slots,"default")],38)}Re.render=_s;Re.__scopeId="data-v-3c286975";Re.__file="src/components/vue-drag-resize-rotate/index.vue";function tr(e){tr.installed||(tr.installed=!0,e.component("VueDragResizeRotate",Re))}Re.install=tr;function tl(e){return $r()?(Ar(e),!0):!1}function Zr(e){return typeof e=="function"?e():Ft(e)}const Qr=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const el=Object.prototype.toString,nl=e=>el.call(e)==="[object Object]",En=()=>{},rl=ol();function ol(){var e,n;return Qr&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(?:ad|hone|od)/.test(window.navigator.userAgent)||((n=window==null?void 0:window.navigator)==null?void 0:n.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function Ye(e){var n;const r=Zr(e);return(n=r==null?void 0:r.$el)!=null?n:r}const kr=Qr?window:void 0;function Kn(...e){let n,r,a,o;if(typeof e[0]=="string"||Array.isArray(e[0])?([r,a,o]=e,n=kr):[n,r,a,o]=e,!n)return En;Array.isArray(r)||(r=[r]),Array.isArray(a)||(a=[a]);const l=[],t=()=>{l.forEach(c=>c()),l.length=0},s=(c,d,f,h)=>(c.addEventListener(d,f,h),()=>c.removeEventListener(d,f,h)),i=nr(()=>[Ye(n),Zr(o)],([c,d])=>{if(t(),!c)return;const f=nl(d)?{...d}:d;l.push(...r.flatMap(h=>a.map(v=>s(c,h,v,f))))},{immediate:!0,flush:"post"}),u=()=>{i(),t()};return tl(u),u}let wr=!1;function al(e,n,r={}){const{window:a=kr,ignore:o=[],capture:l=!0,detectIframe:t=!1}=r;if(!a)return En;rl&&!wr&&(wr=!0,Array.from(a.document.body.children).forEach(f=>f.addEventListener("click",En)),a.document.documentElement.addEventListener("click",En));let s=!0;const i=f=>o.some(h=>{if(typeof h=="string")return Array.from(a.document.querySelectorAll(h)).some(v=>v===f.target||f.composedPath().includes(v));{const v=Ye(h);return v&&(f.target===v||f.composedPath().includes(v))}}),c=[Kn(a,"click",f=>{const h=Ye(e);if(!(!h||h===f.target||f.composedPath().includes(h))){if(f.detail===0&&(s=!i(f)),!s){s=!0;return}n(f)}},{passive:!0,capture:l}),Kn(a,"pointerdown",f=>{const h=Ye(e);s=!i(f)&&!!(h&&!f.composedPath().includes(h))},{passive:!0}),t&&Kn(a,"blur",f=>{setTimeout(()=>{var h;const v=Ye(e);((h=a.document.activeElement)==null?void 0:h.tagName)==="IFRAME"&&!(v!=null&&v.contains(a.document.activeElement))&&n(f)},0)})].filter(Boolean);return()=>c.forEach(f=>f())}const il=e=>["h1","h2","h3","h4","h5","h6","p","blockquote","div","dd","dl","dt","figcaption","figure","ol","ul","li","pre"].includes(e),sl=e=>["a","b","i","q","s","u","abbr","bdi","cite","code","kbd","mark","data","time","dfn","em","strong","samp","ruby","rp","rt","sub","sup","wbr","small","big"].includes(e),qr=e=>il(e)||sl(e),ll=()=>{let e=window.getSelection(),n,r;return e&&e.rangeCount>0&&(n=e.getRangeAt(0),r=n.cloneContents()),r},ul=new XMLSerializer,$e=(e,n)=>document.execCommand("insertHTML",!1,e+ul.serializeToString(ll()).replace(/xmlns="[\w\/\.:]*?"/g,"")+n),cl={},dl={xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"21",viewBox:"0 -2 24 24",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-type"};function fl(e,n){return Q(),tt("svg",dl,[...n[0]||(n[0]=[O("polyline",{points:"4 7 4 4 20 4 20 7"},null,-1),O("line",{x1:"9",y1:"20",x2:"15",y2:"20"},null,-1),O("line",{x1:"12",y1:"4",x2:"12",y2:"20"},null,-1)])])}const hl=Bt(cl,[["render",fl]]),pl={},vl={xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"21",viewBox:"0 -2 24 24",fill:"none",stroke:"currentColor","stroke-width":"3","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-type"};function gl(e,n){return Q(),tt("svg",vl,[...n[0]||(n[0]=[O("path",{d:"M 4 7 L 4 4 L 20 4 L 20 7 M 9 20 L 15 20 M 12 4 L 12 20 M 15 13 L 15 14 M 15 13 L 21 13 L 21 14 M 18 13 L 18 19 M 17 19 L 19 19"},null,-1)])])}const ml=Bt(pl,[["render",gl]]),yl={},bl={xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"21",viewBox:"0 -2 24 24",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-type"};function xl(e,n){return Q(),tt("svg",bl,[...n[0]||(n[0]=[er('<polyline points="2 7 2 4 15 4 15 7"></polyline><line x1="7" y1="20" x2="10" y2="20"></line><line x1="9" y1="4" x2="9" y2="20"></line><line x1="21" y1="4" x2="21" y2="22"></line><polyline points="19 4 21 0 23 4"></polyline>',5)])])}const Sl=Bt(yl,[["render",xl]]),El={},wl={xmlns:"http://www.w3.org/2000/svg",width:"17.5",height:"21",viewBox:"0 -2 24 24",fill:"none",stroke:"currentColor","stroke-width":"4","stroke-linecap":"round","stroke-linejoin":"round",class:"feather feather-type"};function Tl(e,n){return Q(),tt("svg",wl,[...n[0]||(n[0]=[er('<polyline points="2 7 2 4 15 4 15 7"></polyline><line x1="7" y1="20" x2="10" y2="20"></line><line x1="9" y1="4" x2="9" y2="20"></line><line x1="21" y1="4" x2="21" y2="22"></line><polyline points="19 18 21 22 23 18"></polyline>',5)])])}const Cl=Bt(El,[["render",Tl]]),Ol={},$l={"aria-hidden":"true","data-prefix":"fas","data-icon":"layer-plus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"21",height:"21"};function Il(e,n){return Q(),tt("svg",$l,[...n[0]||(n[0]=[O("path",{fill:"currentColor",d:"M304 144h64v64c0 8.84 7.16 16 16 16h32c8.84 0 16-7.16 16-16v-64h64c8.84 0 16-7.16 16-16V96c0-8.84-7.16-16-16-16h-64V16c0-8.84-7.16-16-16-16h-32c-8.84 0-16 7.16-16 16v64h-64c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16zm195.59 220.1l-58.54-26.53-161.19 73.06c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.95 337.57 12.41 364.1c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40zM12.41 275.9l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L448 299.28V280.7c-15.32 4.38-31.27 7.29-48 7.29-88.01 0-160.72-64.67-173.72-149.04L12.41 235.9c-16.55 7.5-16.55 32.5 0 40z",class:""},null,-1)])])}const Al=Bt(Ol,[["render",Il]]),Pl={},Dl={"aria-hidden":"true","data-prefix":"fas","data-icon":"layer-minus",role:"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",width:"21",height:"21"};function Rl(e,n){return Q(),tt("svg",Dl,[...n[0]||(n[0]=[O("path",{fill:"currentColor",d:"M12.41 276.3l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 276.3c16.55-7.5 16.55-32.5 0-40L266.65 130.72a25.682 25.682 0 0 0-21.29 0L12.41 236.3c-16.55 7.5-16.55 32.5 0 40zM304 64h192c8.84 0 16-7.16 16-16V16c0-8.84-7.16-16-16-16H304c-8.84 0-16 7.16-16 16v32c0 8.84 7.16 16 16 16zm195.59 300.1l-58.09-26.33-161.63 73.27c-7.56 3.43-15.59 5.17-23.86 5.17s-16.29-1.74-23.86-5.17L70.51 337.77l-58.1 26.33c-16.55 7.5-16.55 32.5 0 40l232.94 105.59c6.8 3.08 14.49 3.08 21.29 0L499.59 404.1c16.55-7.5 16.55-32.5 0-40z",class:""},null,-1)])])}const Ml=Bt(Pl,[["render",Rl]]),Nl={class:"underline"},Ll={key:0,class:"underline-container"},Fl={class:"font-color"},jl={class:"font-color"},Bl={class:"font-size"},Hl={key:0,class:"text-container"},zl={class:"font-width"},Ul={key:0,class:"width-container"},Wl={class:"font-height"},Gl={key:0,class:"height-container"},Vl=le({__name:"TextFormat",props:{update:Object},emits:["delete","styles"],setup(e,{emit:n}){nn(b=>({v7c396b24:d.value,v4d6aa75a:v.value,v5d69598c:h.value,v7984d90c:g.value,v56edc82d:x.value}));const r=e,a=n,o=k(!1),l=k(null),t=k(24),s=k(0),i=k(0),u=k(""),c=k(""),d=k("#FF0000"),f=k("#FF0000"),h=k(0),v=k(0),g=k(0),x=k(0),y=(b,...p)=>{switch(a("styles"),b){case"increaseFontSize":$e('<span class="igx-bigger-font-size">',"</span>");break;case"decreaseFontSize":$e('<span class="igx-smaller-font-size">',"</span>");break;case"setFontSize":$e(`<span style="font-size: ${p[0]}pt" >`,"</span>");break;case"customUnderline":document.execCommand("backColor",!1,p[0]);break;case"textColor":document.execCommand("foreColor",!1,p[0]);break;case"fillColor":c.value==="div"?document.getElementById(u.value).style.backgroundColor=p[0]:$e(`<span style="background-color: ${p[0]}" >`,"</span>");break;case"setFontWidth":$e(`<span style="letter-spacing: ${p[0]}pt" >`,"</span>");break;case"setFontHeight":$e(`<span style="line-height: ${p[0]}" >`,"</span>");break;case"moveUp":let m=Number(document.getElementById(u.value).style.zIndex);document.getElementById(u.value).style.zIndex=String(m+1);break;case"moveDown":let S=Number(document.getElementById(u.value).style.zIndex);document.getElementById(u.value).style.zIndex=String(S-1);break;default:document.execCommand(b)}};return al(l,b=>{var p,m,S,w;((p=document.querySelector(":focus"))==null?void 0:p.id)===((m=r.update)==null?void 0:m.id)&&((S=r.update)!=null&&S.id)||(w=l.value)!=null&&w.style&&(l.value.style.transform="translate(-50%, -50%) rotateX(90deg)")}),Dn(()=>{var S,w,M,R;if(!((S=l.value)!=null&&S.style)||!((w=r.update)!=null&&w.tag&&((M=r.update)!=null&&M.id)))return;u.value=r.update.id,c.value=r.update.tag,o.value=qr(r.update.tag);let{left:b,top:p,width:m}=((R=document.getElementById(r.update.id))==null?void 0:R.getBoundingClientRect())??{};b??(b=0),p??(p=0),m??(m=0),l.value.style.display="flex",l.value.style.top=`${p-50}px`,l.value.style.left=`${b+m/2}px`,l.value.style.transform="translate(-50%, -50%) rotateX(0deg)"}),(b,p)=>(Q(),tt("div",{class:"box",ref_key:"box",ref:l},[ae(O("div",null,[O("button",{onClick:p[0]||(p[0]=ot(m=>y("bold"),["prevent"]))},[...p[39]||(p[39]=[O("i",{class:"fa-solid fa-bold"},null,-1)])]),O("button",{onClick:p[1]||(p[1]=ot(m=>y("italic"),["prevent"]))},[...p[40]||(p[40]=[O("i",{class:"fa-solid fa-italic"},null,-1)])]),O("div",Nl,[O("button",null,[O("i",{onClick:p[2]||(p[2]=ot(m=>y("underline"),["prevent"])),class:"fa-solid fa-underline"}),O("i",{onClick:p[3]||(p[3]=ot(m=>h.value=+!h.value,["prevent"])),class:"underline-span fa-solid fa-chevron-right fa-2xs"})]),h.value?(Q(),tt("div",Ll,[O("button",{class:"inner",onClick:p[4]||(p[4]=ot(m=>y("customUnderline","double"),["prevent"]))},[...p[41]||(p[41]=[O("span",{style:{"text-decoration":"underline double"}},"T",-1)])]),O("button",{class:"inner",onClick:p[5]||(p[5]=ot(m=>y("customUnderline","dotted"),["prevent"]))},[...p[42]||(p[42]=[O("span",{style:{"text-decoration":"underline dotted"}},"T",-1)])]),O("button",{class:"inner",onClick:p[6]||(p[6]=ot(m=>y("customUnderline","dashed"),["prevent"]))},[...p[43]||(p[43]=[O("span",{style:{"text-decoration":"underline dashed"}},"T",-1)])]),O("button",{class:"inner",onClick:p[7]||(p[7]=ot(m=>y("customUnderline","wavy"),["prevent"]))},[...p[44]||(p[44]=[O("span",{style:{"text-decoration":"underline wavy"}},"T",-1)])])])):Ae("",!0)]),O("button",{onClick:p[8]||(p[8]=ot(m=>y("justifyLeft"),["prevent"]))},[...p[45]||(p[45]=[O("i",{class:"fa-solid fa-align-left"},null,-1)])]),O("button",{onClick:p[9]||(p[9]=ot(m=>y("justifyCenter"),["prevent"]))},[...p[46]||(p[46]=[O("i",{class:"fa-solid fa-align-center"},null,-1)])]),O("button",{onClick:p[10]||(p[10]=ot(m=>y("justifyRight"),["prevent"]))},[...p[47]||(p[47]=[O("i",{class:"fa-solid fa-align-right"},null,-1)])]),O("button",{onClick:p[11]||(p[11]=ot(m=>y("justifyFull"),["prevent"]))},[...p[48]||(p[48]=[O("i",{class:"fa-solid fa-align-justify"},null,-1)])]),O("button",{onClick:p[12]||(p[12]=ot(m=>y("strikeThrough"),["prevent"]))},[...p[49]||(p[49]=[O("i",{class:"fa-solid fa-strikethrough"},null,-1)])]),O("button",{onClick:p[13]||(p[13]=ot(m=>y("subscript"),["prevent"]))},[...p[50]||(p[50]=[O("i",{class:"fa-solid fa-subscript"},null,-1)])]),O("button",{onClick:p[14]||(p[14]=ot(m=>y("superscript"),["prevent"]))},[...p[51]||(p[51]=[O("i",{class:"fa-solid fa-superscript"},null,-1)])]),O("button",Fl,[O("i",{onClick:p[15]||(p[15]=ot(m=>y("textColor",d.value),["prevent"])),class:"fa-solid fa-font"}),ae(O("input",{type:"color","onUpdate:modelValue":p[16]||(p[16]=m=>d.value=m)},null,512),[[fe,d.value]])]),O("button",jl,[O("i",{onClick:p[17]||(p[17]=ot(m=>y("fillColor",f.value),["prevent"])),class:"fa-solid fa-fill-drip fa-sm"}),ae(O("input",{type:"color","onUpdate:modelValue":p[18]||(p[18]=m=>f.value=m)},null,512),[[fe,f.value]])]),O("div",Bl,[O("button",{class:"inner",onClick:p[19]||(p[19]=ot(m=>v.value=+!v.value,["prevent"]))},[bt(hl),p[52]||(p[52]=O("i",{class:"text-span fa-solid fa-chevron-right fa-2xs"},null,-1))]),v.value?(Q(),tt("div",Hl,[O("button",{class:"inner",onClick:p[20]||(p[20]=ot(m=>y("setFontSize",t.value),["prevent"]))},[bt(ml)]),O("button",{class:"inner",onClick:p[21]||(p[21]=ot(m=>t.value--,["prevent"]))},[...p[53]||(p[53]=[O("i",{class:"fa-solid fa-minus"},null,-1)])]),ae(O("input",{type:"number",value:"24","onUpdate:modelValue":p[22]||(p[22]=m=>t.value=m)},null,512),[[fe,t.value]]),O("button",{class:"inner",onClick:p[23]||(p[23]=ot(m=>t.value++,["prevent"]))},[...p[54]||(p[54]=[O("i",{class:"fa-solid fa-plus"},null,-1)])]),O("button",{class:"inner",onClick:p[24]||(p[24]=ot(m=>y("increaseFontSize"),["prevent"]))},[bt(Sl)]),O("button",{class:"inner",onClick:p[25]||(p[25]=ot(m=>y("decreaseFontSize"),["prevent"]))},[bt(Cl)])])):Ae("",!0)]),O("div",zl,[O("button",{class:"inner",onClick:p[26]||(p[26]=ot(m=>g.value=+!g.value,["prevent"]))},[...p[55]||(p[55]=[O("i",{class:"fa-solid fa-text-width"},null,-1),O("i",{class:"width-span fa-solid fa-chevron-right fa-2xs"},null,-1)])]),g.value?(Q(),tt("div",Ul,[O("button",{class:"inner",onClick:p[27]||(p[27]=ot(m=>y("setFontWidth",s.value),["prevent"]))},[...p[56]||(p[56]=[O("i",{class:"fa-solid fa-check"},null,-1)])]),O("button",{class:"inner",onClick:p[28]||(p[28]=ot(m=>s.value-=.1,["prevent"]))},[...p[57]||(p[57]=[O("i",{class:"fa-solid fa-minus"},null,-1)])]),ae(O("input",{type:"number",value:"2.5","onUpdate:modelValue":p[29]||(p[29]=m=>s.value=m)},null,512),[[fe,s.value]]),O("button",{class:"inner",onClick:p[30]||(p[30]=ot(m=>s.value+=.1,["prevent"]))},[...p[58]||(p[58]=[O("i",{class:"fa-solid fa-plus"},null,-1)])])])):Ae("",!0)]),O("div",Wl,[O("button",{class:"inner",onClick:p[31]||(p[31]=ot(m=>x.value=+!x.value,["prevent"]))},[...p[59]||(p[59]=[O("i",{class:"fa-solid fa-text-height"},null,-1),O("i",{class:"height-span fa-solid fa-chevron-right fa-2xs"},null,-1)])]),x.value?(Q(),tt("div",Gl,[O("button",{class:"inner",onClick:p[32]||(p[32]=ot(m=>y("setFontHeight",i.value),["prevent"]))},[...p[60]||(p[60]=[O("i",{class:"fa-solid fa-check"},null,-1)])]),O("button",{class:"inner",onClick:p[33]||(p[33]=ot(m=>i.value-=.1,["prevent"]))},[...p[61]||(p[61]=[O("i",{class:"fa-solid fa-minus"},null,-1)])]),ae(O("input",{type:"number",value:"2.5","onUpdate:modelValue":p[34]||(p[34]=m=>i.value=m)},null,512),[[fe,i.value]]),O("button",{class:"inner",onClick:p[35]||(p[35]=ot(m=>i.value+=.1,["prevent"]))},[...p[62]||(p[62]=[O("i",{class:"fa-solid fa-plus"},null,-1)])])])):Ae("",!0)])],512),[[Dr,o.value]]),O("div",null,[O("button",{onClick:p[36]||(p[36]=ot(m=>b.$emit("delete",u.value),["prevent"]))},[...p[63]||(p[63]=[O("i",{class:"fa-solid fa-trash",style:{color:"red"}},null,-1)])]),O("button",{onClick:p[37]||(p[37]=ot(m=>y("moveUp"),["prevent"]))},[bt(Al)]),O("button",{onClick:p[38]||(p[38]=ot(m=>y("moveDown"),["prevent"]))},[bt(Ml)])])],512))}}),Xl=Bt(Vl,[["__scopeId","data-v-97ec9cb9"]]),Kl={ref:"ctx",class:"ctx",id:"slide_edit_ctx"},Yl=le({__name:"InnerEditor",props:{data:Object,width:Number,height:Number,class:String,log:String},emits:["drag","resize","content","rotate","delete","styles"],setup(e,{emit:n}){nn(c=>({v4cbb0a98:e.width,v40dde1f9:e.height}));const r=k({}),a=n,o=(c,d,f)=>{a("drag",c,d,f[0].id)},l=(c,d,f,h,v)=>{a("resize",c,d,f,h,v[0].id)},t=(c,d)=>{a("rotate",c,d[0].id)},s=c=>{const d=c.target;a("content",d.innerHTML,Ks(),d.id)},i=()=>{Array.from(document.getElementsByClassName("handle-rot")).forEach(c=>{c.style.display="block"})},u=c=>{c.code==="Delete"&&a("delete",c.target.id)};return(c,d)=>{var f;return Q(),tt(ie,null,[bt(Xl,{update:r.value,onDelete:d[0]||(d[0]=h=>c.$emit("delete",h)),onStyles:d[1]||(d[1]=h=>c.$emit("styles"))},null,8,["update"]),O("div",Kl,[(Q(!0),tt(ie,null,Se((f=e.data)==null?void 0:f.content,(h,v)=>(Q(),wn(Ft(Re),{onKeydown:u,onDragstop:(g,x)=>o(g,x,c.$refs[`draggable${v}`]),onResizestop:(g,x,y,b)=>l(g,x,y,b,c.$refs[`draggable${v}`]),onRotatestop:g=>t(g,c.$refs[`draggable${v}`]),onActivated:i,x:h.position.x,"onUpdate:x":g=>h.position.x=g,y:h.position.y,"onUpdate:y":g=>h.position.y=g,w:h.position.w,"onUpdate:w":g=>h.position.w=g,h:h.position.h,"onUpdate:h":g=>h.position.h=g,r:h.position.r,"onUpdate:r":g=>h.position.r=g},{default:Rn(()=>[(Q(),wn(Pr(h.tag),Ir({ref_for:!0,ref:`draggable${v}`,id:h.id,style:{...h.styles,color:"black","text-align":"center"}},{ref_for:!0},h.attrs,{innerHTML:Ft(Fi)(h.content),contenteditable:"",class:"no-focus full",onFocus:g=>r.value={tag:h.tag,id:h.id},onBlur:d[2]||(d[2]=g=>{s(g),r.value={}})}),null,16,["id","style","innerHTML","onFocus"]))]),_:2},1032,["onDragstop","onResizestop","onRotatestop","x","onUpdate:x","y","onUpdate:y","w","onUpdate:w","h","onUpdate:h","r","onUpdate:r"]))),256))],512)],64)}}}),Jl=Bt(Yl,[["__scopeId","data-v-40956208"]]),_r={generate_layouts:()=>`
    Make a basic presentation layout with this syntax:
    't' for text
    'i' for images
    'c' for charts
    'h' and 'v' for horizontal and vertical
    Say, h{ttt} would be A|B|C.
    h{tv{it}} is A|B where B is an image and text stack on top of each other.
    '^' for random position and '%' for random rotation.
    '%^t' and '%h{tt}' for example.
    No other characters are valid except: t, i, c, h, v, {, }, ^ and %
    NO OTHER CHARACTERS ARE VALID EXCEPT: 't', 'i', 'c', 'h', 'v', '{', '}', '^' and '%'.
    NO EXTRA STRINGS, ONLY LAYOUTS.
    If you understand, only respond with this syntax and please put the each layout in between '$'.
    example: $h{ttt}$ and $%^v{th{it}}$
    `,generate_text:e=>`
    Make an easy and concise explanation of ${e}.
    `},Tr=async(e,n,r=!0)=>await(await fetch("https://api-inference.huggingface.co/models/mistralai/Mixtral-8x7B-Instruct-v0.1",{headers:{Authorization:`Bearer ${n}`,"Content-Type":"application/json"},method:"POST",body:JSON.stringify({inputs:e,options:{use_cache:r}})})).json(),to=(e,n=!0)=>({async text_gen(r,a=!0){let o=`<s>[INST]${r}[/INST]`,l=(await Tr(o,e,n))[0].generated_text;for(;o!=l;)o=l,l=(await Tr(o,e,n))[0].generated_text;return a?l.slice(l.search(/\[\/INST\]/)+7):l+"</s>"}}),Zl=async()=>(await to(void 0).text_gen(_r.generate_layouts())).match(/\$[\{\}cithv%\^]+\$/g),Ql=async e=>(await to(void 0,!1).text_gen(_r.generate_text(e))).replaceAll(`Make an easy and concise explanation of ${e}.`,""),kl=async e=>{const r=await(await fetch(`https://api.unsplash.com/search/photos?client_id=undefined&query=${e}&page=1&per_page=20`)).json(),a=Math.floor(Math.random()*20),o=r.results[a].urls.raw;return console.log(o),o},Cr=function(){function e(o,l){function t(){this.constructor=o}t.prototype=l.prototype,o.prototype=new t}function n(o,l,t,s){var i=Error.call(this,o);return Object.setPrototypeOf&&Object.setPrototypeOf(i,n.prototype),i.expected=l,i.found=t,i.location=s,i.name="SyntaxError",i}e(n,Error);function r(o,l,t){return t=t||" ",o.length>l?o:(l-=o.length,t+=t.repeat(l),o+t.slice(0,l))}n.prototype.format=function(o){var l="Error: "+this.message;if(this.location){var t=null,s;for(s=0;s<o.length;s++)if(o[s].source===this.location.source){t=o[s].text.split(/\r\n|\n|\r/g);break}var i=this.location.start,u=this.location.source&&typeof this.location.source.offset=="function"?this.location.source.offset(i):i,c=this.location.source+":"+u.line+":"+u.column;if(t){var d=this.location.end,f=r("",u.line.toString().length," "),h=t[i.line-1],v=i.line===d.line?d.column:h.length+1,g=v-i.column||1;l+=`
 --> `+c+`
`+f+` |
`+u.line+" | "+h+`
`+f+" | "+r("",i.column-1," ")+r("",g,"^")}else l+=`
 at `+c}return l},n.buildMessage=function(o,l){var t={literal:function(h){return'"'+i(h.text)+'"'},class:function(h){var v=h.parts.map(function(g){return Array.isArray(g)?u(g[0])+"-"+u(g[1]):u(g)});return"["+(h.inverted?"^":"")+v.join("")+"]"},any:function(){return"any character"},end:function(){return"end of input"},other:function(h){return h.description}};function s(h){return h.charCodeAt(0).toString(16).toUpperCase()}function i(h){return h.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+s(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+s(v)})}function u(h){return h.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(v){return"\\x0"+s(v)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(v){return"\\x"+s(v)})}function c(h){return t[h.type](h)}function d(h){var v=h.map(c),g,x;if(v.sort(),v.length>0){for(g=1,x=1;g<v.length;g++)v[g-1]!==v[g]&&(v[x]=v[g],x++);v.length=x}switch(v.length){case 1:return v[0];case 2:return v[0]+" or "+v[1];default:return v.slice(0,-1).join(", ")+", or "+v[v.length-1]}}function f(h){return h?'"'+i(h)+'"':"end of input"}return"Expected "+d(o)+" but "+f(l)+" found."};function a(o,l){l=l!==void 0?l:{};var t={},s=l.grammarSource,i={Expression:ht},u=ht,c="$",d="{",f="}",h=/^[cti]/,v=/^[vh]/,g=/^[%\^]/,x=U("$",!1),y=U("{",!1),b=U("}",!1),p=F(["c","t","i"],!1,!1),m=F(["v","h"],!1,!1),S=F(["%","^"],!1,!1),w=function(j){return j},M=function(j,V,z){let pt;switch(V){case"v":pt="<Vertical>"+z.join("")+"</Vertical>";break;case"h":pt="<Horizontal>"+z.join("")+"</Horizontal>";break}return j.includes("%")&&(pt="<RandRot>"+pt+"</RandRot>"),j.includes("^")&&(pt="<RandPos>"+pt+"</RandPos>"),pt},R=function(j){return j.join("")},$=function(j,V){let z;return V==="c"?z="<Chart />":V==="t"?z="<Text />":V==="i"&&(z="<Image />"),j.includes("%")&&(z="<RandRot>"+z+"</RandRot>"),j.includes("^")&&(z="<RandPos>"+z+"</RandPos>"),z},E=0,P=[{line:1,column:1}],N=0,A=[],D;if("startRule"in l){if(!(l.startRule in i))throw new Error(`Can't start parsing from rule "`+l.startRule+'".');u=i[l.startRule]}function U(j,V){return{type:"literal",text:j,ignoreCase:V}}function F(j,V,z){return{type:"class",parts:j,inverted:V,ignoreCase:z}}function H(){return{type:"end"}}function J(j){var V=P[j],z;if(V)return V;for(z=j-1;!P[z];)z--;for(V=P[z],V={line:V.line,column:V.column};z<j;)o.charCodeAt(z)===10?(V.line++,V.column=1):V.column++,z++;return P[j]=V,V}function rt(j,V,z){var pt=J(j),Rt=J(V),It={source:s,start:{offset:j,line:pt.line,column:pt.column},end:{offset:V,line:Rt.line,column:Rt.column}};return It}function ft(j){E<N||(E>N&&(N=E,A=[]),A.push(j))}function ct(j,V,z){return new n(n.buildMessage(j,V),j,V,z)}function ht(){var j,V,z,pt;return j=E,o.charCodeAt(E)===36?(V=c,E++):(V=t,ft(x)),V!==t?(z=gt(),z!==t?(o.charCodeAt(E)===36?(pt=c,E++):(pt=t,ft(x)),pt!==t?j=w(z):(E=j,j=t)):(E=j,j=t)):(E=j,j=t),j}function gt(){var j,V,z,pt,Rt,It;for(j=E,V=[],z=dt();z!==t;)V.push(z),z=dt();if(z=St(),z!==t)if(o.charCodeAt(E)===123?(pt=d,E++):(pt=t,ft(y)),pt!==t){if(Rt=[],It=gt(),It!==t)for(;It!==t;)Rt.push(It),It=gt();else Rt=t;Rt!==t?(o.charCodeAt(E)===125?(It=f,E++):(It=t,ft(b)),It!==t?j=M(V,z,Rt):(E=j,j=t)):(E=j,j=t)}else E=j,j=t;else E=j,j=t;if(j===t){if(j=E,V=[],z=Ct(),z!==t)for(;z!==t;)V.push(z),z=Ct();else V=t;V!==t&&(V=R(V)),j=V}return j}function Ct(){var j,V,z;for(j=E,V=[],z=dt();z!==t;)V.push(z),z=dt();return h.test(o.charAt(E))?(z=o.charAt(E),E++):(z=t,ft(p)),z!==t?j=$(V,z):(E=j,j=t),j}function St(){var j;return v.test(o.charAt(E))?(j=o.charAt(E),E++):(j=t,ft(m)),j}function dt(){var j;return g.test(o.charAt(E))?(j=o.charAt(E),E++):(j=t,ft(S)),j}if(D=u(),D!==t&&E===o.length)return D;throw D!==t&&E<o.length&&ft(H()),ct(A,N<o.length?o.charAt(N):null,N<o.length?rt(N,N+1):rt(N,N))}return{SyntaxError:n,parse:a}}(),ql={};function _l(e,n){return Q(),tt("div",null,"Loading...")}const Yn=Bt(ql,[["render",_l]]),tu={class:"page-indicators"},eu=["onClick"],nu={key:0,class:"page"},ru={key:0,class:"layouts"},ou=["innerHTML","onClick"],au={class:"center"},iu={class:"page-indicators"},su=["onClick"],lu={key:1},uu={key:1,class:"page"},cu={key:0},du=["innerHTML"],fu={key:1},hu={key:2,class:"page"},pu={key:0},vu={class:"build-parent"},gu=["innerHTML"],mu={key:1},yu={key:3,class:"page"},bu=le({__name:"AIDialogue",props:{title:String,opened:Boolean,prompt:String},emits:["ai_slide"],setup(e,{emit:n}){const r=e,a=n,o=k(0),l=k(0),t=k(null),s=k(""),i=k(null),u=k(null),c=k([]),d=(y,b,p=null)=>{try{return y(...b)}catch{return p}},f=y=>[...Array(y).keys()],h=y=>{const b=Cr.parse;let p;try{p=b(y)}catch{return"<div class='ai-gen-invalid'></div>"}return p='<div class="ai-layout">'+p.toString().replace(/<\/\w+?>/g,"</div>").replaceAll("<Text />","<div class='ai-gen-text'><i class='fa-solid fa-align-justify'></i></div>").replaceAll("<Image />","<div class='ai-gen-image'><i class='fa-solid fa-image'></i></div>").replaceAll("<Chart />","<div class='ai-gen-chart'><i class='fa-solid fa-chart-line'></i></div>").replaceAll("<RandPos>","<div class='ai-gen-rand-pos'>").replaceAll("<RandRot>","<div class='ai-gen-rand-rot'>").replaceAll("<Vertical>","<div class='ai-flex-col'>").replaceAll("<Horizontal>","<div class='ai-flex-row'>")+"</div>",p};async function v(y,b,p){const m=[];y.replace(b,(w,...M)=>(m.push(p(w,...M)),w));const S=await Promise.all(m);return y.replace(b,()=>S.shift())}const g=async y=>{o.value++;const b=Cr.parse;let p;try{p=b(y)}catch{return"<div class='ai-gen-invalid'></div>"}return p='<div class="ai-layout-preview">'+p.toString().replace(/<\/\w+?>/g,"</div>").replaceAll("<Chart />","<div class='ai-gen-chart'></div>").replaceAll("<RandPos>","<div class='ai-gen-rand-pos'>").replaceAll("<RandRot>","<div class='ai-gen-rand-rot'>").replaceAll("<Vertical>","<div class='ai-flex-col'>").replaceAll("<Horizontal>","<div class='ai-flex-row'>")+"</div>",p=await v(p,/<Text \/>/g,async()=>`<div class='gen-text'><p>${await Ql(r.prompt??"Artificial Intelligence")}</p></div>`),p=await v(p,/<Image \/>/g,async()=>`<div class='gen-image'><img class="full-image" src="${await kl(r.prompt??"Artificial Intelligence")}" /></div>`),s.value=p,p},x=()=>{let y=[];c.value=[];const{x:b,y:p,width:m,height:S}=u.value.getBoundingClientRect(),{width:w,height:M}=document.getElementById("slide_edit_ctx").getBoundingClientRect();c.value.push({log:`[CORE] Slide dimensions are ${w}x${M}`,color:"red"}),c.value.push({log:`[CORE] Generated Slide dimensions are ${m}x${S}`,color:"red"}),[].slice.call(u.value.getElementsByTagName("p")).forEach($=>{c.value.push({log:"[NEW] Detected a new element: Paragraph.",color:"lime"});const{x:E,y:P,width:N,height:A}=$.getBoundingClientRect();c.value.push({log:`[INFO] Element Dimensions are "${N}x${A}+${E}+${P}"`,color:"cyan"});const D=Math.floor((E-b)/m*w),U=Math.floor((P-p)/S*M),F=Math.floor(N/m*w),H=Math.floor(A/S*M);c.value.push({log:`[INFO] Relative Element Dimensions are "${F}x${H}+${D}+${U}"`,color:"cyan"});const J={id:Ze(),tag:"p",content:$.innerHTML,position:{x:D,y:U,w:F,h:H,r:0}};c.value.push({log:`[BUILD] Create Element with JSON: ${JSON.stringify(J)}`,color:"yellow"}),y.push(J)}),[].slice.call(u.value.getElementsByTagName("img")).forEach($=>{c.value.push({log:"[NEW] Detected a new element: Image.",color:"lime"});const{x:E,y:P,width:N,height:A}=$.getBoundingClientRect();c.value.push({log:`[INFO] Element Dimensions are "${N}x${A}+${E}+${P}"`,color:"cyan"});const D=Math.floor((E-b)/m*w),U=Math.floor((P-p)/S*M),F=Math.floor(N/m*w),H=Math.floor(A/S*M);c.value.push({log:`[INFO] Relative Element Dimensions are "${F}x${H}+${D}+${U}"`,color:"cyan"});const J={id:Ze(),tag:"img",position:{x:D,y:U,w:F,h:H,r:0},attrs:{src:$.src}};c.value.push({log:`[BUILD] Create Element with JSON: ${JSON.stringify(J)}`,color:"yellow"}),y.push(J)});const R={id:Ze(),content:y};c.value.push({log:`[BUILD] Created Slide with JSON: ${JSON.stringify(R)}`,color:"yellow"}),a("ai_slide",R),o.value++};return Pn(async()=>{t.value=await Zl()}),(y,b)=>(Q(),wn(ji,{title:e.title,opened:e.opened},{default:Rn(()=>{var p,m;return[O("div",tu,[(Q(),tt(ie,null,Se([0,1,2,3],S=>O("div",{class:Yt(["page-indicator",o.value===S&&"active"]),onClick:w=>o.value=S},null,10,eu)),64))]),o.value===0?(Q(),tt("div",nu,[b[1]||(b[1]=O("h2",null,"1. Choose your layout",-1)),(p=t.value)!=null&&p.length?(Q(),tt("div",ru,[(Q(!0),tt(ie,null,Se(t.value.slice(l.value*4,l.value*4+4),S=>(Q(),tt("div",{innerHTML:h(S),onClick:w=>g(S),class:"layout"},null,8,ou))),256)),O("div",au,[O("div",iu,[(Q(!0),tt(ie,null,Se(d(f,[((m=t.value)==null?void 0:m.length)/4],[]),S=>(Q(),tt("div",{class:Yt(["page-indicator",l.value===S&&"active"]),onClick:w=>l.value=S},null,10,su))),256))])])])):(Q(),tt("p",lu,[bt(Yn)]))])):o.value===1?(Q(),tt("div",uu,[b[2]||(b[2]=O("h2",null,"2. Generated Content",-1)),s.value?(Q(),tt("div",cu,[O("div",{innerHTML:s.value},null,8,du),O("button",{class:"darker",onClick:b[0]||(b[0]=S=>o.value++)},"Use this Slide!")])):(Q(),tt("div",fu,[bt(Yn)]))])):o.value===2?(Q(),tt("div",hu,[b[3]||(b[3]=O("h2",null,"3. Building Slide Components",-1)),s.value?(Q(),tt("div",pu,[O("div",vu,[O("div",{ref_key:"slide",ref:u,innerHTML:s.value},null,8,gu),O("div",{class:"logs",ref_key:"logs",ref:i},[(Q(!0),tt(ie,null,Se(c.value,S=>(Q(),tt("p",{class:"log",style:en({color:S.color})},Xt(S.log),5))),256))],512)]),O("button",{class:"darker",onClick:x},"Build this Slide!")])):(Q(),tt("div",mu,[bt(Yn)]))])):o.value===3?(Q(),tt("div",yu,[...b[4]||(b[4]=[O("h2",null,"4. All Done!",-1),O("p",null,[pe("Click out or the "),O("i",{class:"fa-solid fa-circle-xmark"}),pe(" to close this dialogue.")],-1)])])):Ae("",!0)]}),_:1},8,["title","opened"]))}}),xu=Bt(bu,[["__scopeId","data-v-c0f4d032"]]),Su={class:"container"},Eu={class:"preview"},wu={class:"selection"},Tu={class:"selection"},Cu=["placeholder"],Ou=le({__name:"SlideEditor",props:{slide:Object,width:String,height:String,language:String},emits:["drag","resize","rotate","content","new_elem","delete","styles","ai_slide"],setup(e,{emit:n}){nn(y=>({v394dae91:Ft(l),v52cdac88:Ft(t)}));const r=e,a=n,o=y=>{if(!r.slide)return"cope";a("new_elem",y,r.slide.id),s.value=!1};let l=k(0),t=k(0);const s=k(!1),i=k(!1),u=k(!1),c=k("");Dn(()=>{l.value=Number((/\d+/g.exec(r.width??"1920px")??[0])[0]),t.value=Number((/\d+/g.exec(r.height??"1080px")??[0])[0])});const d=(y,b,p)=>{a("drag",y,b,p)},f=(y,b,p,m,S)=>{a("resize",y,b,p,m,S)},h=(y,b)=>{a("rotate",y,b)},v=(y,b,p)=>{a("content",y,b,p)},g=y=>{a("delete",y)},x=y=>{a("ai_slide",y)};return(y,b)=>(Q(),tt("div",Su,[O("div",Eu,[bt(Jl,{data:e.slide,width:Ft(l),height:Ft(t),class:"slide",onDrag:d,onResize:f,onRotate:h,onDelete:g,onContent:v,onStyles:b[0]||(b[0]=p=>y.$emit("styles"))},null,8,["data","width","height"])]),O("button",{class:"ai",onClick:b[1]||(b[1]=p=>i.value=!i.value)},[...b[9]||(b[9]=[O("i",{class:"fa-solid fa-wand-magic-sparkles"},null,-1)])]),O("button",{class:"new",onClick:b[2]||(b[2]=p=>s.value=!s.value)},[...b[10]||(b[10]=[O("i",{class:"fa-solid fa-add"},null,-1)])]),O("div",{class:Yt(["popup",s.value?"show":"hide"])},[O("h1",null,Xt(e.language=="en"?"Add...":"เพิ่ม..."),1),O("h2",null,Xt(e.language=="en"?"Text":"ข้อความ"),1),O("div",wu,[bt(ln,{class:"card",icon:"heading",heading:e.language=="en"?"Header":"หัวข้อ",onClick:b[3]||(b[3]=p=>o("h1"))},null,8,["heading"]),bt(ln,{class:"card",icon:"heading",heading:e.language=="en"?"Subheader":"หัวข้อย่อย",onClick:b[4]||(b[4]=p=>o("h2"))},null,8,["heading"]),bt(ln,{class:"card",icon:"paragraph",heading:e.language=="en"?"Paragraph":"ข้อความ",onClick:b[5]||(b[5]=p=>o("p"))},null,8,["heading"])]),O("h2",null,Xt(e.language=="en"?"Shapes":"รูปทรง"),1),O("div",Tu,[bt(ln,{class:"card",icon:"square",heading:e.language=="en"?"Rectangle":"สี่เหลี่ยม",onClick:b[6]||(b[6]=p=>o("div"))},null,8,["heading"])])],2),O("div",{class:Yt(["popup ai-popup",i.value?"show":"hide"])},[O("h1",null,Xt(e.language=="en"?"AI Prompt":"คุณต้องการเพิ่มอะไรหรอ?"),1),ae(O("textarea",{"onUpdate:modelValue":b[7]||(b[7]=p=>c.value=p),placeholder:e.language=="en"?"Enter your dreams....":"เขียนบอกให้ AI ทำให้เลย!"},null,8,Cu),[[fe,c.value]]),b[11]||(b[11]=O("br",null,null,-1)),O("button",{onClick:b[8]||(b[8]=p=>u.value=!u.value)},Xt(e.language=="en"?"Add":"เพิ่มเลย!"),1)],2),bt(xu,{title:"Add AI slides",opened:u.value,prompt:c.value,onAi_slide:x},null,8,["opened","prompt"])]))}}),$u=Bt(Ou,[["__scopeId","data-v-2a508202"]]),Iu=e=>e.replace(/[A-Z]+(?![a-z])|[A-Z]/g,(n,r)=>(r?"-":"")+n.toLowerCase()),Au=(e,n)=>Object.fromEntries(Object.entries(e).filter(n)),Pu=(e,n,r)=>{delete Object.assign(e,{[r]:e[n]})[n]},Du=(e,n)=>{Object.keys(e).forEach(n)},Ru=e=>{const n=new FileReader;return n.readAsDataURL(e),new Promise(r=>{n.onloadend=()=>{r(n.result)}})},Mu={class:"main"},Nu={class:"bottom"},Lu=le({__name:"Slides",props:{language:String},setup(e){const n=Rr(),r=Mr(),a=k("Loading..."),o=k("0"),l=k("0"),t=k([]),s=k({}),i=k(!1),u=k(0),c=k(0),d=k(!1);let f=k(0);Pn(async()=>{const{data:E,error:P}=await Je.from("Projects").select("*").eq("id",n.params.id);if(P&&r.push("/404"),!E)return;const N=E[0];N||r.push("/slide/404"),a.value=N.name,o.value=N.content.metadata.width,l.value=N.content.metadata.height,s.value=N.content.metadata,t.value=N.content.data,c.value=N.team_id,i.value=!0});const h=()=>{const E=Ze();t.value.push({id:E,content:[]})},v=E=>{t.value.push(E)},g=E=>{f.value=E},x=E=>{t.value=t.value.filter(P=>P.id!==E)},y=(E,P,N)=>{t.value=t.value.map(A=>({id:A.id,content:A.content.map(D=>(D.id==N&&(D.position.x=E,D.position.y=P),D))}))},b=(E,P,N,A,D)=>{t.value=t.value.map(U=>({id:U.id,content:U.content.map(F=>(F.id==D&&(F.position.x=E,F.position.y=P,F.position.w=N,F.position.h=A),F))}))},p=(E,P)=>{t.value=t.value.map(N=>({id:N.id,content:N.content.map(A=>(A.id==P&&(A.position.r=E),A))}))},m=(E,P,N)=>{t.value=t.value.map(A=>({id:A.id,content:A.content.map(D=>(D.id==N&&(D.content=E),D))}))},S=(E,P,N="Insert text here...",A)=>{t.value=t.value.map(D=>({id:D.id,content:D.id==P?[...D.content,{id:Ze(),tag:E,position:{x:69,y:420,w:420,h:69},content:qr(E)?N:"",attrs:A}]:D.content}))},w=()=>{t.value=t.value.map(E=>({id:E.id,content:E.content.map(P=>{var A;let N=((A=document.getElementById(P.id))==null?void 0:A.style)??{};return N=Au(N,([D,U])=>U!==""&&isNaN(parseInt(D))),Du(N,D=>Pu(N,D,Iu(D))),{...P,styles:N}})}))},M=E=>{t.value=t.value.map(P=>({id:P.id,content:P.content.filter(N=>N.id!==E)}))},R=async()=>{try{const P=(await navigator.clipboard.read()).at(-1),N=P.types.at(-1);console.log(N);const A=await P.getType(N);console.log(A);const D=t.value[f.value].id;switch(N){case"text/html":case"text/plain":const U=await A.text();S("h1",D,U);break;case"image/png":const F=await Ru(A);S("img",D,"",{src:F});debugger}}catch(E){console.error(E.message)}},$=E=>{if(E.key!="Control")switch(E.key){case"n":h();break;case"v":R()}};return nr(t,async()=>{if(u.value=0,!i.value)return"cope";if(d.value){d.value=!1;return}const E={name:a.value,content:{metadata:Tn(s.value),data:Tn(t.value)}};await Je.from("Projects").update({content:E.content}).eq("id",n.params.id).select(),u.value=1}),Je.channel("table_db_changes").on("postgres_changes",{event:"*",schema:"public",table:"Projects",filter:`id=eq.${n.params.id}`},E=>{d.value=!0,t.value=E.new.content.data,s.value=E.new.content.metadata}).subscribe(),(E,P)=>(Q(),tt("div",{onKeydown:ot($,["ctrl"]),tabindex:"0"},[O("div",Mu,[bt(ts,{name:a.value,width:o.value,height:l.value,language:e.language,cloud_status:u.value,team_id:c.value},null,8,["name","width","height","language","cloud_status","team_id"]),O("div",Nu,[bt(Xs,{slides:t.value,width:o.value,height:l.value,onNew_slide:h,onSelect:g,onDelete_slide:x,language:e.language},null,8,["slides","width","height","language"]),bt($u,{slide:t.value[Ft(f)],width:o.value,height:l.value,language:e.language,onDrag:y,onResize:b,onRotate:p,onContent:m,onDelete:M,onNew_elem:S,onStyles:w,onAi_slide:v},null,8,["slide","width","height","language"])])])],32))}}),Wu=Bt(Lu,[["__scopeId","data-v-22276c78"]]);export{Wu as default};
