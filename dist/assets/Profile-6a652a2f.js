import{d as I,k as b,u as C,e as E,o as r,c as n,a as e,l as a,t as S,j as w,F as P,m as F,i as N,q as L,p as O,b as R,_ as U}from"./index-eb303cf3.js";import{s as c,E as V}from"./ErrorBox-d515e99d.js";const q=o=>(O("data-v-701315f5"),o=o(),R(),o),z={class:"user"},D={class:"userblock"},M=["src"],W=q(()=>e("div",{class:"projects"},[e("h1",{class:"big"},"Projects")],-1)),$={class:"project-panel"},A={key:0,class:"blank"},G=I({__name:"Profile",props:{language:String},setup(o){let l=b({});const _=C(),d=E();let x=(async()=>{var s,u;return(u=(s=await c.auth.getUser())==null?void 0:s.data)==null?void 0:u.user})();!_.hash&&!x?d.push("/404"):(_.hash.slice(1).split("&")[0].split("=")[1],(async()=>{const{data:{user:s}}=await c.auth.getUser();l.value=s})());const B=async()=>{let{error:s}=await c.auth.signOut();return d.push("/"),s};let t=b({});return(async()=>t.value=await c.from("Projects").select("name"))(),(s,u)=>{var p,m,h,f,g,y,v,k;return r(),n(P,null,[e("div",z,[e("div",D,[e("img",{class:"profile",src:((m=(p=a(l))==null?void 0:p.user_metadata)==null?void 0:m.avatar_url)??"no",referrerpolicy:"no-referrer"},null,8,M),e("h1",null,S(((f=(h=a(l))==null?void 0:h.user_metadata)==null?void 0:f.name)??"Loading..."),1)]),e("button",{class:"sign-out",onClick:B},"Sign Out")]),W,e("div",$,[(g=a(t))!=null&&g.data?w("",!0):(r(),n("p",A,"No Projects Found... Maybe create a new one?")),(r(!0),n(P,null,F((y=a(t))==null?void 0:y.data,(i,j)=>(r(),n("div",{class:"project",style:L(`--anim-order: ${j}`)},[e("p",null,S((i==null?void 0:i.name)??"What the fuck is in ur config?"),1)],4))),256))]),(v=a(t))!=null&&v.error?(r(),N(V,{key:0,msg:(k=a(t))==null?void 0:k.error},null,8,["msg"])):w("",!0)],64)}}});const K=U(G,[["__scopeId","data-v-701315f5"]]);export{K as default};
