(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))n(r);new MutationObserver(r=>{for(const i of r)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function s(r){const i={};return r.integrity&&(i.integrity=r.integrity),r.referrerPolicy&&(i.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?i.credentials="include":r.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(r){if(r.ep)return;r.ep=!0;const i=s(r);fetch(r.href,i)}})();function Jn(t,e){const s=Object.create(null),n=t.split(",");for(let r=0;r<n.length;r++)s[n[r]]=!0;return e?r=>!!s[r.toLowerCase()]:r=>!!s[r]}const ee={},Mt=[],je=()=>{},Vo=()=>!1,Go=/^on[^a-z]/,Vs=t=>Go.test(t),Wn=t=>t.startsWith("onUpdate:"),le=Object.assign,Vn=(t,e)=>{const s=t.indexOf(e);s>-1&&t.splice(s,1)},Qo=Object.prototype.hasOwnProperty,q=(t,e)=>Qo.call(t,e),D=Array.isArray,Bt=t=>Qs(t)==="[object Map]",Ci=t=>Qs(t)==="[object Set]",M=t=>typeof t=="function",oe=t=>typeof t=="string",Gs=t=>typeof t=="symbol",se=t=>t!==null&&typeof t=="object",Ai=t=>(se(t)||M(t))&&M(t.then)&&M(t.catch),$i=Object.prototype.toString,Qs=t=>$i.call(t),Yo=t=>Qs(t).slice(8,-1),ji=t=>Qs(t)==="[object Object]",Gn=t=>oe(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,Ds=Jn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ys=t=>{const e=Object.create(null);return s=>e[s]||(e[s]=t(s))},Xo=/-(\w)/g,qt=Ys(t=>t.replace(Xo,(e,s)=>s?s.toUpperCase():"")),Zo=/\B([A-Z])/g,Xt=Ys(t=>t.replace(Zo,"-$1").toLowerCase()),Ii=Ys(t=>t.charAt(0).toUpperCase()+t.slice(1)),hn=Ys(t=>t?`on${Ii(t)}`:""),wt=(t,e)=>!Object.is(t,e),fn=(t,e)=>{for(let s=0;s<t.length;s++)t[s](e)},Bs=(t,e,s)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:s})},ea=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let Or;const kn=()=>Or||(Or=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Qn(t){if(D(t)){const e={};for(let s=0;s<t.length;s++){const n=t[s],r=oe(n)?ra(n):Qn(n);if(r)for(const i in r)e[i]=r[i]}return e}else if(oe(t)||se(t))return t}const ta=/;(?![^(]*\))/g,sa=/:([^]+)/,na=/\/\*[^]*?\*\//g;function ra(t){const e={};return t.replace(na,"").split(ta).forEach(s=>{if(s){const n=s.split(sa);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function Yn(t){let e="";if(oe(t))e=t;else if(D(t))for(let s=0;s<t.length;s++){const n=Yn(t[s]);n&&(e+=n+" ")}else if(se(t))for(const s in t)t[s]&&(e+=s+" ");return e.trim()}const ia="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",oa=Jn(ia);function Li(t){return!!t||t===""}const xt=t=>oe(t)?t:t==null?"":D(t)||se(t)&&(t.toString===$i||!M(t.toString))?JSON.stringify(t,Ui,2):String(t),Ui=(t,e)=>e&&e.__v_isRef?Ui(t,e.value):Bt(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((s,[n,r])=>(s[`${n} =>`]=r,s),{})}:Ci(e)?{[`Set(${e.size})`]:[...e.values()]}:se(e)&&!D(e)&&!ji(e)?String(e):e;let xe;class aa{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=xe,!e&&xe&&(this.index=(xe.scopes||(xe.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const s=xe;try{return xe=this,e()}finally{xe=s}}}on(){xe=this}off(){xe=this.parent}stop(e){if(this._active){let s,n;for(s=0,n=this.effects.length;s<n;s++)this.effects[s].stop();for(s=0,n=this.cleanups.length;s<n;s++)this.cleanups[s]();if(this.scopes)for(s=0,n=this.scopes.length;s<n;s++)this.scopes[s].stop(!0);if(!this.detached&&this.parent&&!e){const r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}function la(t,e=xe){e&&e.active&&e.effects.push(t)}function ca(){return xe}const Xn=t=>{const e=new Set(t);return e.w=0,e.n=0,e},Di=t=>(t.w&ut)>0,Fi=t=>(t.n&ut)>0,ua=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=ut},ha=t=>{const{deps:e}=t;if(e.length){let s=0;for(let n=0;n<e.length;n++){const r=e[n];Di(r)&&!Fi(r)?r.delete(t):e[s++]=r,r.w&=~ut,r.n&=~ut}e.length=s}},xn=new WeakMap;let ls=0,ut=1;const Pn=30;let Ce;const yt=Symbol(""),Cn=Symbol("");class Zn{constructor(e,s=null,n){this.fn=e,this.scheduler=s,this.active=!0,this.deps=[],this.parent=void 0,la(this,n)}run(){if(!this.active)return this.fn();let e=Ce,s=lt;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ce,Ce=this,lt=!0,ut=1<<++ls,ls<=Pn?ua(this):Tr(this),this.fn()}finally{ls<=Pn&&ha(this),ut=1<<--ls,Ce=this.parent,lt=s,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ce===this?this.deferStop=!0:this.active&&(Tr(this),this.onStop&&this.onStop(),this.active=!1)}}function Tr(t){const{deps:e}=t;if(e.length){for(let s=0;s<e.length;s++)e[s].delete(t);e.length=0}}let lt=!0;const Ni=[];function Zt(){Ni.push(lt),lt=!1}function es(){const t=Ni.pop();lt=t===void 0?!0:t}function ye(t,e,s){if(lt&&Ce){let n=xn.get(t);n||xn.set(t,n=new Map);let r=n.get(s);r||n.set(s,r=Xn()),Mi(r)}}function Mi(t,e){let s=!1;ls<=Pn?Fi(t)||(t.n|=ut,s=!Di(t)):s=!t.has(Ce),s&&(t.add(Ce),Ce.deps.push(t))}function Ye(t,e,s,n,r,i){const o=xn.get(t);if(!o)return;let a=[];if(e==="clear")a=[...o.values()];else if(s==="length"&&D(t)){const l=Number(n);o.forEach((c,u)=>{(u==="length"||!Gs(u)&&u>=l)&&a.push(c)})}else switch(s!==void 0&&a.push(o.get(s)),e){case"add":D(t)?Gn(s)&&a.push(o.get("length")):(a.push(o.get(yt)),Bt(t)&&a.push(o.get(Cn)));break;case"delete":D(t)||(a.push(o.get(yt)),Bt(t)&&a.push(o.get(Cn)));break;case"set":Bt(t)&&a.push(o.get(yt));break}if(a.length===1)a[0]&&An(a[0]);else{const l=[];for(const c of a)c&&l.push(...c);An(Xn(l))}}function An(t,e){const s=D(t)?t:[...t];for(const n of s)n.computed&&Rr(n);for(const n of s)n.computed||Rr(n)}function Rr(t,e){(t!==Ce||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const fa=Jn("__proto__,__v_isRef,__isVue"),Bi=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Gs)),kr=da();function da(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...s){const n=z(this);for(let i=0,o=this.length;i<o;i++)ye(n,"get",i+"");const r=n[e](...s);return r===-1||r===!1?n[e](...s.map(z)):r}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...s){Zt();const n=z(this)[e].apply(this,s);return es(),n}}),t}function pa(t){const e=z(this);return ye(e,"has",t),e.hasOwnProperty(t)}class Hi{constructor(e=!1,s=!1){this._isReadonly=e,this._shallow=s}get(e,s,n){const r=this._isReadonly,i=this._shallow;if(s==="__v_isReactive")return!r;if(s==="__v_isReadonly")return r;if(s==="__v_isShallow")return i;if(s==="__v_raw"&&n===(r?i?ka:Ji:i?zi:qi).get(e))return e;const o=D(e);if(!r){if(o&&q(kr,s))return Reflect.get(kr,s,n);if(s==="hasOwnProperty")return pa}const a=Reflect.get(e,s,n);return(Gs(s)?Bi.has(s):fa(s))||(r||ye(e,"get",s),i)?a:de(a)?o&&Gn(s)?a:a.value:se(a)?r?Vi(a):Zs(a):a}}class Ki extends Hi{constructor(e=!1){super(!1,e)}set(e,s,n,r){let i=e[s];if(zt(i)&&de(i)&&!de(n))return!1;if(!this._shallow&&(!Hs(n)&&!zt(n)&&(i=z(i),n=z(n)),!D(e)&&de(i)&&!de(n)))return i.value=n,!0;const o=D(e)&&Gn(s)?Number(s)<e.length:q(e,s),a=Reflect.set(e,s,n,r);return e===z(r)&&(o?wt(n,i)&&Ye(e,"set",s,n):Ye(e,"add",s,n)),a}deleteProperty(e,s){const n=q(e,s);e[s];const r=Reflect.deleteProperty(e,s);return r&&n&&Ye(e,"delete",s,void 0),r}has(e,s){const n=Reflect.has(e,s);return(!Gs(s)||!Bi.has(s))&&ye(e,"has",s),n}ownKeys(e){return ye(e,"iterate",D(e)?"length":yt),Reflect.ownKeys(e)}}class ga extends Hi{constructor(e=!1){super(!0,e)}set(e,s){return!0}deleteProperty(e,s){return!0}}const _a=new Ki,ma=new ga,va=new Ki(!0),er=t=>t,Xs=t=>Reflect.getPrototypeOf(t);function xs(t,e,s=!1,n=!1){t=t.__v_raw;const r=z(t),i=z(e);s||(wt(e,i)&&ye(r,"get",e),ye(r,"get",i));const{has:o}=Xs(r),a=n?er:s?nr:ys;if(o.call(r,e))return a(t.get(e));if(o.call(r,i))return a(t.get(i));t!==r&&t.get(e)}function Ps(t,e=!1){const s=this.__v_raw,n=z(s),r=z(t);return e||(wt(t,r)&&ye(n,"has",t),ye(n,"has",r)),t===r?s.has(t):s.has(t)||s.has(r)}function Cs(t,e=!1){return t=t.__v_raw,!e&&ye(z(t),"iterate",yt),Reflect.get(t,"size",t)}function xr(t){t=z(t);const e=z(this);return Xs(e).has.call(e,t)||(e.add(t),Ye(e,"add",t,t)),this}function Pr(t,e){e=z(e);const s=z(this),{has:n,get:r}=Xs(s);let i=n.call(s,t);i||(t=z(t),i=n.call(s,t));const o=r.call(s,t);return s.set(t,e),i?wt(e,o)&&Ye(s,"set",t,e):Ye(s,"add",t,e),this}function Cr(t){const e=z(this),{has:s,get:n}=Xs(e);let r=s.call(e,t);r||(t=z(t),r=s.call(e,t)),n&&n.call(e,t);const i=e.delete(t);return r&&Ye(e,"delete",t,void 0),i}function Ar(){const t=z(this),e=t.size!==0,s=t.clear();return e&&Ye(t,"clear",void 0,void 0),s}function As(t,e){return function(n,r){const i=this,o=i.__v_raw,a=z(o),l=e?er:t?nr:ys;return!t&&ye(a,"iterate",yt),o.forEach((c,u)=>n.call(r,l(c),l(u),i))}}function $s(t,e,s){return function(...n){const r=this.__v_raw,i=z(r),o=Bt(i),a=t==="entries"||t===Symbol.iterator&&o,l=t==="keys"&&o,c=r[t](...n),u=s?er:e?nr:ys;return!e&&ye(i,"iterate",l?Cn:yt),{next(){const{value:h,done:p}=c.next();return p?{value:h,done:p}:{value:a?[u(h[0]),u(h[1])]:u(h),done:p}},[Symbol.iterator](){return this}}}}function tt(t){return function(...e){return t==="delete"?!1:this}}function ya(){const t={get(i){return xs(this,i)},get size(){return Cs(this)},has:Ps,add:xr,set:Pr,delete:Cr,clear:Ar,forEach:As(!1,!1)},e={get(i){return xs(this,i,!1,!0)},get size(){return Cs(this)},has:Ps,add:xr,set:Pr,delete:Cr,clear:Ar,forEach:As(!1,!0)},s={get(i){return xs(this,i,!0)},get size(){return Cs(this,!0)},has(i){return Ps.call(this,i,!0)},add:tt("add"),set:tt("set"),delete:tt("delete"),clear:tt("clear"),forEach:As(!0,!1)},n={get(i){return xs(this,i,!0,!0)},get size(){return Cs(this,!0)},has(i){return Ps.call(this,i,!0)},add:tt("add"),set:tt("set"),delete:tt("delete"),clear:tt("clear"),forEach:As(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(i=>{t[i]=$s(i,!1,!1),s[i]=$s(i,!0,!1),e[i]=$s(i,!1,!0),n[i]=$s(i,!0,!0)}),[t,s,e,n]}const[ba,wa,Ea,Sa]=ya();function tr(t,e){const s=e?t?Sa:Ea:t?wa:ba;return(n,r,i)=>r==="__v_isReactive"?!t:r==="__v_isReadonly"?t:r==="__v_raw"?n:Reflect.get(q(s,r)&&r in n?s:n,r,i)}const Oa={get:tr(!1,!1)},Ta={get:tr(!1,!0)},Ra={get:tr(!0,!1)},qi=new WeakMap,zi=new WeakMap,Ji=new WeakMap,ka=new WeakMap;function xa(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Pa(t){return t.__v_skip||!Object.isExtensible(t)?0:xa(Yo(t))}function Zs(t){return zt(t)?t:sr(t,!1,_a,Oa,qi)}function Wi(t){return sr(t,!1,va,Ta,zi)}function Vi(t){return sr(t,!0,ma,Ra,Ji)}function sr(t,e,s,n,r){if(!se(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const i=r.get(t);if(i)return i;const o=Pa(t);if(o===0)return t;const a=new Proxy(t,o===2?n:s);return r.set(t,a),a}function Ht(t){return zt(t)?Ht(t.__v_raw):!!(t&&t.__v_isReactive)}function zt(t){return!!(t&&t.__v_isReadonly)}function Hs(t){return!!(t&&t.__v_isShallow)}function Gi(t){return Ht(t)||zt(t)}function z(t){const e=t&&t.__v_raw;return e?z(e):t}function Qi(t){return Bs(t,"__v_skip",!0),t}const ys=t=>se(t)?Zs(t):t,nr=t=>se(t)?Vi(t):t;function Yi(t){lt&&Ce&&(t=z(t),Mi(t.dep||(t.dep=Xn())))}function Xi(t,e){t=z(t);const s=t.dep;s&&An(s)}function de(t){return!!(t&&t.__v_isRef===!0)}function Ca(t){return Zi(t,!1)}function Aa(t){return Zi(t,!0)}function Zi(t,e){return de(t)?t:new $a(t,e)}class $a{constructor(e,s){this.__v_isShallow=s,this.dep=void 0,this.__v_isRef=!0,this._rawValue=s?e:z(e),this._value=s?e:ys(e)}get value(){return Yi(this),this._value}set value(e){const s=this.__v_isShallow||Hs(e)||zt(e);e=s?e:z(e),wt(e,this._rawValue)&&(this._rawValue=e,this._value=s?e:ys(e),Xi(this))}}function ae(t){return de(t)?t.value:t}const ja={get:(t,e,s)=>ae(Reflect.get(t,e,s)),set:(t,e,s,n)=>{const r=t[e];return de(r)&&!de(s)?(r.value=s,!0):Reflect.set(t,e,s,n)}};function eo(t){return Ht(t)?t:new Proxy(t,ja)}class Ia{constructor(e,s,n,r){this._setter=s,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Zn(e,()=>{this._dirty||(this._dirty=!0,Xi(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!r,this.__v_isReadonly=n}get value(){const e=z(this);return Yi(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function La(t,e,s=!1){let n,r;const i=M(t);return i?(n=t,r=je):(n=t.get,r=t.set),new Ia(n,r,i||!r,s)}function ct(t,e,s,n){let r;try{r=n?t(...n):t()}catch(i){en(i,e,s)}return r}function Ie(t,e,s,n){if(M(t)){const i=ct(t,e,s,n);return i&&Ai(i)&&i.catch(o=>{en(o,e,s)}),i}const r=[];for(let i=0;i<t.length;i++)r.push(Ie(t[i],e,s,n));return r}function en(t,e,s,n=!0){const r=e?e.vnode:null;if(e){let i=e.parent;const o=e.proxy,a=s;for(;i;){const c=i.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,a)===!1)return}i=i.parent}const l=e.appContext.config.errorHandler;if(l){ct(l,null,10,[t,o,a]);return}}Ua(t,s,r,n)}function Ua(t,e,s,n=!0){console.error(t)}let bs=!1,$n=!1;const he=[];let ze=0;const Kt=[];let Ge=null,_t=0;const to=Promise.resolve();let rr=null;function so(t){const e=rr||to;return t?e.then(this?t.bind(this):t):e}function Da(t){let e=ze+1,s=he.length;for(;e<s;){const n=e+s>>>1,r=he[n],i=ws(r);i<t||i===t&&r.pre?e=n+1:s=n}return e}function ir(t){(!he.length||!he.includes(t,bs&&t.allowRecurse?ze+1:ze))&&(t.id==null?he.push(t):he.splice(Da(t.id),0,t),no())}function no(){!bs&&!$n&&($n=!0,rr=to.then(io))}function Fa(t){const e=he.indexOf(t);e>ze&&he.splice(e,1)}function Na(t){D(t)?Kt.push(...t):(!Ge||!Ge.includes(t,t.allowRecurse?_t+1:_t))&&Kt.push(t),no()}function $r(t,e=bs?ze+1:0){for(;e<he.length;e++){const s=he[e];s&&s.pre&&(he.splice(e,1),e--,s())}}function ro(t){if(Kt.length){const e=[...new Set(Kt)];if(Kt.length=0,Ge){Ge.push(...e);return}for(Ge=e,Ge.sort((s,n)=>ws(s)-ws(n)),_t=0;_t<Ge.length;_t++)Ge[_t]();Ge=null,_t=0}}const ws=t=>t.id==null?1/0:t.id,Ma=(t,e)=>{const s=ws(t)-ws(e);if(s===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return s};function io(t){$n=!1,bs=!0,he.sort(Ma);const e=je;try{for(ze=0;ze<he.length;ze++){const s=he[ze];s&&s.active!==!1&&ct(s,null,14)}}finally{ze=0,he.length=0,ro(),bs=!1,rr=null,(he.length||Kt.length)&&io()}}function Ba(t,e,...s){if(t.isUnmounted)return;const n=t.vnode.props||ee;let r=s;const i=e.startsWith("update:"),o=i&&e.slice(7);if(o&&o in n){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:h,trim:p}=n[u]||ee;p&&(r=s.map(_=>oe(_)?_.trim():_)),h&&(r=s.map(ea))}let a,l=n[a=hn(e)]||n[a=hn(qt(e))];!l&&i&&(l=n[a=hn(Xt(e))]),l&&Ie(l,t,6,r);const c=n[a+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Ie(c,t,6,r)}}function oo(t,e,s=!1){const n=e.emitsCache,r=n.get(t);if(r!==void 0)return r;const i=t.emits;let o={},a=!1;if(!M(t)){const l=c=>{const u=oo(c,e,!0);u&&(a=!0,le(o,u))};!s&&e.mixins.length&&e.mixins.forEach(l),t.extends&&l(t.extends),t.mixins&&t.mixins.forEach(l)}return!i&&!a?(se(t)&&n.set(t,null),null):(D(i)?i.forEach(l=>o[l]=null):le(o,i),se(t)&&n.set(t,o),o)}function tn(t,e){return!t||!Vs(e)?!1:(e=e.slice(2).replace(/Once$/,""),q(t,e[0].toLowerCase()+e.slice(1))||q(t,Xt(e))||q(t,e))}let ve=null,sn=null;function Ks(t){const e=ve;return ve=t,sn=t&&t.type.__scopeId||null,e}function Ha(t){sn=t}function Ka(){sn=null}function Re(t,e=ve,s){if(!e||t._n)return t;const n=(...r)=>{n._d&&Hr(-1);const i=Ks(e);let o;try{o=t(...r)}finally{Ks(i),n._d&&Hr(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function dn(t){const{type:e,vnode:s,proxy:n,withProxy:r,props:i,propsOptions:[o],slots:a,attrs:l,emit:c,render:u,renderCache:h,data:p,setupState:_,ctx:S,inheritAttrs:E}=t;let k,P;const j=Ks(t);try{if(s.shapeFlag&4){const C=r||n;k=qe(u.call(C,C,h,i,_,p,S)),P=l}else{const C=e;k=qe(C.length>1?C(i,{attrs:l,slots:a,emit:c}):C(i,null)),P=e.props?l:qa(l)}}catch(C){ds.length=0,en(C,t,1),k=Z(Jt)}let N=k;if(P&&E!==!1){const C=Object.keys(P),{shapeFlag:ne}=N;C.length&&ne&7&&(o&&C.some(Wn)&&(P=za(P,o)),N=Wt(N,P))}return s.dirs&&(N=Wt(N),N.dirs=N.dirs?N.dirs.concat(s.dirs):s.dirs),s.transition&&(N.transition=s.transition),k=N,Ks(j),k}const qa=t=>{let e;for(const s in t)(s==="class"||s==="style"||Vs(s))&&((e||(e={}))[s]=t[s]);return e},za=(t,e)=>{const s={};for(const n in t)(!Wn(n)||!(n.slice(9)in e))&&(s[n]=t[n]);return s};function Ja(t,e,s){const{props:n,children:r,component:i}=t,{props:o,children:a,patchFlag:l}=e,c=i.emitsOptions;if(e.dirs||e.transition)return!0;if(s&&l>=0){if(l&1024)return!0;if(l&16)return n?jr(n,o,c):!!o;if(l&8){const u=e.dynamicProps;for(let h=0;h<u.length;h++){const p=u[h];if(o[p]!==n[p]&&!tn(c,p))return!0}}}else return(r||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?jr(n,o,c):!0:!!o;return!1}function jr(t,e,s){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let r=0;r<n.length;r++){const i=n[r];if(e[i]!==t[i]&&!tn(s,i))return!0}return!1}function Wa({vnode:t,parent:e},s){for(;e&&e.subTree===t;)(t=e.vnode).el=s,e=e.parent}const Va=Symbol.for("v-ndc"),Ga=t=>t.__isSuspense;function Qa(t,e){e&&e.pendingBranch?D(t)?e.effects.push(...t):e.effects.push(t):Na(t)}const js={};function Fs(t,e,s){return ao(t,e,s)}function ao(t,e,{immediate:s,deep:n,flush:r,onTrack:i,onTrigger:o}=ee){var a;const l=ca()===((a=fe)==null?void 0:a.scope)?fe:null;let c,u=!1,h=!1;if(de(t)?(c=()=>t.value,u=Hs(t)):Ht(t)?(c=()=>t,n=!0):D(t)?(h=!0,u=t.some(C=>Ht(C)||Hs(C)),c=()=>t.map(C=>{if(de(C))return C.value;if(Ht(C))return Nt(C);if(M(C))return ct(C,l,2)})):M(t)?e?c=()=>ct(t,l,2):c=()=>{if(!(l&&l.isUnmounted))return p&&p(),Ie(t,l,3,[_])}:c=je,e&&n){const C=c;c=()=>Nt(C())}let p,_=C=>{p=j.onStop=()=>{ct(C,l,4)}},S;if(Ss)if(_=je,e?s&&Ie(e,l,3,[c(),h?[]:void 0,_]):c(),r==="sync"){const C=Hl();S=C.__watcherHandles||(C.__watcherHandles=[])}else return je;let E=h?new Array(t.length).fill(js):js;const k=()=>{if(j.active)if(e){const C=j.run();(n||u||(h?C.some((ne,pe)=>wt(ne,E[pe])):wt(C,E)))&&(p&&p(),Ie(e,l,3,[C,E===js?void 0:h&&E[0]===js?[]:E,_]),E=C)}else j.run()};k.allowRecurse=!!e;let P;r==="sync"?P=k:r==="post"?P=()=>me(k,l&&l.suspense):(k.pre=!0,l&&(k.id=l.uid),P=()=>ir(k));const j=new Zn(c,P);e?s?k():E=j.run():r==="post"?me(j.run.bind(j),l&&l.suspense):j.run();const N=()=>{j.stop(),l&&l.scope&&Vn(l.scope.effects,j)};return S&&S.push(N),N}function Ya(t,e,s){const n=this.proxy,r=oe(t)?t.includes(".")?lo(n,t):()=>n[t]:t.bind(n,n);let i;M(e)?i=e:(i=e.handler,s=e);const o=fe;Vt(this);const a=ao(r,i.bind(n),s);return o?Vt(o):bt(),a}function lo(t,e){const s=e.split(".");return()=>{let n=t;for(let r=0;r<s.length&&n;r++)n=n[s[r]];return n}}function Nt(t,e){if(!se(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),de(t))Nt(t.value,e);else if(D(t))for(let s=0;s<t.length;s++)Nt(t[s],e);else if(Ci(t)||Bt(t))t.forEach(s=>{Nt(s,e)});else if(ji(t))for(const s in t)Nt(t[s],e);return t}function ft(t,e,s,n){const r=t.dirs,i=e&&e.dirs;for(let o=0;o<r.length;o++){const a=r[o];i&&(a.oldValue=i[o].value);let l=a.dir[n];l&&(Zt(),Ie(l,s,8,[t.el,a,t,e]),es())}}/*! #__NO_SIDE_EFFECTS__ */function or(t,e){return M(t)?(()=>le({name:t.name},e,{setup:t}))():t}const hs=t=>!!t.type.__asyncLoader,co=t=>t.type.__isKeepAlive;function Xa(t,e){uo(t,"a",e)}function Za(t,e){uo(t,"da",e)}function uo(t,e,s=fe){const n=t.__wdc||(t.__wdc=()=>{let r=s;for(;r;){if(r.isDeactivated)return;r=r.parent}return t()});if(nn(e,n,s),s){let r=s.parent;for(;r&&r.parent;)co(r.parent.vnode)&&el(n,e,s,r),r=r.parent}}function el(t,e,s,n){const r=nn(e,t,n,!0);ho(()=>{Vn(n[e],r)},s)}function nn(t,e,s=fe,n=!1){if(s){const r=s[t]||(s[t]=[]),i=e.__weh||(e.__weh=(...o)=>{if(s.isUnmounted)return;Zt(),Vt(s);const a=Ie(e,s,t,o);return bt(),es(),a});return n?r.unshift(i):r.push(i),i}}const Xe=t=>(e,s=fe)=>(!Ss||t==="sp")&&nn(t,(...n)=>e(...n),s),tl=Xe("bm"),sl=Xe("m"),nl=Xe("bu"),rl=Xe("u"),il=Xe("bum"),ho=Xe("um"),ol=Xe("sp"),al=Xe("rtg"),ll=Xe("rtc");function cl(t,e=fe){nn("ec",t,e)}function Pf(t,e,s={},n,r){if(ve.isCE||ve.parent&&hs(ve.parent)&&ve.parent.isCE)return e!=="default"&&(s.name=e),Z("slot",s,n&&n());let i=t[e];i&&i._c&&(i._d=!1),It();const o=i&&fo(i(s)),a=Pl(Oe,{key:s.key||o&&o.key||`_${e}`},o||(n?n():[]),o&&t._===1?64:-2);return!r&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),i&&i._c&&(i._d=!0),a}function fo(t){return t.some(e=>Js(e)?!(e.type===Jt||e.type===Oe&&!fo(e.children)):!0)?t:null}const jn=t=>t?Oo(t)?hr(t)||t.proxy:jn(t.parent):null,fs=le(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>jn(t.parent),$root:t=>jn(t.root),$emit:t=>t.emit,$options:t=>ar(t),$forceUpdate:t=>t.f||(t.f=()=>ir(t.update)),$nextTick:t=>t.n||(t.n=so.bind(t.proxy)),$watch:t=>Ya.bind(t)}),pn=(t,e)=>t!==ee&&!t.__isScriptSetup&&q(t,e),ul={get({_:t},e){const{ctx:s,setupState:n,data:r,props:i,accessCache:o,type:a,appContext:l}=t;let c;if(e[0]!=="$"){const _=o[e];if(_!==void 0)switch(_){case 1:return n[e];case 2:return r[e];case 4:return s[e];case 3:return i[e]}else{if(pn(n,e))return o[e]=1,n[e];if(r!==ee&&q(r,e))return o[e]=2,r[e];if((c=t.propsOptions[0])&&q(c,e))return o[e]=3,i[e];if(s!==ee&&q(s,e))return o[e]=4,s[e];In&&(o[e]=0)}}const u=fs[e];let h,p;if(u)return e==="$attrs"&&ye(t,"get",e),u(t);if((h=a.__cssModules)&&(h=h[e]))return h;if(s!==ee&&q(s,e))return o[e]=4,s[e];if(p=l.config.globalProperties,q(p,e))return p[e]},set({_:t},e,s){const{data:n,setupState:r,ctx:i}=t;return pn(r,e)?(r[e]=s,!0):n!==ee&&q(n,e)?(n[e]=s,!0):q(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(i[e]=s,!0)},has({_:{data:t,setupState:e,accessCache:s,ctx:n,appContext:r,propsOptions:i}},o){let a;return!!s[o]||t!==ee&&q(t,o)||pn(e,o)||(a=i[0])&&q(a,o)||q(n,o)||q(fs,o)||q(r.config.globalProperties,o)},defineProperty(t,e,s){return s.get!=null?t._.accessCache[e]=0:q(s,"value")&&this.set(t,e,s.value,null),Reflect.defineProperty(t,e,s)}};function Ir(t){return D(t)?t.reduce((e,s)=>(e[s]=null,e),{}):t}let In=!0;function hl(t){const e=ar(t),s=t.proxy,n=t.ctx;In=!1,e.beforeCreate&&Lr(e.beforeCreate,t,"bc");const{data:r,computed:i,methods:o,watch:a,provide:l,inject:c,created:u,beforeMount:h,mounted:p,beforeUpdate:_,updated:S,activated:E,deactivated:k,beforeDestroy:P,beforeUnmount:j,destroyed:N,unmounted:C,render:ne,renderTracked:pe,renderTriggered:De,errorCaptured:Je,serverPrefetch:St,expose:Fe,inheritAttrs:Ze,components:ht,directives:Ne,filters:ss}=e;if(c&&fl(c,n,null),o)for(const Q in o){const J=o[Q];M(J)&&(n[Q]=J.bind(s))}if(r){const Q=r.call(s,s);se(Q)&&(t.data=Zs(Q))}if(In=!0,i)for(const Q in i){const J=i[Q],We=M(J)?J.bind(s,s):M(J.get)?J.get.bind(s,s):je,et=!M(J)&&M(J.set)?J.set.bind(s):je,Me=Ae({get:We,set:et});Object.defineProperty(n,Q,{enumerable:!0,configurable:!0,get:()=>Me.value,set:_e=>Me.value=_e})}if(a)for(const Q in a)po(a[Q],n,s,Q);if(l){const Q=M(l)?l.call(s):l;Reflect.ownKeys(Q).forEach(J=>{Ns(J,Q[J])})}u&&Lr(u,t,"c");function ie(Q,J){D(J)?J.forEach(We=>Q(We.bind(s))):J&&Q(J.bind(s))}if(ie(tl,h),ie(sl,p),ie(nl,_),ie(rl,S),ie(Xa,E),ie(Za,k),ie(cl,Je),ie(ll,pe),ie(al,De),ie(il,j),ie(ho,C),ie(ol,St),D(Fe))if(Fe.length){const Q=t.exposed||(t.exposed={});Fe.forEach(J=>{Object.defineProperty(Q,J,{get:()=>s[J],set:We=>s[J]=We})})}else t.exposed||(t.exposed={});ne&&t.render===je&&(t.render=ne),Ze!=null&&(t.inheritAttrs=Ze),ht&&(t.components=ht),Ne&&(t.directives=Ne)}function fl(t,e,s=je){D(t)&&(t=Ln(t));for(const n in t){const r=t[n];let i;se(r)?"default"in r?i=Le(r.from||n,r.default,!0):i=Le(r.from||n):i=Le(r),de(i)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>i.value,set:o=>i.value=o}):e[n]=i}}function Lr(t,e,s){Ie(D(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,s)}function po(t,e,s,n){const r=n.includes(".")?lo(s,n):()=>s[n];if(oe(t)){const i=e[t];M(i)&&Fs(r,i)}else if(M(t))Fs(r,t.bind(s));else if(se(t))if(D(t))t.forEach(i=>po(i,e,s,n));else{const i=M(t.handler)?t.handler.bind(s):e[t.handler];M(i)&&Fs(r,i,t)}}function ar(t){const e=t.type,{mixins:s,extends:n}=e,{mixins:r,optionsCache:i,config:{optionMergeStrategies:o}}=t.appContext,a=i.get(e);let l;return a?l=a:!r.length&&!s&&!n?l=e:(l={},r.length&&r.forEach(c=>qs(l,c,o,!0)),qs(l,e,o)),se(e)&&i.set(e,l),l}function qs(t,e,s,n=!1){const{mixins:r,extends:i}=e;i&&qs(t,i,s,!0),r&&r.forEach(o=>qs(t,o,s,!0));for(const o in e)if(!(n&&o==="expose")){const a=dl[o]||s&&s[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const dl={data:Ur,props:Dr,emits:Dr,methods:cs,computed:cs,beforeCreate:ge,created:ge,beforeMount:ge,mounted:ge,beforeUpdate:ge,updated:ge,beforeDestroy:ge,beforeUnmount:ge,destroyed:ge,unmounted:ge,activated:ge,deactivated:ge,errorCaptured:ge,serverPrefetch:ge,components:cs,directives:cs,watch:gl,provide:Ur,inject:pl};function Ur(t,e){return e?t?function(){return le(M(t)?t.call(this,this):t,M(e)?e.call(this,this):e)}:e:t}function pl(t,e){return cs(Ln(t),Ln(e))}function Ln(t){if(D(t)){const e={};for(let s=0;s<t.length;s++)e[t[s]]=t[s];return e}return t}function ge(t,e){return t?[...new Set([].concat(t,e))]:e}function cs(t,e){return t?le(Object.create(null),t,e):e}function Dr(t,e){return t?D(t)&&D(e)?[...new Set([...t,...e])]:le(Object.create(null),Ir(t),Ir(e??{})):e}function gl(t,e){if(!t)return e;if(!e)return t;const s=le(Object.create(null),t);for(const n in e)s[n]=ge(t[n],e[n]);return s}function go(){return{app:null,config:{isNativeTag:Vo,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let _l=0;function ml(t,e){return function(n,r=null){M(n)||(n=le({},n)),r!=null&&!se(r)&&(r=null);const i=go(),o=new WeakSet;let a=!1;const l=i.app={_uid:_l++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:Kl,get config(){return i.config},set config(c){},use(c,...u){return o.has(c)||(c&&M(c.install)?(o.add(c),c.install(l,...u)):M(c)&&(o.add(c),c(l,...u))),l},mixin(c){return i.mixins.includes(c)||i.mixins.push(c),l},component(c,u){return u?(i.components[c]=u,l):i.components[c]},directive(c,u){return u?(i.directives[c]=u,l):i.directives[c]},mount(c,u,h){if(!a){const p=Z(n,r);return p.appContext=i,u&&e?e(p,c):t(p,c,h),a=!0,l._container=c,c.__vue_app__=l,hr(p.component)||p.component.proxy}},unmount(){a&&(t(null,l._container),delete l._container.__vue_app__)},provide(c,u){return i.provides[c]=u,l},runWithContext(c){zs=l;try{return c()}finally{zs=null}}};return l}}let zs=null;function Ns(t,e){if(fe){let s=fe.provides;const n=fe.parent&&fe.parent.provides;n===s&&(s=fe.provides=Object.create(n)),s[t]=e}}function Le(t,e,s=!1){const n=fe||ve;if(n||zs){const r=n?n.parent==null?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:zs._context.provides;if(r&&t in r)return r[t];if(arguments.length>1)return s&&M(e)?e.call(n&&n.proxy):e}}function vl(t,e,s,n=!1){const r={},i={};Bs(i,on,1),t.propsDefaults=Object.create(null),_o(t,e,r,i);for(const o in t.propsOptions[0])o in r||(r[o]=void 0);s?t.props=n?r:Wi(r):t.type.props?t.props=r:t.props=i,t.attrs=i}function yl(t,e,s,n){const{props:r,attrs:i,vnode:{patchFlag:o}}=t,a=z(r),[l]=t.propsOptions;let c=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let h=0;h<u.length;h++){let p=u[h];if(tn(t.emitsOptions,p))continue;const _=e[p];if(l)if(q(i,p))_!==i[p]&&(i[p]=_,c=!0);else{const S=qt(p);r[S]=Un(l,a,S,_,t,!1)}else _!==i[p]&&(i[p]=_,c=!0)}}}else{_o(t,e,r,i)&&(c=!0);let u;for(const h in a)(!e||!q(e,h)&&((u=Xt(h))===h||!q(e,u)))&&(l?s&&(s[h]!==void 0||s[u]!==void 0)&&(r[h]=Un(l,a,h,void 0,t,!0)):delete r[h]);if(i!==a)for(const h in i)(!e||!q(e,h))&&(delete i[h],c=!0)}c&&Ye(t,"set","$attrs")}function _o(t,e,s,n){const[r,i]=t.propsOptions;let o=!1,a;if(e)for(let l in e){if(Ds(l))continue;const c=e[l];let u;r&&q(r,u=qt(l))?!i||!i.includes(u)?s[u]=c:(a||(a={}))[u]=c:tn(t.emitsOptions,l)||(!(l in n)||c!==n[l])&&(n[l]=c,o=!0)}if(i){const l=z(s),c=a||ee;for(let u=0;u<i.length;u++){const h=i[u];s[h]=Un(r,l,h,c[h],t,!q(c,h))}}return o}function Un(t,e,s,n,r,i){const o=t[s];if(o!=null){const a=q(o,"default");if(a&&n===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&M(l)){const{propsDefaults:c}=r;s in c?n=c[s]:(Vt(r),n=c[s]=l.call(null,e),bt())}else n=l}o[0]&&(i&&!a?n=!1:o[1]&&(n===""||n===Xt(s))&&(n=!0))}return n}function mo(t,e,s=!1){const n=e.propsCache,r=n.get(t);if(r)return r;const i=t.props,o={},a=[];let l=!1;if(!M(t)){const u=h=>{l=!0;const[p,_]=mo(h,e,!0);le(o,p),_&&a.push(..._)};!s&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!i&&!l)return se(t)&&n.set(t,Mt),Mt;if(D(i))for(let u=0;u<i.length;u++){const h=qt(i[u]);Fr(h)&&(o[h]=ee)}else if(i)for(const u in i){const h=qt(u);if(Fr(h)){const p=i[u],_=o[h]=D(p)||M(p)?{type:p}:le({},p);if(_){const S=Br(Boolean,_.type),E=Br(String,_.type);_[0]=S>-1,_[1]=E<0||S<E,(S>-1||q(_,"default"))&&a.push(h)}}}const c=[o,a];return se(t)&&n.set(t,c),c}function Fr(t){return t[0]!=="$"}function Nr(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function Mr(t,e){return Nr(t)===Nr(e)}function Br(t,e){return D(e)?e.findIndex(s=>Mr(s,t)):M(e)&&Mr(e,t)?0:-1}const vo=t=>t[0]==="_"||t==="$stable",lr=t=>D(t)?t.map(qe):[qe(t)],bl=(t,e,s)=>{if(e._n)return e;const n=Re((...r)=>lr(e(...r)),s);return n._c=!1,n},yo=(t,e,s)=>{const n=t._ctx;for(const r in t){if(vo(r))continue;const i=t[r];if(M(i))e[r]=bl(r,i,n);else if(i!=null){const o=lr(i);e[r]=()=>o}}},bo=(t,e)=>{const s=lr(e);t.slots.default=()=>s},wl=(t,e)=>{if(t.vnode.shapeFlag&32){const s=e._;s?(t.slots=z(e),Bs(e,"_",s)):yo(e,t.slots={})}else t.slots={},e&&bo(t,e);Bs(t.slots,on,1)},El=(t,e,s)=>{const{vnode:n,slots:r}=t;let i=!0,o=ee;if(n.shapeFlag&32){const a=e._;a?s&&a===1?i=!1:(le(r,e),!s&&a===1&&delete r._):(i=!e.$stable,yo(e,r)),o=e}else e&&(bo(t,e),o={default:1});if(i)for(const a in r)!vo(a)&&o[a]==null&&delete r[a]};function Dn(t,e,s,n,r=!1){if(D(t)){t.forEach((p,_)=>Dn(p,e&&(D(e)?e[_]:e),s,n,r));return}if(hs(n)&&!r)return;const i=n.shapeFlag&4?hr(n.component)||n.component.proxy:n.el,o=r?null:i,{i:a,r:l}=t,c=e&&e.r,u=a.refs===ee?a.refs={}:a.refs,h=a.setupState;if(c!=null&&c!==l&&(oe(c)?(u[c]=null,q(h,c)&&(h[c]=null)):de(c)&&(c.value=null)),M(l))ct(l,a,12,[o,u]);else{const p=oe(l),_=de(l);if(p||_){const S=()=>{if(t.f){const E=p?q(h,l)?h[l]:u[l]:l.value;r?D(E)&&Vn(E,i):D(E)?E.includes(i)||E.push(i):p?(u[l]=[i],q(h,l)&&(h[l]=u[l])):(l.value=[i],t.k&&(u[t.k]=l.value))}else p?(u[l]=o,q(h,l)&&(h[l]=o)):_&&(l.value=o,t.k&&(u[t.k]=o))};o?(S.id=-1,me(S,s)):S()}}}const me=Qa;function Sl(t){return Ol(t)}function Ol(t,e){const s=kn();s.__VUE__=!0;const{insert:n,remove:r,patchProp:i,createElement:o,createText:a,createComment:l,setText:c,setElementText:u,parentNode:h,nextSibling:p,setScopeId:_=je,insertStaticContent:S}=t,E=(f,d,g,m=null,y=null,b=null,x=!1,O=null,T=!!d.dynamicChildren)=>{if(f===d)return;f&&!is(f,d)&&(m=v(f),_e(f,y,b,!0),f=null),d.patchFlag===-2&&(T=!1,d.dynamicChildren=null);const{type:w,ref:L,shapeFlag:$}=d;switch(w){case rn:k(f,d,g,m);break;case Jt:P(f,d,g,m);break;case gn:f==null&&j(d,g,m,x);break;case Oe:ht(f,d,g,m,y,b,x,O,T);break;default:$&1?ne(f,d,g,m,y,b,x,O,T):$&6?Ne(f,d,g,m,y,b,x,O,T):($&64||$&128)&&w.process(f,d,g,m,y,b,x,O,T,R)}L!=null&&y&&Dn(L,f&&f.ref,b,d||f,!d)},k=(f,d,g,m)=>{if(f==null)n(d.el=a(d.children),g,m);else{const y=d.el=f.el;d.children!==f.children&&c(y,d.children)}},P=(f,d,g,m)=>{f==null?n(d.el=l(d.children||""),g,m):d.el=f.el},j=(f,d,g,m)=>{[f.el,f.anchor]=S(f.children,d,g,m,f.el,f.anchor)},N=({el:f,anchor:d},g,m)=>{let y;for(;f&&f!==d;)y=p(f),n(f,g,m),f=y;n(d,g,m)},C=({el:f,anchor:d})=>{let g;for(;f&&f!==d;)g=p(f),r(f),f=g;r(d)},ne=(f,d,g,m,y,b,x,O,T)=>{x=x||d.type==="svg",f==null?pe(d,g,m,y,b,x,O,T):St(f,d,y,b,x,O,T)},pe=(f,d,g,m,y,b,x,O)=>{let T,w;const{type:L,props:$,shapeFlag:U,transition:F,dirs:B}=f;if(T=f.el=o(f.type,b,$&&$.is,$),U&8?u(T,f.children):U&16&&Je(f.children,T,null,m,y,b&&L!=="foreignObject",x,O),B&&ft(f,null,m,"created"),De(T,f,f.scopeId,x,m),$){for(const G in $)G!=="value"&&!Ds(G)&&i(T,G,null,$[G],b,f.children,m,y,ce);"value"in $&&i(T,"value",null,$.value),(w=$.onVnodeBeforeMount)&&He(w,m,f)}B&&ft(f,null,m,"beforeMount");const Y=Tl(y,F);Y&&F.beforeEnter(T),n(T,d,g),((w=$&&$.onVnodeMounted)||Y||B)&&me(()=>{w&&He(w,m,f),Y&&F.enter(T),B&&ft(f,null,m,"mounted")},y)},De=(f,d,g,m,y)=>{if(g&&_(f,g),m)for(let b=0;b<m.length;b++)_(f,m[b]);if(y){let b=y.subTree;if(d===b){const x=y.vnode;De(f,x,x.scopeId,x.slotScopeIds,y.parent)}}},Je=(f,d,g,m,y,b,x,O,T=0)=>{for(let w=T;w<f.length;w++){const L=f[w]=O?rt(f[w]):qe(f[w]);E(null,L,d,g,m,y,b,x,O)}},St=(f,d,g,m,y,b,x)=>{const O=d.el=f.el;let{patchFlag:T,dynamicChildren:w,dirs:L}=d;T|=f.patchFlag&16;const $=f.props||ee,U=d.props||ee;let F;g&&dt(g,!1),(F=U.onVnodeBeforeUpdate)&&He(F,g,d,f),L&&ft(d,f,g,"beforeUpdate"),g&&dt(g,!0);const B=y&&d.type!=="foreignObject";if(w?Fe(f.dynamicChildren,w,O,g,m,B,b):x||J(f,d,O,null,g,m,B,b,!1),T>0){if(T&16)Ze(O,d,$,U,g,m,y);else if(T&2&&$.class!==U.class&&i(O,"class",null,U.class,y),T&4&&i(O,"style",$.style,U.style,y),T&8){const Y=d.dynamicProps;for(let G=0;G<Y.length;G++){const re=Y[G],Te=$[re],kt=U[re];(kt!==Te||re==="value")&&i(O,re,Te,kt,y,f.children,g,m,ce)}}T&1&&f.children!==d.children&&u(O,d.children)}else!x&&w==null&&Ze(O,d,$,U,g,m,y);((F=U.onVnodeUpdated)||L)&&me(()=>{F&&He(F,g,d,f),L&&ft(d,f,g,"updated")},m)},Fe=(f,d,g,m,y,b,x)=>{for(let O=0;O<d.length;O++){const T=f[O],w=d[O],L=T.el&&(T.type===Oe||!is(T,w)||T.shapeFlag&70)?h(T.el):g;E(T,w,L,null,m,y,b,x,!0)}},Ze=(f,d,g,m,y,b,x)=>{if(g!==m){if(g!==ee)for(const O in g)!Ds(O)&&!(O in m)&&i(f,O,g[O],null,x,d.children,y,b,ce);for(const O in m){if(Ds(O))continue;const T=m[O],w=g[O];T!==w&&O!=="value"&&i(f,O,w,T,x,d.children,y,b,ce)}"value"in m&&i(f,"value",g.value,m.value)}},ht=(f,d,g,m,y,b,x,O,T)=>{const w=d.el=f?f.el:a(""),L=d.anchor=f?f.anchor:a("");let{patchFlag:$,dynamicChildren:U,slotScopeIds:F}=d;F&&(O=O?O.concat(F):F),f==null?(n(w,g,m),n(L,g,m),Je(d.children,g,L,y,b,x,O,T)):$>0&&$&64&&U&&f.dynamicChildren?(Fe(f.dynamicChildren,U,g,y,b,x,O),(d.key!=null||y&&d===y.subTree)&&wo(f,d,!0)):J(f,d,g,L,y,b,x,O,T)},Ne=(f,d,g,m,y,b,x,O,T)=>{d.slotScopeIds=O,f==null?d.shapeFlag&512?y.ctx.activate(d,g,m,x,T):ss(d,g,m,y,b,x,T):Ot(f,d,T)},ss=(f,d,g,m,y,b,x)=>{const O=f.component=Ll(f,m,y);if(co(f)&&(O.ctx.renderer=R),Ul(O),O.asyncDep){if(y&&y.registerDep(O,ie),!f.el){const T=O.subTree=Z(Jt);P(null,T,d,g)}return}ie(O,f,d,g,y,b,x)},Ot=(f,d,g)=>{const m=d.component=f.component;if(Ja(f,d,g))if(m.asyncDep&&!m.asyncResolved){Q(m,d,g);return}else m.next=d,Fa(m.update),m.update();else d.el=f.el,m.vnode=d},ie=(f,d,g,m,y,b,x)=>{const O=()=>{if(f.isMounted){let{next:L,bu:$,u:U,parent:F,vnode:B}=f,Y=L,G;dt(f,!1),L?(L.el=B.el,Q(f,L,x)):L=B,$&&fn($),(G=L.props&&L.props.onVnodeBeforeUpdate)&&He(G,F,L,B),dt(f,!0);const re=dn(f),Te=f.subTree;f.subTree=re,E(Te,re,h(Te.el),v(Te),f,y,b),L.el=re.el,Y===null&&Wa(f,re.el),U&&me(U,y),(G=L.props&&L.props.onVnodeUpdated)&&me(()=>He(G,F,L,B),y)}else{let L;const{el:$,props:U}=d,{bm:F,m:B,parent:Y}=f,G=hs(d);if(dt(f,!1),F&&fn(F),!G&&(L=U&&U.onVnodeBeforeMount)&&He(L,Y,d),dt(f,!0),$&&W){const re=()=>{f.subTree=dn(f),W($,f.subTree,f,y,null)};G?d.type.__asyncLoader().then(()=>!f.isUnmounted&&re()):re()}else{const re=f.subTree=dn(f);E(null,re,g,m,f,y,b),d.el=re.el}if(B&&me(B,y),!G&&(L=U&&U.onVnodeMounted)){const re=d;me(()=>He(L,Y,re),y)}(d.shapeFlag&256||Y&&hs(Y.vnode)&&Y.vnode.shapeFlag&256)&&f.a&&me(f.a,y),f.isMounted=!0,d=g=m=null}},T=f.effect=new Zn(O,()=>ir(w),f.scope),w=f.update=()=>T.run();w.id=f.uid,dt(f,!0),w()},Q=(f,d,g)=>{d.component=f;const m=f.vnode.props;f.vnode=d,f.next=null,yl(f,d.props,m,g),El(f,d.children,g),Zt(),$r(),es()},J=(f,d,g,m,y,b,x,O,T=!1)=>{const w=f&&f.children,L=f?f.shapeFlag:0,$=d.children,{patchFlag:U,shapeFlag:F}=d;if(U>0){if(U&128){et(w,$,g,m,y,b,x,O,T);return}else if(U&256){We(w,$,g,m,y,b,x,O,T);return}}F&8?(L&16&&ce(w,y,b),$!==w&&u(g,$)):L&16?F&16?et(w,$,g,m,y,b,x,O,T):ce(w,y,b,!0):(L&8&&u(g,""),F&16&&Je($,g,m,y,b,x,O,T))},We=(f,d,g,m,y,b,x,O,T)=>{f=f||Mt,d=d||Mt;const w=f.length,L=d.length,$=Math.min(w,L);let U;for(U=0;U<$;U++){const F=d[U]=T?rt(d[U]):qe(d[U]);E(f[U],F,g,null,y,b,x,O,T)}w>L?ce(f,y,b,!0,!1,$):Je(d,g,m,y,b,x,O,T,$)},et=(f,d,g,m,y,b,x,O,T)=>{let w=0;const L=d.length;let $=f.length-1,U=L-1;for(;w<=$&&w<=U;){const F=f[w],B=d[w]=T?rt(d[w]):qe(d[w]);if(is(F,B))E(F,B,g,null,y,b,x,O,T);else break;w++}for(;w<=$&&w<=U;){const F=f[$],B=d[U]=T?rt(d[U]):qe(d[U]);if(is(F,B))E(F,B,g,null,y,b,x,O,T);else break;$--,U--}if(w>$){if(w<=U){const F=U+1,B=F<L?d[F].el:m;for(;w<=U;)E(null,d[w]=T?rt(d[w]):qe(d[w]),g,B,y,b,x,O,T),w++}}else if(w>U)for(;w<=$;)_e(f[w],y,b,!0),w++;else{const F=w,B=w,Y=new Map;for(w=B;w<=U;w++){const we=d[w]=T?rt(d[w]):qe(d[w]);we.key!=null&&Y.set(we.key,w)}let G,re=0;const Te=U-B+1;let kt=!1,wr=0;const ns=new Array(Te);for(w=0;w<Te;w++)ns[w]=0;for(w=F;w<=$;w++){const we=f[w];if(re>=Te){_e(we,y,b,!0);continue}let Be;if(we.key!=null)Be=Y.get(we.key);else for(G=B;G<=U;G++)if(ns[G-B]===0&&is(we,d[G])){Be=G;break}Be===void 0?_e(we,y,b,!0):(ns[Be-B]=w+1,Be>=wr?wr=Be:kt=!0,E(we,d[Be],g,null,y,b,x,O,T),re++)}const Er=kt?Rl(ns):Mt;for(G=Er.length-1,w=Te-1;w>=0;w--){const we=B+w,Be=d[we],Sr=we+1<L?d[we+1].el:m;ns[w]===0?E(null,Be,g,Sr,y,b,x,O,T):kt&&(G<0||w!==Er[G]?Me(Be,g,Sr,2):G--)}}},Me=(f,d,g,m,y=null)=>{const{el:b,type:x,transition:O,children:T,shapeFlag:w}=f;if(w&6){Me(f.component.subTree,d,g,m);return}if(w&128){f.suspense.move(d,g,m);return}if(w&64){x.move(f,d,g,R);return}if(x===Oe){n(b,d,g);for(let $=0;$<T.length;$++)Me(T[$],d,g,m);n(f.anchor,d,g);return}if(x===gn){N(f,d,g);return}if(m!==2&&w&1&&O)if(m===0)O.beforeEnter(b),n(b,d,g),me(()=>O.enter(b),y);else{const{leave:$,delayLeave:U,afterLeave:F}=O,B=()=>n(b,d,g),Y=()=>{$(b,()=>{B(),F&&F()})};U?U(b,B,Y):Y()}else n(b,d,g)},_e=(f,d,g,m=!1,y=!1)=>{const{type:b,props:x,ref:O,children:T,dynamicChildren:w,shapeFlag:L,patchFlag:$,dirs:U}=f;if(O!=null&&Dn(O,null,g,f,!0),L&256){d.ctx.deactivate(f);return}const F=L&1&&U,B=!hs(f);let Y;if(B&&(Y=x&&x.onVnodeBeforeUnmount)&&He(Y,d,f),L&6)ks(f.component,g,m);else{if(L&128){f.suspense.unmount(g,m);return}F&&ft(f,null,d,"beforeUnmount"),L&64?f.type.remove(f,d,g,y,R,m):w&&(b!==Oe||$>0&&$&64)?ce(w,d,g,!1,!0):(b===Oe&&$&384||!y&&L&16)&&ce(T,d,g),m&&Tt(f)}(B&&(Y=x&&x.onVnodeUnmounted)||F)&&me(()=>{Y&&He(Y,d,f),F&&ft(f,null,d,"unmounted")},g)},Tt=f=>{const{type:d,el:g,anchor:m,transition:y}=f;if(d===Oe){Rt(g,m);return}if(d===gn){C(f);return}const b=()=>{r(g),y&&!y.persisted&&y.afterLeave&&y.afterLeave()};if(f.shapeFlag&1&&y&&!y.persisted){const{leave:x,delayLeave:O}=y,T=()=>x(g,b);O?O(f.el,b,T):T()}else b()},Rt=(f,d)=>{let g;for(;f!==d;)g=p(f),r(f),f=g;r(d)},ks=(f,d,g)=>{const{bum:m,scope:y,update:b,subTree:x,um:O}=f;m&&fn(m),y.stop(),b&&(b.active=!1,_e(x,f,d,g)),O&&me(O,d),me(()=>{f.isUnmounted=!0},d),d&&d.pendingBranch&&!d.isUnmounted&&f.asyncDep&&!f.asyncResolved&&f.suspenseId===d.pendingId&&(d.deps--,d.deps===0&&d.resolve())},ce=(f,d,g,m=!1,y=!1,b=0)=>{for(let x=b;x<f.length;x++)_e(f[x],d,g,m,y)},v=f=>f.shapeFlag&6?v(f.component.subTree):f.shapeFlag&128?f.suspense.next():p(f.anchor||f.el),A=(f,d,g)=>{f==null?d._vnode&&_e(d._vnode,null,null,!0):E(d._vnode||null,f,d,null,null,null,g),$r(),ro(),d._vnode=f},R={p:E,um:_e,m:Me,r:Tt,mt:ss,mc:Je,pc:J,pbc:Fe,n:v,o:t};let I,W;return e&&([I,W]=e(R)),{render:A,hydrate:I,createApp:ml(A,I)}}function dt({effect:t,update:e},s){t.allowRecurse=e.allowRecurse=s}function Tl(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function wo(t,e,s=!1){const n=t.children,r=e.children;if(D(n)&&D(r))for(let i=0;i<n.length;i++){const o=n[i];let a=r[i];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=r[i]=rt(r[i]),a.el=o.el),s||wo(o,a)),a.type===rn&&(a.el=o.el)}}function Rl(t){const e=t.slice(),s=[0];let n,r,i,o,a;const l=t.length;for(n=0;n<l;n++){const c=t[n];if(c!==0){if(r=s[s.length-1],t[r]<c){e[n]=r,s.push(n);continue}for(i=0,o=s.length-1;i<o;)a=i+o>>1,t[s[a]]<c?i=a+1:o=a;c<t[s[i]]&&(i>0&&(e[n]=s[i-1]),s[i]=n)}}for(i=s.length,o=s[i-1];i-- >0;)s[i]=o,o=e[o];return s}const kl=t=>t.__isTeleport,Oe=Symbol.for("v-fgt"),rn=Symbol.for("v-txt"),Jt=Symbol.for("v-cmt"),gn=Symbol.for("v-stc"),ds=[];let $e=null;function It(t=!1){ds.push($e=t?null:[])}function xl(){ds.pop(),$e=ds[ds.length-1]||null}let Es=1;function Hr(t){Es+=t}function Eo(t){return t.dynamicChildren=Es>0?$e||Mt:null,xl(),Es>0&&$e&&$e.push(t),t}function rs(t,e,s,n,r,i){return Eo(te(t,e,s,n,r,i,!0))}function Pl(t,e,s,n,r){return Eo(Z(t,e,s,n,r,!0))}function Js(t){return t?t.__v_isVNode===!0:!1}function is(t,e){return t.type===e.type&&t.key===e.key}const on="__vInternal",So=({key:t})=>t??null,Ms=({ref:t,ref_key:e,ref_for:s})=>(typeof t=="number"&&(t=""+t),t!=null?oe(t)||de(t)||M(t)?{i:ve,r:t,k:e,f:!!s}:t:null);function te(t,e=null,s=null,n=0,r=null,i=t===Oe?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&So(e),ref:e&&Ms(e),scopeId:sn,slotScopeIds:null,children:s,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:i,patchFlag:n,dynamicProps:r,dynamicChildren:null,appContext:null,ctx:ve};return a?(cr(l,s),i&128&&t.normalize(l)):s&&(l.shapeFlag|=oe(s)?8:16),Es>0&&!o&&$e&&(l.patchFlag>0||i&6)&&l.patchFlag!==32&&$e.push(l),l}const Z=Cl;function Cl(t,e=null,s=null,n=0,r=null,i=!1){if((!t||t===Va)&&(t=Jt),Js(t)){const a=Wt(t,e,!0);return s&&cr(a,s),Es>0&&!i&&$e&&(a.shapeFlag&6?$e[$e.indexOf(t)]=a:$e.push(a)),a.patchFlag|=-2,a}if(Ml(t)&&(t=t.__vccOpts),e){e=Al(e);let{class:a,style:l}=e;a&&!oe(a)&&(e.class=Yn(a)),se(l)&&(Gi(l)&&!D(l)&&(l=le({},l)),e.style=Qn(l))}const o=oe(t)?1:Ga(t)?128:kl(t)?64:se(t)?4:M(t)?2:0;return te(t,e,s,n,r,o,i,!0)}function Al(t){return t?Gi(t)||on in t?le({},t):t:null}function Wt(t,e,s=!1){const{props:n,ref:r,patchFlag:i,children:o}=t,a=e?$l(n||{},e):n;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:a,key:a&&So(a),ref:e&&e.ref?s&&r?D(r)?r.concat(Ms(e)):[r,Ms(e)]:Ms(e):r,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==Oe?i===-1?16:i|16:i,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&Wt(t.ssContent),ssFallback:t.ssFallback&&Wt(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function Lt(t=" ",e=0){return Z(rn,null,t,e)}function qe(t){return t==null||typeof t=="boolean"?Z(Jt):D(t)?Z(Oe,null,t.slice()):typeof t=="object"?rt(t):Z(rn,null,String(t))}function rt(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:Wt(t)}function cr(t,e){let s=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(D(e))s=16;else if(typeof e=="object")if(n&65){const r=e.default;r&&(r._c&&(r._d=!1),cr(t,r()),r._c&&(r._d=!0));return}else{s=32;const r=e._;!r&&!(on in e)?e._ctx=ve:r===3&&ve&&(ve.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else M(e)?(e={default:e,_ctx:ve},s=32):(e=String(e),n&64?(s=16,e=[Lt(e)]):s=8);t.children=e,t.shapeFlag|=s}function $l(...t){const e={};for(let s=0;s<t.length;s++){const n=t[s];for(const r in n)if(r==="class")e.class!==n.class&&(e.class=Yn([e.class,n.class]));else if(r==="style")e.style=Qn([e.style,n.style]);else if(Vs(r)){const i=e[r],o=n[r];o&&i!==o&&!(D(i)&&i.includes(o))&&(e[r]=i?[].concat(i,o):o)}else r!==""&&(e[r]=n[r])}return e}function He(t,e,s,n=null){Ie(t,e,7,[s,n])}const jl=go();let Il=0;function Ll(t,e,s){const n=t.type,r=(e?e.appContext:t.appContext)||jl,i={uid:Il++,vnode:t,type:n,parent:e,appContext:r,root:null,next:null,subTree:null,effect:null,update:null,scope:new aa(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(r.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:mo(n,r),emitsOptions:oo(n,r),emit:null,emitted:null,propsDefaults:ee,inheritAttrs:n.inheritAttrs,ctx:ee,data:ee,props:ee,attrs:ee,slots:ee,refs:ee,setupState:ee,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:s,suspenseId:s?s.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return i.ctx={_:i},i.root=e?e.root:i,i.emit=Ba.bind(null,i),t.ce&&t.ce(i),i}let fe=null,ur,Pt,Kr="__VUE_INSTANCE_SETTERS__";(Pt=kn()[Kr])||(Pt=kn()[Kr]=[]),Pt.push(t=>fe=t),ur=t=>{Pt.length>1?Pt.forEach(e=>e(t)):Pt[0](t)};const Vt=t=>{ur(t),t.scope.on()},bt=()=>{fe&&fe.scope.off(),ur(null)};function Oo(t){return t.vnode.shapeFlag&4}let Ss=!1;function Ul(t,e=!1){Ss=e;const{props:s,children:n}=t.vnode,r=Oo(t);vl(t,s,r,e),wl(t,n);const i=r?Dl(t,e):void 0;return Ss=!1,i}function Dl(t,e){const s=t.type;t.accessCache=Object.create(null),t.proxy=Qi(new Proxy(t.ctx,ul));const{setup:n}=s;if(n){const r=t.setupContext=n.length>1?Nl(t):null;Vt(t),Zt();const i=ct(n,t,0,[t.props,r]);if(es(),bt(),Ai(i)){if(i.then(bt,bt),e)return i.then(o=>{qr(t,o,e)}).catch(o=>{en(o,t,0)});t.asyncDep=i}else qr(t,i,e)}else To(t,e)}function qr(t,e,s){M(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:se(e)&&(t.setupState=eo(e)),To(t,s)}let zr;function To(t,e,s){const n=t.type;if(!t.render){if(!e&&zr&&!n.render){const r=n.template||ar(t).template;if(r){const{isCustomElement:i,compilerOptions:o}=t.appContext.config,{delimiters:a,compilerOptions:l}=n,c=le(le({isCustomElement:i,delimiters:a},o),l);n.render=zr(r,c)}}t.render=n.render||je}{Vt(t),Zt();try{hl(t)}finally{es(),bt()}}}function Fl(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,s){return ye(t,"get","$attrs"),e[s]}}))}function Nl(t){const e=s=>{t.exposed=s||{}};return{get attrs(){return Fl(t)},slots:t.slots,emit:t.emit,expose:e}}function hr(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(eo(Qi(t.exposed)),{get(e,s){if(s in e)return e[s];if(s in fs)return fs[s](t)},has(e,s){return s in e||s in fs}}))}function Ml(t){return M(t)&&"__vccOpts"in t}const Ae=(t,e)=>La(t,e,Ss);function Ro(t,e,s){const n=arguments.length;return n===2?se(e)&&!D(e)?Js(e)?Z(t,null,[e]):Z(t,e):Z(t,null,e):(n>3?s=Array.prototype.slice.call(arguments,2):n===3&&Js(s)&&(s=[s]),Z(t,e,s))}const Bl=Symbol.for("v-scx"),Hl=()=>Le(Bl),Kl="3.3.8",ql="http://www.w3.org/2000/svg",mt=typeof document<"u"?document:null,Jr=mt&&mt.createElement("template"),zl={insert:(t,e,s)=>{e.insertBefore(t,s||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,s,n)=>{const r=e?mt.createElementNS(ql,t):mt.createElement(t,s?{is:s}:void 0);return t==="select"&&n&&n.multiple!=null&&r.setAttribute("multiple",n.multiple),r},createText:t=>mt.createTextNode(t),createComment:t=>mt.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>mt.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,s,n,r,i){const o=s?s.previousSibling:e.lastChild;if(r&&(r===i||r.nextSibling))for(;e.insertBefore(r.cloneNode(!0),s),!(r===i||!(r=r.nextSibling)););else{Jr.innerHTML=n?`<svg>${t}</svg>`:t;const a=Jr.content;if(n){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}e.insertBefore(a,s)}return[o?o.nextSibling:e.firstChild,s?s.previousSibling:e.lastChild]}},Jl=Symbol("_vtc");function Wl(t,e,s){const n=t[Jl];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):s?t.setAttribute("class",e):t.className=e}const Vl=Symbol("_vod");function Gl(t,e,s){const n=t.style,r=oe(s);if(s&&!r){if(e&&!oe(e))for(const i in e)s[i]==null&&Fn(n,i,"");for(const i in s)Fn(n,i,s[i])}else{const i=n.display;r?e!==s&&(n.cssText=s):e&&t.removeAttribute("style"),Vl in t&&(n.display=i)}}const Wr=/\s*!important$/;function Fn(t,e,s){if(D(s))s.forEach(n=>Fn(t,e,n));else if(s==null&&(s=""),e.startsWith("--"))t.setProperty(e,s);else{const n=Ql(t,e);Wr.test(s)?t.setProperty(Xt(n),s.replace(Wr,""),"important"):t[n]=s}}const Vr=["Webkit","Moz","ms"],_n={};function Ql(t,e){const s=_n[e];if(s)return s;let n=qt(e);if(n!=="filter"&&n in t)return _n[e]=n;n=Ii(n);for(let r=0;r<Vr.length;r++){const i=Vr[r]+n;if(i in t)return _n[e]=i}return e}const Gr="http://www.w3.org/1999/xlink";function Yl(t,e,s,n,r){if(n&&e.startsWith("xlink:"))s==null?t.removeAttributeNS(Gr,e.slice(6,e.length)):t.setAttributeNS(Gr,e,s);else{const i=oa(e);s==null||i&&!Li(s)?t.removeAttribute(e):t.setAttribute(e,i?"":s)}}function Xl(t,e,s,n,r,i,o){if(e==="innerHTML"||e==="textContent"){n&&o(n,r,i),t[e]=s??"";return}const a=t.tagName;if(e==="value"&&a!=="PROGRESS"&&!a.includes("-")){t._value=s;const c=a==="OPTION"?t.getAttribute("value"):t.value,u=s??"";c!==u&&(t.value=u),s==null&&t.removeAttribute(e);return}let l=!1;if(s===""||s==null){const c=typeof t[e];c==="boolean"?s=Li(s):s==null&&c==="string"?(s="",l=!0):c==="number"&&(s=0,l=!0)}try{t[e]=s}catch{}l&&t.removeAttribute(e)}function Zl(t,e,s,n){t.addEventListener(e,s,n)}function ec(t,e,s,n){t.removeEventListener(e,s,n)}const Qr=Symbol("_vei");function tc(t,e,s,n,r=null){const i=t[Qr]||(t[Qr]={}),o=i[e];if(n&&o)o.value=n;else{const[a,l]=sc(e);if(n){const c=i[e]=ic(n,r);Zl(t,a,c,l)}else o&&(ec(t,a,o,l),i[e]=void 0)}}const Yr=/(?:Once|Passive|Capture)$/;function sc(t){let e;if(Yr.test(t)){e={};let n;for(;n=t.match(Yr);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):Xt(t.slice(2)),e]}let mn=0;const nc=Promise.resolve(),rc=()=>mn||(nc.then(()=>mn=0),mn=Date.now());function ic(t,e){const s=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=s.attached)return;Ie(oc(n,s.value),e,5,[n])};return s.value=t,s.attached=rc(),s}function oc(t,e){if(D(e)){const s=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{s.call(t),t._stopped=!0},e.map(n=>r=>!r._stopped&&n&&n(r))}else return e}const Xr=/^on[a-z]/,ac=(t,e,s,n,r=!1,i,o,a,l)=>{e==="class"?Wl(t,n,r):e==="style"?Gl(t,s,n):Vs(e)?Wn(e)||tc(t,e,s,n,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):lc(t,e,n,r))?Xl(t,e,n,i,o,a,l):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),Yl(t,e,n,r))};function lc(t,e,s,n){return n?!!(e==="innerHTML"||e==="textContent"||e in t&&Xr.test(e)&&M(s)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||Xr.test(e)&&oe(s)?!1:e in t}const cc=["ctrl","shift","alt","meta"],uc={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>cc.some(s=>t[`${s}Key`]&&!e.includes(s))},Cf=(t,e)=>(s,...n)=>{for(let r=0;r<e.length;r++){const i=uc[e[r]];if(i&&i(s,e))return}return t(s,...n)},hc=le({patchProp:ac},zl);let Zr;function fc(){return Zr||(Zr=Sl(hc))}const dc=(...t)=>{const e=fc().createApp(...t),{mount:s}=e;return e.mount=n=>{const r=pc(n);if(!r)return;const i=e._component;!M(i)&&!i.render&&!i.template&&(i.template=r.innerHTML),r.innerHTML="";const o=s(r,!1,r instanceof SVGElement);return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),o},e};function pc(t){return oe(t)?document.querySelector(t):t}const gc="/assets/icon-a6e6fcc9.png";/*!
  * vue-router v4.2.5
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ut=typeof window<"u";function _c(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const V=Object.assign;function vn(t,e){const s={};for(const n in e){const r=e[n];s[n]=Ue(r)?r.map(t):t(r)}return s}const ps=()=>{},Ue=Array.isArray,mc=/\/$/,vc=t=>t.replace(mc,"");function yn(t,e,s="/"){let n,r={},i="",o="";const a=e.indexOf("#");let l=e.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(n=e.slice(0,l),i=e.slice(l+1,a>-1?a:e.length),r=t(i)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=Ec(n??e,s),{fullPath:n+(i&&"?")+i+o,path:n,query:r,hash:o}}function yc(t,e){const s=e.query?t(e.query):"";return e.path+(s&&"?")+s+(e.hash||"")}function ei(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function bc(t,e,s){const n=e.matched.length-1,r=s.matched.length-1;return n>-1&&n===r&&Gt(e.matched[n],s.matched[r])&&ko(e.params,s.params)&&t(e.query)===t(s.query)&&e.hash===s.hash}function Gt(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function ko(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const s in t)if(!wc(t[s],e[s]))return!1;return!0}function wc(t,e){return Ue(t)?ti(t,e):Ue(e)?ti(e,t):t===e}function ti(t,e){return Ue(e)?t.length===e.length&&t.every((s,n)=>s===e[n]):t.length===1&&t[0]===e}function Ec(t,e){if(t.startsWith("/"))return t;if(!t)return e;const s=e.split("/"),n=t.split("/"),r=n[n.length-1];(r===".."||r===".")&&n.push("");let i=s.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")i>1&&i--;else break;return s.slice(0,i).join("/")+"/"+n.slice(o-(o===n.length?1:0)).join("/")}var Os;(function(t){t.pop="pop",t.push="push"})(Os||(Os={}));var gs;(function(t){t.back="back",t.forward="forward",t.unknown=""})(gs||(gs={}));function Sc(t){if(!t)if(Ut){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),vc(t)}const Oc=/^[^#]+#/;function Tc(t,e){return t.replace(Oc,"#")+e}function Rc(t,e){const s=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-s.left-(e.left||0),top:n.top-s.top-(e.top||0)}}const an=()=>({left:window.pageXOffset,top:window.pageYOffset});function kc(t){let e;if("el"in t){const s=t.el,n=typeof s=="string"&&s.startsWith("#"),r=typeof s=="string"?n?document.getElementById(s.slice(1)):document.querySelector(s):s;if(!r)return;e=Rc(r,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function si(t,e){return(history.state?history.state.position-e:-1)+t}const Nn=new Map;function xc(t,e){Nn.set(t,e)}function Pc(t){const e=Nn.get(t);return Nn.delete(t),e}let Cc=()=>location.protocol+"//"+location.host;function xo(t,e){const{pathname:s,search:n,hash:r}=e,i=t.indexOf("#");if(i>-1){let a=r.includes(t.slice(i))?t.slice(i).length:1,l=r.slice(a);return l[0]!=="/"&&(l="/"+l),ei(l,"")}return ei(s,t)+n+r}function Ac(t,e,s,n){let r=[],i=[],o=null;const a=({state:p})=>{const _=xo(t,location),S=s.value,E=e.value;let k=0;if(p){if(s.value=_,e.value=p,o&&o===S){o=null;return}k=E?p.position-E.position:0}else n(_);r.forEach(P=>{P(s.value,S,{delta:k,type:Os.pop,direction:k?k>0?gs.forward:gs.back:gs.unknown})})};function l(){o=s.value}function c(p){r.push(p);const _=()=>{const S=r.indexOf(p);S>-1&&r.splice(S,1)};return i.push(_),_}function u(){const{history:p}=window;p.state&&p.replaceState(V({},p.state,{scroll:an()}),"")}function h(){for(const p of i)p();i=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:l,listen:c,destroy:h}}function ni(t,e,s,n=!1,r=!1){return{back:t,current:e,forward:s,replaced:n,position:window.history.length,scroll:r?an():null}}function $c(t){const{history:e,location:s}=window,n={value:xo(t,s)},r={value:e.state};r.value||i(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function i(l,c,u){const h=t.indexOf("#"),p=h>-1?(s.host&&document.querySelector("base")?t:t.slice(h))+l:Cc()+t+l;try{e[u?"replaceState":"pushState"](c,"",p),r.value=c}catch(_){console.error(_),s[u?"replace":"assign"](p)}}function o(l,c){const u=V({},e.state,ni(r.value.back,l,r.value.forward,!0),c,{position:r.value.position});i(l,u,!0),n.value=l}function a(l,c){const u=V({},r.value,e.state,{forward:l,scroll:an()});i(u.current,u,!0);const h=V({},ni(n.value,l,null),{position:u.position+1},c);i(l,h,!1),n.value=l}return{location:n,state:r,push:a,replace:o}}function jc(t){t=Sc(t);const e=$c(t),s=Ac(t,e.state,e.location,e.replace);function n(i,o=!0){o||s.pauseListeners(),history.go(i)}const r=V({location:"",base:t,go:n,createHref:Tc.bind(null,t)},e,s);return Object.defineProperty(r,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(r,"state",{enumerable:!0,get:()=>e.state.value}),r}function Ic(t){return typeof t=="string"||t&&typeof t=="object"}function Po(t){return typeof t=="string"||typeof t=="symbol"}const st={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Co=Symbol("");var ri;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(ri||(ri={}));function Qt(t,e){return V(new Error,{type:t,[Co]:!0},e)}function Ve(t,e){return t instanceof Error&&Co in t&&(e==null||!!(t.type&e))}const ii="[^/]+?",Lc={sensitive:!1,strict:!1,start:!0,end:!0},Uc=/[.+*?^${}()[\]/\\]/g;function Dc(t,e){const s=V({},Lc,e),n=[];let r=s.start?"^":"";const i=[];for(const c of t){const u=c.length?[]:[90];s.strict&&!c.length&&(r+="/");for(let h=0;h<c.length;h++){const p=c[h];let _=40+(s.sensitive?.25:0);if(p.type===0)h||(r+="/"),r+=p.value.replace(Uc,"\\$&"),_+=40;else if(p.type===1){const{value:S,repeatable:E,optional:k,regexp:P}=p;i.push({name:S,repeatable:E,optional:k});const j=P||ii;if(j!==ii){_+=10;try{new RegExp(`(${j})`)}catch(C){throw new Error(`Invalid custom RegExp for param "${S}" (${j}): `+C.message)}}let N=E?`((?:${j})(?:/(?:${j}))*)`:`(${j})`;h||(N=k&&c.length<2?`(?:/${N})`:"/"+N),k&&(N+="?"),r+=N,_+=20,k&&(_+=-8),E&&(_+=-20),j===".*"&&(_+=-50)}u.push(_)}n.push(u)}if(s.strict&&s.end){const c=n.length-1;n[c][n[c].length-1]+=.7000000000000001}s.strict||(r+="/?"),s.end?r+="$":s.strict&&(r+="(?:/|$)");const o=new RegExp(r,s.sensitive?"":"i");function a(c){const u=c.match(o),h={};if(!u)return null;for(let p=1;p<u.length;p++){const _=u[p]||"",S=i[p-1];h[S.name]=_&&S.repeatable?_.split("/"):_}return h}function l(c){let u="",h=!1;for(const p of t){(!h||!u.endsWith("/"))&&(u+="/"),h=!1;for(const _ of p)if(_.type===0)u+=_.value;else if(_.type===1){const{value:S,repeatable:E,optional:k}=_,P=S in c?c[S]:"";if(Ue(P)&&!E)throw new Error(`Provided param "${S}" is an array but it is not repeatable (* or + modifiers)`);const j=Ue(P)?P.join("/"):P;if(!j)if(k)p.length<2&&(u.endsWith("/")?u=u.slice(0,-1):h=!0);else throw new Error(`Missing required param "${S}"`);u+=j}}return u||"/"}return{re:o,score:n,keys:i,parse:a,stringify:l}}function Fc(t,e){let s=0;for(;s<t.length&&s<e.length;){const n=e[s]-t[s];if(n)return n;s++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function Nc(t,e){let s=0;const n=t.score,r=e.score;for(;s<n.length&&s<r.length;){const i=Fc(n[s],r[s]);if(i)return i;s++}if(Math.abs(r.length-n.length)===1){if(oi(n))return 1;if(oi(r))return-1}return r.length-n.length}function oi(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const Mc={type:0,value:""},Bc=/[a-zA-Z0-9_]/;function Hc(t){if(!t)return[[]];if(t==="/")return[[Mc]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(_){throw new Error(`ERR (${s})/"${c}": ${_}`)}let s=0,n=s;const r=[];let i;function o(){i&&r.push(i),i=[]}let a=0,l,c="",u="";function h(){c&&(s===0?i.push({type:0,value:c}):s===1||s===2||s===3?(i.length>1&&(l==="*"||l==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),i.push({type:1,value:c,regexp:u,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):e("Invalid state to consume buffer"),c="")}function p(){c+=l}for(;a<t.length;){if(l=t[a++],l==="\\"&&s!==2){n=s,s=4;continue}switch(s){case 0:l==="/"?(c&&h(),o()):l===":"?(h(),s=1):p();break;case 4:p(),s=n;break;case 1:l==="("?s=2:Bc.test(l)?p():(h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+l:s=3:u+=l;break;case 3:h(),s=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,u="";break;default:e("Unknown state");break}}return s===2&&e(`Unfinished custom RegExp for param "${c}"`),h(),o(),r}function Kc(t,e,s){const n=Dc(Hc(t.path),s),r=V(n,{record:t,parent:e,children:[],alias:[]});return e&&!r.record.aliasOf==!e.record.aliasOf&&e.children.push(r),r}function qc(t,e){const s=[],n=new Map;e=ci({strict:!1,end:!0,sensitive:!1},e);function r(u){return n.get(u)}function i(u,h,p){const _=!p,S=zc(u);S.aliasOf=p&&p.record;const E=ci(e,u),k=[S];if("alias"in u){const N=typeof u.alias=="string"?[u.alias]:u.alias;for(const C of N)k.push(V({},S,{components:p?p.record.components:S.components,path:C,aliasOf:p?p.record:S}))}let P,j;for(const N of k){const{path:C}=N;if(h&&C[0]!=="/"){const ne=h.record.path,pe=ne[ne.length-1]==="/"?"":"/";N.path=h.record.path+(C&&pe+C)}if(P=Kc(N,h,E),p?p.alias.push(P):(j=j||P,j!==P&&j.alias.push(P),_&&u.name&&!li(P)&&o(u.name)),S.children){const ne=S.children;for(let pe=0;pe<ne.length;pe++)i(ne[pe],P,p&&p.children[pe])}p=p||P,(P.record.components&&Object.keys(P.record.components).length||P.record.name||P.record.redirect)&&l(P)}return j?()=>{o(j)}:ps}function o(u){if(Po(u)){const h=n.get(u);h&&(n.delete(u),s.splice(s.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=s.indexOf(u);h>-1&&(s.splice(h,1),u.record.name&&n.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function a(){return s}function l(u){let h=0;for(;h<s.length&&Nc(u,s[h])>=0&&(u.record.path!==s[h].record.path||!Ao(u,s[h]));)h++;s.splice(h,0,u),u.record.name&&!li(u)&&n.set(u.record.name,u)}function c(u,h){let p,_={},S,E;if("name"in u&&u.name){if(p=n.get(u.name),!p)throw Qt(1,{location:u});E=p.record.name,_=V(ai(h.params,p.keys.filter(j=>!j.optional).map(j=>j.name)),u.params&&ai(u.params,p.keys.map(j=>j.name))),S=p.stringify(_)}else if("path"in u)S=u.path,p=s.find(j=>j.re.test(S)),p&&(_=p.parse(S),E=p.record.name);else{if(p=h.name?n.get(h.name):s.find(j=>j.re.test(h.path)),!p)throw Qt(1,{location:u,currentLocation:h});E=p.record.name,_=V({},h.params,u.params),S=p.stringify(_)}const k=[];let P=p;for(;P;)k.unshift(P.record),P=P.parent;return{name:E,path:S,params:_,matched:k,meta:Wc(k)}}return t.forEach(u=>i(u)),{addRoute:i,resolve:c,removeRoute:o,getRoutes:a,getRecordMatcher:r}}function ai(t,e){const s={};for(const n of e)n in t&&(s[n]=t[n]);return s}function zc(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Jc(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Jc(t){const e={},s=t.props||!1;if("component"in t)e.default=s;else for(const n in t.components)e[n]=typeof s=="object"?s[n]:s;return e}function li(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function Wc(t){return t.reduce((e,s)=>V(e,s.meta),{})}function ci(t,e){const s={};for(const n in t)s[n]=n in e?e[n]:t[n];return s}function Ao(t,e){return e.children.some(s=>s===t||Ao(t,s))}const $o=/#/g,Vc=/&/g,Gc=/\//g,Qc=/=/g,Yc=/\?/g,jo=/\+/g,Xc=/%5B/g,Zc=/%5D/g,Io=/%5E/g,eu=/%60/g,Lo=/%7B/g,tu=/%7C/g,Uo=/%7D/g,su=/%20/g;function fr(t){return encodeURI(""+t).replace(tu,"|").replace(Xc,"[").replace(Zc,"]")}function nu(t){return fr(t).replace(Lo,"{").replace(Uo,"}").replace(Io,"^")}function Mn(t){return fr(t).replace(jo,"%2B").replace(su,"+").replace($o,"%23").replace(Vc,"%26").replace(eu,"`").replace(Lo,"{").replace(Uo,"}").replace(Io,"^")}function ru(t){return Mn(t).replace(Qc,"%3D")}function iu(t){return fr(t).replace($o,"%23").replace(Yc,"%3F")}function ou(t){return t==null?"":iu(t).replace(Gc,"%2F")}function Ws(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function au(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let r=0;r<n.length;++r){const i=n[r].replace(jo," "),o=i.indexOf("="),a=Ws(o<0?i:i.slice(0,o)),l=o<0?null:Ws(i.slice(o+1));if(a in e){let c=e[a];Ue(c)||(c=e[a]=[c]),c.push(l)}else e[a]=l}return e}function ui(t){let e="";for(let s in t){const n=t[s];if(s=ru(s),n==null){n!==void 0&&(e+=(e.length?"&":"")+s);continue}(Ue(n)?n.map(i=>i&&Mn(i)):[n&&Mn(n)]).forEach(i=>{i!==void 0&&(e+=(e.length?"&":"")+s,i!=null&&(e+="="+i))})}return e}function lu(t){const e={};for(const s in t){const n=t[s];n!==void 0&&(e[s]=Ue(n)?n.map(r=>r==null?null:""+r):n==null?n:""+n)}return e}const cu=Symbol(""),hi=Symbol(""),ln=Symbol(""),dr=Symbol(""),Bn=Symbol("");function os(){let t=[];function e(n){return t.push(n),()=>{const r=t.indexOf(n);r>-1&&t.splice(r,1)}}function s(){t=[]}return{add:e,list:()=>t.slice(),reset:s}}function it(t,e,s,n,r){const i=n&&(n.enterCallbacks[r]=n.enterCallbacks[r]||[]);return()=>new Promise((o,a)=>{const l=h=>{h===!1?a(Qt(4,{from:s,to:e})):h instanceof Error?a(h):Ic(h)?a(Qt(2,{from:e,to:h})):(i&&n.enterCallbacks[r]===i&&typeof h=="function"&&i.push(h),o())},c=t.call(n&&n.instances[r],e,s,l);let u=Promise.resolve(c);t.length<3&&(u=u.then(l)),u.catch(h=>a(h))})}function bn(t,e,s,n){const r=[];for(const i of t)for(const o in i.components){let a=i.components[o];if(!(e!=="beforeRouteEnter"&&!i.instances[o]))if(uu(a)){const c=(a.__vccOpts||a)[e];c&&r.push(it(c,s,n,i,o))}else{let l=a();r.push(()=>l.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${i.path}"`));const u=_c(c)?c.default:c;i.components[o]=u;const p=(u.__vccOpts||u)[e];return p&&it(p,s,n,i,o)()}))}}return r}function uu(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function fi(t){const e=Le(ln),s=Le(dr),n=Ae(()=>e.resolve(ae(t.to))),r=Ae(()=>{const{matched:l}=n.value,{length:c}=l,u=l[c-1],h=s.matched;if(!u||!h.length)return-1;const p=h.findIndex(Gt.bind(null,u));if(p>-1)return p;const _=di(l[c-2]);return c>1&&di(u)===_&&h[h.length-1].path!==_?h.findIndex(Gt.bind(null,l[c-2])):p}),i=Ae(()=>r.value>-1&&du(s.params,n.value.params)),o=Ae(()=>r.value>-1&&r.value===s.matched.length-1&&ko(s.params,n.value.params));function a(l={}){return fu(l)?e[ae(t.replace)?"replace":"push"](ae(t.to)).catch(ps):Promise.resolve()}return{route:n,href:Ae(()=>n.value.href),isActive:i,isExactActive:o,navigate:a}}const hu=or({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:fi,setup(t,{slots:e}){const s=Zs(fi(t)),{options:n}=Le(ln),r=Ae(()=>({[pi(t.activeClass,n.linkActiveClass,"router-link-active")]:s.isActive,[pi(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:s.isExactActive}));return()=>{const i=e.default&&e.default(s);return t.custom?i:Ro("a",{"aria-current":s.isExactActive?t.ariaCurrentValue:null,href:s.href,onClick:s.navigate,class:r.value},i)}}}),ke=hu;function fu(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function du(t,e){for(const s in e){const n=e[s],r=t[s];if(typeof n=="string"){if(n!==r)return!1}else if(!Ue(r)||r.length!==n.length||n.some((i,o)=>i!==r[o]))return!1}return!0}function di(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const pi=(t,e,s)=>t??e??s,pu=or({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:s}){const n=Le(Bn),r=Ae(()=>t.route||n.value),i=Le(hi,0),o=Ae(()=>{let c=ae(i);const{matched:u}=r.value;let h;for(;(h=u[c])&&!h.components;)c++;return c}),a=Ae(()=>r.value.matched[o.value]);Ns(hi,Ae(()=>o.value+1)),Ns(cu,a),Ns(Bn,r);const l=Ca();return Fs(()=>[l.value,a.value,t.name],([c,u,h],[p,_,S])=>{u&&(u.instances[h]=c,_&&_!==u&&c&&c===p&&(u.leaveGuards.size||(u.leaveGuards=_.leaveGuards),u.updateGuards.size||(u.updateGuards=_.updateGuards))),c&&u&&(!_||!Gt(u,_)||!p)&&(u.enterCallbacks[h]||[]).forEach(E=>E(c))},{flush:"post"}),()=>{const c=r.value,u=t.name,h=a.value,p=h&&h.components[u];if(!p)return gi(s.default,{Component:p,route:c});const _=h.props[u],S=_?_===!0?c.params:typeof _=="function"?_(c):_:null,k=Ro(p,V({},S,e,{onVnodeUnmounted:P=>{P.component.isUnmounted&&(h.instances[u]=null)},ref:l}));return gi(s.default,{Component:k,route:c})||k}}});function gi(t,e){if(!t)return null;const s=t(e);return s.length===1?s[0]:s}const Do=pu;function gu(t){const e=qc(t.routes,t),s=t.parseQuery||au,n=t.stringifyQuery||ui,r=t.history,i=os(),o=os(),a=os(),l=Aa(st);let c=st;Ut&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=vn.bind(null,v=>""+v),h=vn.bind(null,ou),p=vn.bind(null,Ws);function _(v,A){let R,I;return Po(v)?(R=e.getRecordMatcher(v),I=A):I=v,e.addRoute(I,R)}function S(v){const A=e.getRecordMatcher(v);A&&e.removeRoute(A)}function E(){return e.getRoutes().map(v=>v.record)}function k(v){return!!e.getRecordMatcher(v)}function P(v,A){if(A=V({},A||l.value),typeof v=="string"){const g=yn(s,v,A.path),m=e.resolve({path:g.path},A),y=r.createHref(g.fullPath);return V(g,m,{params:p(m.params),hash:Ws(g.hash),redirectedFrom:void 0,href:y})}let R;if("path"in v)R=V({},v,{path:yn(s,v.path,A.path).path});else{const g=V({},v.params);for(const m in g)g[m]==null&&delete g[m];R=V({},v,{params:h(g)}),A.params=h(A.params)}const I=e.resolve(R,A),W=v.hash||"";I.params=u(p(I.params));const f=yc(n,V({},v,{hash:nu(W),path:I.path})),d=r.createHref(f);return V({fullPath:f,hash:W,query:n===ui?lu(v.query):v.query||{}},I,{redirectedFrom:void 0,href:d})}function j(v){return typeof v=="string"?yn(s,v,l.value.path):V({},v)}function N(v,A){if(c!==v)return Qt(8,{from:A,to:v})}function C(v){return De(v)}function ne(v){return C(V(j(v),{replace:!0}))}function pe(v){const A=v.matched[v.matched.length-1];if(A&&A.redirect){const{redirect:R}=A;let I=typeof R=="function"?R(v):R;return typeof I=="string"&&(I=I.includes("?")||I.includes("#")?I=j(I):{path:I},I.params={}),V({query:v.query,hash:v.hash,params:"path"in I?{}:v.params},I)}}function De(v,A){const R=c=P(v),I=l.value,W=v.state,f=v.force,d=v.replace===!0,g=pe(R);if(g)return De(V(j(g),{state:typeof g=="object"?V({},W,g.state):W,force:f,replace:d}),A||R);const m=R;m.redirectedFrom=A;let y;return!f&&bc(n,I,R)&&(y=Qt(16,{to:m,from:I}),Me(I,I,!0,!1)),(y?Promise.resolve(y):Fe(m,I)).catch(b=>Ve(b)?Ve(b,2)?b:et(b):J(b,m,I)).then(b=>{if(b){if(Ve(b,2))return De(V({replace:d},j(b.to),{state:typeof b.to=="object"?V({},W,b.to.state):W,force:f}),A||m)}else b=ht(m,I,!0,d,W);return Ze(m,I,b),b})}function Je(v,A){const R=N(v,A);return R?Promise.reject(R):Promise.resolve()}function St(v){const A=Rt.values().next().value;return A&&typeof A.runWithContext=="function"?A.runWithContext(v):v()}function Fe(v,A){let R;const[I,W,f]=_u(v,A);R=bn(I.reverse(),"beforeRouteLeave",v,A);for(const g of I)g.leaveGuards.forEach(m=>{R.push(it(m,v,A))});const d=Je.bind(null,v,A);return R.push(d),ce(R).then(()=>{R=[];for(const g of i.list())R.push(it(g,v,A));return R.push(d),ce(R)}).then(()=>{R=bn(W,"beforeRouteUpdate",v,A);for(const g of W)g.updateGuards.forEach(m=>{R.push(it(m,v,A))});return R.push(d),ce(R)}).then(()=>{R=[];for(const g of f)if(g.beforeEnter)if(Ue(g.beforeEnter))for(const m of g.beforeEnter)R.push(it(m,v,A));else R.push(it(g.beforeEnter,v,A));return R.push(d),ce(R)}).then(()=>(v.matched.forEach(g=>g.enterCallbacks={}),R=bn(f,"beforeRouteEnter",v,A),R.push(d),ce(R))).then(()=>{R=[];for(const g of o.list())R.push(it(g,v,A));return R.push(d),ce(R)}).catch(g=>Ve(g,8)?g:Promise.reject(g))}function Ze(v,A,R){a.list().forEach(I=>St(()=>I(v,A,R)))}function ht(v,A,R,I,W){const f=N(v,A);if(f)return f;const d=A===st,g=Ut?history.state:{};R&&(I||d?r.replace(v.fullPath,V({scroll:d&&g&&g.scroll},W)):r.push(v.fullPath,W)),l.value=v,Me(v,A,R,d),et()}let Ne;function ss(){Ne||(Ne=r.listen((v,A,R)=>{if(!ks.listening)return;const I=P(v),W=pe(I);if(W){De(V(W,{replace:!0}),I).catch(ps);return}c=I;const f=l.value;Ut&&xc(si(f.fullPath,R.delta),an()),Fe(I,f).catch(d=>Ve(d,12)?d:Ve(d,2)?(De(d.to,I).then(g=>{Ve(g,20)&&!R.delta&&R.type===Os.pop&&r.go(-1,!1)}).catch(ps),Promise.reject()):(R.delta&&r.go(-R.delta,!1),J(d,I,f))).then(d=>{d=d||ht(I,f,!1),d&&(R.delta&&!Ve(d,8)?r.go(-R.delta,!1):R.type===Os.pop&&Ve(d,20)&&r.go(-1,!1)),Ze(I,f,d)}).catch(ps)}))}let Ot=os(),ie=os(),Q;function J(v,A,R){et(v);const I=ie.list();return I.length?I.forEach(W=>W(v,A,R)):console.error(v),Promise.reject(v)}function We(){return Q&&l.value!==st?Promise.resolve():new Promise((v,A)=>{Ot.add([v,A])})}function et(v){return Q||(Q=!v,ss(),Ot.list().forEach(([A,R])=>v?R(v):A()),Ot.reset()),v}function Me(v,A,R,I){const{scrollBehavior:W}=t;if(!Ut||!W)return Promise.resolve();const f=!R&&Pc(si(v.fullPath,0))||(I||!R)&&history.state&&history.state.scroll||null;return so().then(()=>W(v,A,f)).then(d=>d&&kc(d)).catch(d=>J(d,v,A))}const _e=v=>r.go(v);let Tt;const Rt=new Set,ks={currentRoute:l,listening:!0,addRoute:_,removeRoute:S,hasRoute:k,getRoutes:E,resolve:P,options:t,push:C,replace:ne,go:_e,back:()=>_e(-1),forward:()=>_e(1),beforeEach:i.add,beforeResolve:o.add,afterEach:a.add,onError:ie.add,isReady:We,install(v){const A=this;v.component("RouterLink",ke),v.component("RouterView",Do),v.config.globalProperties.$router=A,Object.defineProperty(v.config.globalProperties,"$route",{enumerable:!0,get:()=>ae(l)}),Ut&&!Tt&&l.value===st&&(Tt=!0,C(r.location).catch(W=>{}));const R={};for(const W in st)Object.defineProperty(R,W,{get:()=>l.value[W],enumerable:!0});v.provide(ln,A),v.provide(dr,Wi(R)),v.provide(Bn,l);const I=v.unmount;Rt.add(v),v.unmount=function(){Rt.delete(v),Rt.size<1&&(c=st,Ne&&Ne(),Ne=null,l.value=st,Tt=!1,Q=!1),I()}}};function ce(v){return v.reduce((A,R)=>A.then(()=>St(R)),Promise.resolve())}return ks}function _u(t,e){const s=[],n=[],r=[],i=Math.max(e.matched.length,t.matched.length);for(let o=0;o<i;o++){const a=e.matched[o];a&&(t.matched.find(c=>Gt(c,a))?n.push(a):s.push(a));const l=t.matched[o];l&&(e.matched.find(c=>Gt(c,l))||r.push(l))}return[s,n,r]}function Af(){return Le(ln)}function $f(){return Le(dr)}const be=t=>(Ha("data-v-574e9eab"),t=t(),Ka(),t),mu=be(()=>te("div",{class:"padding"},null,-1)),vu={key:0},yu={class:"left"},bu=be(()=>te("span",{class:"pad"},null,-1)),wu=be(()=>te("span",{class:"fancy-text"},[te("strong",null,"Infographix")],-1)),Eu=be(()=>te("span",{class:"pad"},null,-1)),Su={class:"right"},Ou={key:1},Tu={class:"left"},Ru=be(()=>te("span",{class:"pad"},null,-1)),ku={key:0,class:"fancy-text"},xu=be(()=>te("strong",null,"Infographix",-1)),Pu=[xu],Cu={key:1,class:"fancy-text"},Au=be(()=>te("img",{src:gc,alt:""},null,-1)),$u=[Au],ju=be(()=>te("span",{class:"pad"},null,-1)),Iu=be(()=>te("i",{class:"fa-solid fa-house"},null,-1)),Lu=be(()=>te("i",{class:"fa-solid fa-folder-open"},null,-1)),Uu=be(()=>te("i",{class:"fa-solid fa-info"},null,-1)),Du={class:"right"},Fu=be(()=>te("i",{class:"fa-solid fa-globe"},null,-1)),Nu=[Fu],Mu=be(()=>te("i",{class:"fa-solid fa-question-circle"},null,-1)),Bu=be(()=>te("i",{class:"fa-solid fa-user-plus"},null,-1)),Hu={name:"App",data(){return{viewWidth:window.innerWidth,lang:"th",langs:["th","en"],change_lang:this.change_lang_gen(),lang_store:{en:{home:"Home",projects:"Projects",about:"About",tuto:"How to use",signin:"Sign In",change_lang:"EN",update_width:960},th:{home:"หน้าหลัก",projects:"โปรเจกต์",about:"เกี่ยวกับเรา",tuto:"คู่มือการใช้",signin:"เข้าสู่ระบบ",change_lang:"TH",update_width:1230}}}},mounted(){addEventListener("resize",this.getWidth)},unmounted(){removeEventListener("resize",this.getWidth)},methods:{*change_lang_gen(){let t=0;for(;;)yield this.langs[t],t++,t%=this.langs.length},getWidth(){this.viewWidth=window.innerWidth},langc(){let t=this.change_lang.next().value;this.lang=t,fetch("src/langs/navbar.json").then(e=>e.json()).then(e=>this.navlang=e[this.lang])}},computed:{navlang(){return this.lang_store[this.lang]}}},Ku=or({...Hu,setup(t){return(e,s)=>(It(),rs(Oe,null,[mu,e.viewWidth>=e.navlang.update_width?(It(),rs("nav",vu,[te("div",yu,[bu,wu,Eu,Z(ae(ke),{to:"/"},{default:Re(()=>[Lt(xt(e.navlang.home),1)]),_:1}),Z(ae(ke),{to:"/projects"},{default:Re(()=>[Lt(xt(e.navlang.projects),1)]),_:1}),Z(ae(ke),{to:"/about"},{default:Re(()=>[Lt(xt(e.navlang.about),1)]),_:1})]),te("div",Su,[te("span",{onClick:s[0]||(s[0]=(...n)=>e.langc&&e.langc(...n))},xt(e.navlang.change_lang),1),Z(ae(ke),{to:"/tuto"},{default:Re(()=>[Lt(xt(e.navlang.tuto),1)]),_:1}),Z(ae(ke),{to:"/sign-in"},{default:Re(()=>[Lt(xt(e.navlang.signin),1)]),_:1})])])):(It(),rs("nav",Ou,[te("div",Tu,[Ru,e.viewWidth>=540?(It(),rs("span",ku,Pu)):(It(),rs("span",Cu,$u)),ju,Z(ae(ke),{to:"/"},{default:Re(()=>[Iu]),_:1}),Z(ae(ke),{to:"/projects"},{default:Re(()=>[Lu]),_:1}),Z(ae(ke),{to:"/about"},{default:Re(()=>[Uu]),_:1})]),te("div",Du,[te("span",{onClick:s[1]||(s[1]=(...n)=>e.langc&&e.langc(...n))},Nu),Z(ae(ke),{to:"/tuto"},{default:Re(()=>[Mu]),_:1}),Z(ae(ke),{to:"/sign-in"},{default:Re(()=>[Bu]),_:1})])])),Z(ae(Do),{language:e.lang},null,8,["language"])],64))}});const qu=(t,e)=>{const s=t.__vccOpts||t;for(const[n,r]of e)s[n]=r;return s},zu=qu(Ku,[["__scopeId","data-v-574e9eab"]]),Ju="modulepreload",Wu=function(t){return"/"+t},_i={},Qe=function(e,s,n){if(!s||s.length===0)return e();const r=document.getElementsByTagName("link");return Promise.all(s.map(i=>{if(i=Wu(i),i in _i)return;_i[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!n)for(let u=r.length-1;u>=0;u--){const h=r[u];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":Ju,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((u,h)=>{c.addEventListener("load",u),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},Vu=gu({history:jc("/"),routes:[{path:"/",name:"home",component:()=>Qe(()=>import("./Home-7f420ac0.js"),["assets/Home-7f420ac0.js","assets/Home-49e621f0.css"])},{path:"/sign-in",name:"sign-in",component:()=>Qe(()=>import("./SignIn-1af19ee5.js"),["assets/SignIn-1af19ee5.js","assets/SignIn-42949a60.css"])},{path:"/sign-up",redirect:"/sign-in"},{path:"/google-auth",name:"google-auth",component:()=>Qe(()=>import("./GoogleAuth-59e8c96f.js"),["assets/GoogleAuth-59e8c96f.js","assets/GoogleAuth-0b2afc0c.css"])},{path:"/:catchAll(.*)",name:"NotFound",component:()=>Qe(()=>import("./NotFound-4792f8d8.js"),["assets/NotFound-4792f8d8.js","assets/NotFound-405edfc4.css"])}]}),Gu=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Qe(()=>Promise.resolve().then(()=>Rs),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)};class pr extends Error{constructor(e,s="FunctionsError",n){super(e),this.name=s,this.context=n}}class Qu extends pr{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Yu extends pr{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Xu extends pr{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Zu=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class eh{constructor(e,{headers:s={},customFetch:n}={}){this.url=e,this.headers=s,this.fetch=Gu(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,s={}){var n;return Zu(this,void 0,void 0,function*(){try{const{headers:r,method:i,body:o}=s;let a={},l;o&&(r&&!Object.prototype.hasOwnProperty.call(r,"Content-Type")||!r)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),r),body:l}).catch(_=>{throw new Qu(_)}),u=c.headers.get("x-relay-error");if(u&&u==="true")throw new Yu(c);if(!c.ok)throw new Xu(c);let h=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),p;return h==="application/json"?p=yield c.json():h==="application/octet-stream"?p=yield c.blob():h==="multipart/form-data"?p=yield c.formData():p=yield c.text(),{data:p,error:null}}catch(r){return{data:null,error:r}}})}}var th=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Yt=th();const sh=Yt.fetch,gr=Yt.fetch.bind(Yt),Fo=Yt.Headers,nh=Yt.Request,rh=Yt.Response,Rs=Object.freeze(Object.defineProperty({__proto__:null,Headers:Fo,Request:nh,Response:rh,default:gr,fetch:sh},Symbol.toStringTag,{value:"Module"}));class ih{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=gr:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}then(e,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let r=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,u=null,h=null,p=i.status,_=i.statusText;if(i.ok){if(this.method!=="HEAD"){const P=await i.text();P===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?u=P:u=JSON.parse(P))}const E=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");E&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(u)&&(u.length>1?(c={code:"PGRST116",details:`Results contain ${u.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},u=null,h=null,p=406,_="Not Acceptable"):u.length===1?u=u[0]:u=null)}else{const E=await i.text();try{c=JSON.parse(E),Array.isArray(c)&&i.status===404&&(u=[],c=null,p=200,_="OK")}catch{i.status===404&&E===""?(p=204,_="No Content"):c={message:E}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,p=200,_="OK"),c&&this.shouldThrowOnError)throw c}return{error:c,data:u,count:h,status:p,statusText:_}});return this.shouldThrowOnError||(r=r.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),r.then(e,s)}}class oh extends ih{select(e){let s=!1;const n=(e??"*").split("").map(r=>/\s/.test(r)&&!s?"":(r==='"'&&(s=!s),r)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:s=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${s?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:s,referencedTable:n=s}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${e}`),this}range(e,s,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,o=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${s-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:s=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,s?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}class Dt extends oh{eq(e,s){return this.url.searchParams.append(e,`eq.${s}`),this}neq(e,s){return this.url.searchParams.append(e,`neq.${s}`),this}gt(e,s){return this.url.searchParams.append(e,`gt.${s}`),this}gte(e,s){return this.url.searchParams.append(e,`gte.${s}`),this}lt(e,s){return this.url.searchParams.append(e,`lt.${s}`),this}lte(e,s){return this.url.searchParams.append(e,`lte.${s}`),this}like(e,s){return this.url.searchParams.append(e,`like.${s}`),this}likeAllOf(e,s){return this.url.searchParams.append(e,`like(all).{${s.join(",")}}`),this}likeAnyOf(e,s){return this.url.searchParams.append(e,`like(any).{${s.join(",")}}`),this}ilike(e,s){return this.url.searchParams.append(e,`ilike.${s}`),this}ilikeAllOf(e,s){return this.url.searchParams.append(e,`ilike(all).{${s.join(",")}}`),this}ilikeAnyOf(e,s){return this.url.searchParams.append(e,`ilike(any).{${s.join(",")}}`),this}is(e,s){return this.url.searchParams.append(e,`is.${s}`),this}in(e,s){const n=s.map(r=>typeof r=="string"&&new RegExp("[,()]").test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cs.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cs.{${s.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(s)}`),this}containedBy(e,s){return typeof s=="string"?this.url.searchParams.append(e,`cd.${s}`):Array.isArray(s)?this.url.searchParams.append(e,`cd.{${s.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(s)}`),this}rangeGt(e,s){return this.url.searchParams.append(e,`sr.${s}`),this}rangeGte(e,s){return this.url.searchParams.append(e,`nxl.${s}`),this}rangeLt(e,s){return this.url.searchParams.append(e,`sl.${s}`),this}rangeLte(e,s){return this.url.searchParams.append(e,`nxr.${s}`),this}rangeAdjacent(e,s){return this.url.searchParams.append(e,`adj.${s}`),this}overlaps(e,s){return typeof s=="string"?this.url.searchParams.append(e,`ov.${s}`):this.url.searchParams.append(e,`ov.{${s.join(",")}}`),this}textSearch(e,s,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const o=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${o}.${s}`),this}match(e){return Object.entries(e).forEach(([s,n])=>{this.url.searchParams.append(s,`eq.${n}`)}),this}not(e,s,n){return this.url.searchParams.append(e,`not.${s}.${n}`),this}or(e,{foreignTable:s,referencedTable:n=s}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${e})`),this}filter(e,s,n){return this.url.searchParams.append(e,`${s}.${n}`),this}}class ah{constructor(e,{headers:s={},schema:n,fetch:r}){this.url=e,this.headers=s,this.schema=n,this.fetch=r}select(e,{head:s=!1,count:n}={}){const r=s?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new Dt({method:r,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:s,defaultToNull:n=!0}={}){const r="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),s&&i.push(`count=${s}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new Dt({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:s,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(s!==void 0&&this.url.searchParams.set("on_conflict",s),this.headers.Prefer&&a.push(this.headers.Prefer),r&&a.push(`count=${r}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,u)=>c.concat(Object.keys(u)),[]);if(l.length>0){const c=[...new Set(l)].map(u=>`"${u}"`);this.url.searchParams.set("columns",c.join(","))}}return new Dt({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:s}={}){const n="PATCH",r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),s&&r.push(`count=${s}`),this.headers.Prefer=r.join(","),new Dt({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const s="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new Dt({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}const lh="1.9.0",ch={"X-Client-Info":`postgrest-js/${lh}`};class _r{constructor(e,{headers:s={},schema:n,fetch:r}={}){this.url=e,this.headers=Object.assign(Object.assign({},ch),s),this.schemaName=n,this.fetch=r}from(e){const s=new URL(`${this.url}/${e}`);return new ah(s,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new _r(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,s={},{head:n=!1,count:r}={}){let i;const o=new URL(`${this.url}/rpc/${e}`);let a;n?(i="HEAD",Object.entries(s).forEach(([c,u])=>{o.searchParams.append(c,`${u}`)})):(i="POST",a=s);const l=Object.assign({},this.headers);return r&&(l.Prefer=`count=${r}`),new Dt({method:i,url:o,headers:l,schema:this.schemaName,body:a,fetch:this.fetch,allowEmpty:!1})}}const uh="2.9.0",hh={"X-Client-Info":`realtime-js/${uh}`},fh="1.0.0",No=1e4,dh=1e3;var _s;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(_s||(_s={}));var Ee;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(Ee||(Ee={}));var Pe;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pe||(Pe={}));var Hn;(function(t){t.websocket="websocket"})(Hn||(Hn={}));var vt;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(vt||(vt={}));class Mo{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}class ph{constructor(){this.HEADER_LENGTH=1}decode(e,s){return e.constructor===ArrayBuffer?s(this._binaryDecode(e)):s(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const s=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,s,n)}_decodeBroadcast(e,s,n){const r=s.getUint8(1),i=s.getUint8(2);let o=this.HEADER_LENGTH+2;const a=n.decode(e.slice(o,o+r));o=o+r;const l=n.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(n.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class wn{constructor(e,s,n={},r=No){this.channel=e,this.event=s,this.payload=n,this.timeout=r,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var n;return this._hasReceived(e)&&s((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var mi;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(mi||(mi={}));class ms{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(s==null?void 0:s.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=ms.syncState(this.state,r,i,o),this.pendingDiffs.forEach(l=>{this.state=ms.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},r=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(r):(this.state=ms.syncDiff(this.state,r,i,o),a())}),this.onJoin((r,i,o)=>{this.channel._trigger("presence",{event:"join",key:r,currentPresences:i,newPresences:o})}),this.onLeave((r,i,o)=>{this.channel._trigger("presence",{event:"leave",key:r,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,n,r){const i=this.cloneDeep(e),o=this.transformState(s),a={},l={};return this.map(i,(c,u)=>{o[c]||(l[c]=u)}),this.map(o,(c,u)=>{const h=i[c];if(h){const p=u.map(k=>k.presence_ref),_=h.map(k=>k.presence_ref),S=u.filter(k=>_.indexOf(k.presence_ref)<0),E=h.filter(k=>p.indexOf(k.presence_ref)<0);S.length>0&&(a[c]=S),E.length>0&&(l[c]=E)}else a[c]=u}),this.syncDiff(i,{joins:a,leaves:l},n,r)}static syncDiff(e,s,n,r){const{joins:i,leaves:o}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return n||(n=()=>{}),r||(r=()=>{}),this.map(i,(a,l)=>{var c;const u=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),u.length>0){const h=e[a].map(_=>_.presence_ref),p=u.filter(_=>h.indexOf(_.presence_ref)<0);e[a].unshift(...p)}n(a,u,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const u=l.map(h=>h.presence_ref);c=c.filter(h=>u.indexOf(h.presence_ref)<0),e[a]=c,r(a,c,l),c.length===0&&delete e[a]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(n=>s(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,n)=>{const r=e[n];return"metas"in r?s[n]=r.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):s[n]=r,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var X;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(X||(X={}));const vi=(t,e,s={})=>{var n;const r=(n=s.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,o)=>(i[o]=gh(o,t,e,r),i),{})},gh=(t,e,s,n)=>{const r=e.find(a=>a.name===t),i=r==null?void 0:r.type,o=s[t];return i&&!n.includes(i)?Bo(i,o):Kn(o)},Bo=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return yh(e,s)}switch(t){case X.bool:return _h(e);case X.float4:case X.float8:case X.int2:case X.int4:case X.int8:case X.numeric:case X.oid:return mh(e);case X.json:case X.jsonb:return vh(e);case X.timestamp:return bh(e);case X.abstime:case X.date:case X.daterange:case X.int4range:case X.int8range:case X.money:case X.reltime:case X.text:case X.time:case X.timestamptz:case X.timetz:case X.tsrange:case X.tstzrange:return Kn(e);default:return Kn(e)}},Kn=t=>t,_h=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},mh=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},vh=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},yh=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,n=t[s];if(t[0]==="{"&&n==="}"){let i;const o=t.slice(1,s);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>Bo(e,a))}return t},bh=t=>typeof t=="string"?t.replace(" ","T"):t;var yi;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(yi||(yi={}));var bi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes"})(bi||(bi={}));var wi;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(wi||(wi={}));class mr{constructor(e,s={config:{}},n){this.topic=e,this.params=s,this.socket=n,this.bindings={},this.state=Ee.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""}},s.config),this.timeout=this.socket.timeout,this.joinPush=new wn(this,Pe.join,this.params,this.timeout),this.rejoinTimer=new Mo(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Ee.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(r=>r.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Ee.closed,this.socket._remove(this)}),this._onError(r=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,r),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Ee.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pe.reply,{},(r,i)=>{this._trigger(this._replyEventName(i),r)}),this.presence=new ms(this),this.broadcastEndpointURL=this._broadcastEndpointURL()}subscribe(e,s=this.timeout){var n,r;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o}}=this.params;this._onError(c=>e&&e("CHANNEL_ERROR",c)),this._onClose(()=>e&&e("CLOSED"));const a={},l={broadcast:i,presence:o,postgres_changes:(r=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&r!==void 0?r:[]};this.socket.accessToken&&(a.access_token=this.socket.accessToken),this.updateJoinPayload(Object.assign({config:l},a)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",({postgres_changes:c})=>{var u;if(this.socket.accessToken&&this.socket.setAuth(this.socket.accessToken),c===void 0){e&&e("SUBSCRIBED");return}else{const h=this.bindings.postgres_changes,p=(u=h==null?void 0:h.length)!==null&&u!==void 0?u:0,_=[];for(let S=0;S<p;S++){const E=h[S],{filter:{event:k,schema:P,table:j,filter:N}}=E,C=c&&c[S];if(C&&C.event===k&&C.schema===P&&C.table===j&&C.filter===N)_.push(Object.assign(Object.assign({},E),{id:C.id}));else{this.unsubscribe(),e&&e("CHANNEL_ERROR",new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e("SUBSCRIBED");return}}).receive("error",c=>{e&&e("CHANNEL_ERROR",new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e&&e("TIMED_OUT")})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,n){return this._on(e,s,n)}async send(e,s={}){var n,r;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,a={method:"POST",headers:{apikey:(n=this.socket.accessToken)!==null&&n!==void 0?n:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o}]})};try{return(await this._fetchWithTimeout(this.broadcastEndpointURL,a,(r=s.timeout)!==null&&r!==void 0?r:this.timeout)).ok?"ok":"error"}catch(l){return l.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=Ee.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pe.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{const r=new wn(this,Pe.leave,{},e);r.receive("ok",()=>{s(),n("ok")}).receive("timeout",()=>{s(),n("timed out")}).receive("error",()=>{n("error")}),r.send(),this._canPush()||r.trigger("ok",{})})}_broadcastEndpointURL(){let e=this.socket.endPoint;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")+"/api/broadcast"}async _fetchWithTimeout(e,s,n){const r=new AbortController,i=setTimeout(()=>r.abort(),n),o=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:r.signal}));return clearTimeout(i),o}_push(e,s,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let r=new wn(this,e,s,n);return this._canPush()?r.send():(r.startTimeout(),this.pushBuffer.push(r)),r}_onMessage(e,s,n){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,n){var r,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:u}=Pe;if(n&&[a,l,c,u].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,s,n);if(s&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(r=this.bindings.postgres_changes)===null||r===void 0||r.filter(_=>{var S,E,k;return((S=_.filter)===null||S===void 0?void 0:S.event)==="*"||((k=(E=_.filter)===null||E===void 0?void 0:E.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(_=>_.callback(p,n)):(i=this.bindings[o])===null||i===void 0||i.filter(_=>{var S,E,k,P,j,N;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in _){const C=_.id,ne=(S=_.filter)===null||S===void 0?void 0:S.event;return C&&((E=s.ids)===null||E===void 0?void 0:E.includes(C))&&(ne==="*"||(ne==null?void 0:ne.toLocaleLowerCase())===((k=s.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const C=(j=(P=_==null?void 0:_.filter)===null||P===void 0?void 0:P.event)===null||j===void 0?void 0:j.toLocaleLowerCase();return C==="*"||C===((N=s==null?void 0:s.event)===null||N===void 0?void 0:N.toLocaleLowerCase())}else return _.type.toLocaleLowerCase()===o}).map(_=>{if(typeof p=="object"&&"ids"in p){const S=p.data,{schema:E,table:k,commit_timestamp:P,type:j,errors:N}=S;p=Object.assign(Object.assign({},{schema:E,table:k,commit_timestamp:P,eventType:j,new:{},old:{},errors:N}),this._getPayloadRecords(S))}_.callback(p,n)})}_isClosed(){return this.state===Ee.closed}_isJoined(){return this.state===Ee.joined}_isJoining(){return this.state===Ee.joining}_isLeaving(){return this.state===Ee.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,n){const r=e.toLocaleLowerCase(),i={type:r,filter:s,callback:n};return this.bindings[r]?this.bindings[r].push(i):this.bindings[r]=[i],this}_off(e,s){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(r=>{var i;return!(((i=r.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&mr.isEqual(r.filter,s))}),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const n in e)if(e[n]!==s[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pe.close,{},e)}_onError(e){this._on(Pe.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Ee.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=vi(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=vi(e.columns,e.old_record)),s}}const wh=()=>{},Ho=typeof WebSocket<"u",Eh=Ho?WebSocket:require("ws");class Sh{constructor(e,s){var n;this.accessToken=null,this.channels=[],this.endPoint="",this.headers=hh,this.params={},this.timeout=No,this.transport=Eh,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=wh,this.conn=null,this.sendBuffer=[],this.serializer=new ph,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>Qe(()=>Promise.resolve().then(()=>Rs),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Hn.websocket}`,s!=null&&s.params&&(this.params=s.params),s!=null&&s.headers&&(this.headers=Object.assign(Object.assign({},this.headers),s.headers)),s!=null&&s.timeout&&(this.timeout=s.timeout),s!=null&&s.logger&&(this.logger=s.logger),s!=null&&s.transport&&(this.transport=s.transport),s!=null&&s.heartbeatIntervalMs&&(this.heartbeatIntervalMs=s.heartbeatIntervalMs);const r=(n=s==null?void 0:s.params)===null||n===void 0?void 0:n.apikey;r&&(this.accessToken=r),this.reconnectAfterMs=s!=null&&s.reconnectAfterMs?s.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=s!=null&&s.encode?s.encode:(i,o)=>o(JSON.stringify(i)),this.decode=s!=null&&s.decode?s.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Mo(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(s==null?void 0:s.fetch)}connect(){this.conn||(Ho?this.conn=new this.transport(this._endPointURL()):this.conn=new this.transport(this._endPointURL(),void 0,{headers:this.headers}),this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e)))}disconnect(e,s){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,s??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.disconnect(),e}log(e,s,n){this.logger(e,s,n)}connectionState(){switch(this.conn&&this.conn.readyState){case _s.connecting:return vt.Connecting;case _s.open:return vt.Open;case _s.closing:return vt.Closing;default:return vt.Closed}}isConnected(){return this.connectionState()===vt.Open}channel(e,s={config:{}}){const n=new mr(`realtime:${e}`,s,this);return this.channels.push(n),n}push(e){const{topic:s,event:n,payload:r,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${s} ${n} (${i})`,r),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(e){this.accessToken=e,this.channels.forEach(s=>{e&&s.updateJoinPayload({access_token:e}),s.joinedOnce&&s._isJoined()&&s._push(Pe.access_token,{access_token:e})})}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s._joinRef()!==e._joinRef())}_endPointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:fh}))}_onConnMessage(e){this.decode(e.data,s=>{let{topic:n,event:r,payload:i,ref:o}=s;(o&&o===this.pendingHeartbeatRef||r===(i==null?void 0:i.type))&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${r} ${o&&"("+o+")"||""}`,i),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(r,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(s))})}_onConnOpen(){this.log("transport",`connected to ${this._endPointURL()}`),this._flushSendBuffer(),this.reconnectTimer.reset(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this._sendHeartbeat(),this.heartbeatIntervalMs),this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(s=>s(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(s=>s(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pe.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const n=e.match(/\?/)?"&":"?",r=new URLSearchParams(s);return`${e}${n}${r}`}_flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(e=this.conn)===null||e===void 0||e.close(dh,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth(this.accessToken)}}}class vr extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ue(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Oh extends vr{constructor(e,s){super(e),this.name="StorageApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ei extends vr{constructor(e,s){super(e),this.name="StorageUnknownError",this.originalError=s}}var Th=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Ko=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Qe(()=>Promise.resolve().then(()=>Rs),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Rh=()=>Th(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield Qe(()=>Promise.resolve().then(()=>Rs),void 0)).Response:Response});var ts=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const En=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kh=(t,e)=>ts(void 0,void 0,void 0,function*(){const s=yield Rh();t instanceof s?t.json().then(n=>{e(new Oh(En(n),t.status||500))}).catch(n=>{e(new Ei(En(n),n))}):e(new Ei(En(t),t))}),xh=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};function cn(t,e,s,n,r,i){return ts(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(s,xh(e,n,r,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>kh(l,a))})})}function qn(t,e,s,n){return ts(this,void 0,void 0,function*(){return cn(t,"GET",e,s,n)})}function ot(t,e,s,n,r){return ts(this,void 0,void 0,function*(){return cn(t,"POST",e,n,r,s)})}function Ph(t,e,s,n,r){return ts(this,void 0,void 0,function*(){return cn(t,"PUT",e,n,r,s)})}function qo(t,e,s,n,r){return ts(this,void 0,void 0,function*(){return cn(t,"DELETE",e,n,r,s)})}var Se=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Ch={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Si={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ah{constructor(e,s={},n,r){this.url=e,this.headers=s,this.bucketId=n,this.fetch=Ko(r)}uploadOrUpdate(e,s,n,r){return Se(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},Si),r),a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",o.cacheControl)):(i=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType);const l=this._removeEmptyFolders(s),c=this._getFinalPath(l),u=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),h=yield u.json();return u.ok?{data:{path:l,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(ue(i))return{data:null,error:i};throw i}})}upload(e,s,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,s,n)})}uploadToSignedUrl(e,s,n,r){return Se(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",s);try{let l;const c=Object.assign({upsert:Si.upsert},r),u=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,u["cache-control"]=`max-age=${c.cacheControl}`,u["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:u}),p=yield h.json();return h.ok?{data:{path:i,fullPath:p.Key},error:null}:{data:null,error:p}}catch(l){if(ue(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e){return Se(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e);const n=yield ot(this.fetch,`${this.url}/object/upload/sign/${s}`,{},{headers:this.headers}),r=new URL(this.url+n.url),i=r.searchParams.get("token");if(!i)throw new vr("No token returned by API");return{data:{signedUrl:r.toString(),path:e,token:i},error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}update(e,s,n){return Se(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,s,n)})}move(e,s){return Se(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}copy(e,s){return Se(this,void 0,void 0,function*(){try{return{data:{path:(yield ot(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:s},{headers:this.headers})).Key},error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}createSignedUrl(e,s,n){return Se(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e),i=yield ot(this.fetch,`${this.url}/object/sign/${r}`,Object.assign({expiresIn:s},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const o=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}createSignedUrls(e,s,n){return Se(this,void 0,void 0,function*(){try{const r=yield ot(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:s,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:r.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}download(e,s){return Se(this,void 0,void 0,function*(){const r=typeof(s==null?void 0:s.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((s==null?void 0:s.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield qn(this.fetch,`${this.url}/${r}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ue(a))return{data:null,error:a};throw a}})}getPublicUrl(e,s){const n=this._getFinalPath(e),r=[],i=s!=null&&s.download?`download=${s.download===!0?"":s.download}`:"";i!==""&&r.push(i);const a=typeof(s==null?void 0:s.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((s==null?void 0:s.transform)||{});l!==""&&r.push(l);let c=r.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${c}`)}}}remove(e){return Se(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}list(e,s,n){return Se(this,void 0,void 0,function*(){try{const r=Object.assign(Object.assign(Object.assign({},Ch),s),{prefix:e||""});return{data:yield ot(this.fetch,`${this.url}/object/list/${this.bucketId}`,r,{headers:this.headers},n),error:null}}catch(r){if(ue(r))return{data:null,error:r};throw r}})}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const s=[];return e.width&&s.push(`width=${e.width}`),e.height&&s.push(`height=${e.height}`),e.resize&&s.push(`resize=${e.resize}`),e.format&&s.push(`format=${e.format}`),e.quality&&s.push(`quality=${e.quality}`),s.join("&")}}const $h="2.5.5",jh={"X-Client-Info":`storage-js/${$h}`};var Ct=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};class Ih{constructor(e,s={},n){this.url=e,this.headers=Object.assign(Object.assign({},jh),s),this.fetch=Ko(n)}listBuckets(){return Ct(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ue(e))return{data:null,error:e};throw e}})}getBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield qn(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}createBucket(e,s={public:!1}){return Ct(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}updateBucket(e,s){return Ct(this,void 0,void 0,function*(){try{return{data:yield Ph(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:s.public,file_size_limit:s.fileSizeLimit,allowed_mime_types:s.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(ue(n))return{data:null,error:n};throw n}})}emptyBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield ot(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}deleteBucket(e){return Ct(this,void 0,void 0,function*(){try{return{data:yield qo(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(s){if(ue(s))return{data:null,error:s};throw s}})}}class Lh extends Ih{constructor(e,s={},n){super(e,s,n)}from(e){return new Ah(this.url,this.headers,e,this.fetch)}}const Uh="2.39.0";let us="";typeof Deno<"u"?us="deno":typeof document<"u"?us="web":typeof navigator<"u"&&navigator.product==="ReactNative"?us="react-native":us="node";const Dh={"X-Client-Info":`supabase-js-${us}/${Uh}`};var Fh=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Nh=t=>{let e;return t?e=t:typeof fetch>"u"?e=gr:e=fetch,(...s)=>e(...s)},Mh=()=>typeof Headers>"u"?Fo:Headers,Bh=(t,e,s)=>{const n=Nh(s),r=Mh();return(i,o)=>Fh(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new r(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},o),{headers:c}))})};function Hh(t){return t.replace(/\/$/,"")}function Kh(t,e){const{db:s,auth:n,realtime:r,global:i}=t,{db:o,auth:a,realtime:l,global:c}=e;return{db:Object.assign(Object.assign({},o),s),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},l),r),global:Object.assign(Object.assign({},c),i)}}function qh(t){return Math.round(Date.now()/1e3)+t}function zh(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ke=()=>typeof document<"u",pt={tested:!1,writable:!1},vs=()=>{if(!Ke())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(pt.tested)return pt.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),pt.tested=!0,pt.writable=!0}catch{pt.tested=!0,pt.writable=!1}return pt.writable};function Sn(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((r,i)=>{e[i]=r})}catch{}return s.searchParams.forEach((n,r)=>{e[r]=n}),e}const zo=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...s)=>Qe(()=>Promise.resolve().then(()=>Rs),void 0).then(({default:n})=>n(...s)):e=fetch,(...s)=>e(...s)},Jh=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",gt=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},Is=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},On=async(t,e)=>{await t.removeItem(e)};function Wh(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";let s="",n,r,i,o,a,l,c,u=0;for(t=t.replace("-","+").replace("_","/");u<t.length;)o=e.indexOf(t.charAt(u++)),a=e.indexOf(t.charAt(u++)),l=e.indexOf(t.charAt(u++)),c=e.indexOf(t.charAt(u++)),n=o<<2|a>>4,r=(a&15)<<4|l>>2,i=(l&3)<<6|c,s=s+String.fromCharCode(n),l!=64&&r!=0&&(s=s+String.fromCharCode(r)),c!=64&&i!=0&&(s=s+String.fromCharCode(i));return s}class un{constructor(){this.promise=new un.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}un.promiseConstructor=Promise;function Oi(t){const e=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}=?$|[a-z0-9_-]{2}(==)?$)$/i,s=t.split(".");if(s.length!==3)throw new Error("JWT is not valid: not a JWT structure");if(!e.test(s[1]))throw new Error("JWT is not valid: payload is not in base64url format");const n=s[1];return JSON.parse(Wh(n))}async function Vh(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Gh(t,e){return new Promise((n,r)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){n(o);return}}catch(o){if(!e(i,o)){r(o);return}}})()})}function Qh(t){return("0"+t.toString(16)).substr(-2)}function At(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=s.length;let r="";for(let i=0;i<56;i++)r+=s.charAt(Math.floor(Math.random()*n));return r}return crypto.getRandomValues(e),Array.from(e,Qh).join("")}async function Yh(t){const s=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",s),r=new Uint8Array(n);return Array.from(r).map(i=>String.fromCharCode(i)).join("")}function Xh(t){return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function $t(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await Yh(t);return Xh(s)}class yr extends Error{constructor(e,s){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s}}function H(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Zh extends yr{constructor(e,s){super(e,s),this.name="AuthApiError",this.status=s}toJSON(){return{name:this.name,message:this.message,status:this.status}}}function ef(t){return H(t)&&t.name==="AuthApiError"}class Jo extends yr{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class Et extends yr{constructor(e,s,n){super(e),this.name=s,this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class jt extends Et{constructor(){super("Auth session missing!","AuthSessionMissingError",400)}}class Tn extends Et{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500)}}class Ls extends Et{constructor(e){super(e,"AuthInvalidCredentialsError",400)}}class Us extends Et{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Ti extends Et{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class zn extends Et{constructor(e,s){super(e,"AuthRetryableFetchError",s)}}function Rn(t){return H(t)&&t.name==="AuthRetryableFetchError"}class tf extends Et{constructor(e,s,n){super(e,"AuthWeakPasswordError",s),this.reasons=n}}var sf=globalThis&&globalThis.__rest||function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};const Ft=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),nf=[502,503,504];async function Ri(t){if(!Jh(t))throw new zn(Ft(t),0);if(nf.includes(t.status))throw new zn(Ft(t),t.status);let e;try{e=await t.json()}catch(s){throw new Jo(Ft(s),s)}throw typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((s,n)=>s&&typeof n=="string",!0)?new tf(Ft(e),t.status,e.weak_password.reasons):new Zh(Ft(e),t.status||500)}const rf=(t,e,s,n)=>{const r={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?r:(r.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),r.body=JSON.stringify(n),Object.assign(Object.assign({},r),s))};async function K(t,e,s,n){var r;const i=Object.assign({},n==null?void 0:n.headers);n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const o=(r=n==null?void 0:n.query)!==null&&r!==void 0?r:{};n!=null&&n.redirectTo&&(o.redirect_to=n.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await of(t,e,s+a,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function of(t,e,s,n,r,i){const o=rf(e,n,r,i);let a;try{a=await t(s,o)}catch(l){throw console.error(l),new zn(Ft(l),0)}if(a.ok||await Ri(a),n!=null&&n.noResolveJson)return a;try{return await a.json()}catch(l){await Ri(l)}}function nt(t){var e;let s=null;uf(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=qh(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:n},error:null}}function at(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function af(t){return{data:t,error:null}}function lf(t){const{action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i}=t,o=sf(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:s,hashed_token:n,redirect_to:r,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function cf(t){return t}function uf(t){return t.access_token&&t.refresh_token&&t.expires_in}var hf=globalThis&&globalThis.__rest||function(t,e){var s={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(s[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,n=Object.getOwnPropertySymbols(t);r<n.length;r++)e.indexOf(n[r])<0&&Object.prototype.propertyIsEnumerable.call(t,n[r])&&(s[n[r]]=t[n[r]]);return s};class ff{constructor({url:e="",headers:s={},fetch:n}){this.url=e,this.headers=s,this.fetch=zo(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,s="global"){try{return await K(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(H(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,s={}){try{return await K(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:at})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:s}=e,n=hf(e,["options"]),r=Object.assign(Object.assign({},n),s);return"newEmail"in n&&(r.new_email=n==null?void 0:n.newEmail,delete r.newEmail),await K(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:r,headers:this.headers,xform:lf,redirectTo:s==null?void 0:s.redirectTo})}catch(s){if(H(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await K(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:at})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,n,r,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},u=await K(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(s=e==null?void 0:e.page)===null||s===void 0?void 0:s.toString())!==null&&n!==void 0?n:"",per_page:(i=(r=e==null?void 0:e.perPage)===null||r===void 0?void 0:r.toString())!==null&&i!==void 0?i:""},xform:cf});if(u.error)throw u.error;const h=await u.json(),p=(o=u.headers.get("x-total-count"))!==null&&o!==void 0?o:0,_=(l=(a=u.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return _.length>0&&(_.forEach(S=>{const E=parseInt(S.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(S.split(";")[1].split("=")[1]);c[`${k}Page`]=E}),c.total=parseInt(p)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(H(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){try{return await K(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:at})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){try{return await K(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:at})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,s=!1){try{return await K(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:at})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:s,error:n}=await K(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:r=>({data:{factors:r},error:null})});return{data:s,error:n}}catch(s){if(H(s))return{data:null,error:s};throw s}}async _deleteFactor(e){try{return{data:await K(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}}const Wo="2.60.1",df="http://localhost:9999",pf="supabase.auth.token",gf={"X-Client-Info":`gotrue-js/${Wo}`},ki=10,_f={getItem:t=>vs()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{vs()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{vs()&&globalThis.localStorage.removeItem(t)}};function xi(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}function mf(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}globalThis&&vs()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug");class vf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}mf();const yf={url:df,storageKey:pf,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:gf,flowType:"implicit",debug:!1},as=30*1e3,Pi=3;async function bf(t,e,s){return await s()}class Ts{constructor(e){var s;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ts.nextInstanceID,Ts.nextInstanceID+=1,this.instanceID>0&&Ke()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},yf),e);if(this.logDebugMessages=!!n.debug,typeof n.debug=="function"&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new ff({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=zo(n.fetch),this.lock=n.lock||bf,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:vs()?this.storage=_f:(this.memoryStorage={},this.storage=xi(this.memoryStorage)):(this.memoryStorage={},this.storage=xi(this.memoryStorage)),Ke()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(r){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",r)}(s=this.broadcastChannel)===null||s===void 0||s.addEventListener("message",async r=>{this._debug("received broadcast notification from other tab or client",r),await this._notifyAllSubscribers(r.data.event,r.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Wo}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){try{const e=Ke()?await this._isPKCEFlow():!1;if(this._debug("#_initialize()","begin","is PKCE flow",e),e||this.detectSessionInUrl&&this._isImplicitGrantFlow()){const{data:s,error:n}=await this._getSessionFromURL(e);if(n)return this._debug("#_initialize()","error detecting session from URL",n),(n==null?void 0:n.message)==="Identity is already linked"||(n==null?void 0:n.message)==="Identity is already linked to another user"?{error:n}:(await this._removeSession(),{error:n});const{session:r,redirectType:i}=s;return this._debug("#_initialize()","detected session in URL",r,"redirect type",i),await this._saveSession(r),setTimeout(async()=>{i==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",r):await this._notifyAllSubscribers("SIGNED_IN",r)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(e){return H(e)?{error:e}:{error:new Jo("Unexpected error during initialization",e)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signUp(e){var s,n,r;try{await this._removeSession();let i;if("email"in e){const{email:u,password:h,options:p}=e;let _=null,S=null;if(this.flowType==="pkce"){const E=At();await gt(this.storage,`${this.storageKey}-code-verifier`,E),_=await $t(E),S=E===_?"plain":"s256"}i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:p==null?void 0:p.emailRedirectTo,body:{email:u,password:h,data:(s=p==null?void 0:p.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken},code_challenge:_,code_challenge_method:S},xform:nt})}else if("phone"in e){const{phone:u,password:h,options:p}=e;i=await K(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:u,password:h,data:(n=p==null?void 0:p.data)!==null&&n!==void 0?n:{},channel:(r=p==null?void 0:p.channel)!==null&&r!==void 0?r:"sms",gotrue_meta_security:{captcha_token:p==null?void 0:p.captchaToken}},xform:nt})}else throw new Ls("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(H(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{await this._removeSession();let s;if("email"in e){const{email:i,password:o,options:a}=e;s=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nt})}else if("phone"in e){const{phone:i,password:o,options:a}=e;s=await K(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:nt})}else throw new Ls("You must provide either an email or phone number and a password");const{data:n,error:r}=s;return r?{data:{user:null,session:null},error:r}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Tn}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:{user:n.user,session:n.session},error:r})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOAuth(e){var s,n,r,i;return await this._removeSession(),await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(r=e.options)===null||r===void 0?void 0:r.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const[s,n]=(await Is(this.storage,`${this.storageKey}-code-verifier`)).split("/"),{data:r,error:i}=await K(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:s},xform:nt});return await On(this.storage,`${this.storageKey}-code-verifier`),i?{data:{user:null,session:null,redirectType:null},error:i}:!r||!r.session||!r.user?{data:{user:null,session:null,redirectType:null},error:new Tn}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign(Object.assign({},r),{redirectType:n??null}),error:i})}async signInWithIdToken(e){await this._removeSession();try{const{options:s,provider:n,token:r,access_token:i,nonce:o}=e,a=await K(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:r,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},xform:nt}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Tn}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithOtp(e){var s,n,r,i,o;try{if(await this._removeSession(),"email"in e){const{email:a,options:l}=e;let c=null,u=null;if(this.flowType==="pkce"){const p=At();await gt(this.storage,`${this.storageKey}-code-verifier`,p),c=await $t(p),u=p===c?"plain":"s256"}const{error:h}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:u},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:u}=await K(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:u}}throw new Ls("You must provide either an email or phone number.")}catch(a){if(H(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var s,n;try{e.type!=="email_change"&&e.type!=="phone_change"&&await this._removeSession();let r,i;"options"in e&&(r=(s=e.options)===null||s===void 0?void 0:s.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:r,xform:nt});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(r){if(H(r))return{data:{user:null,session:null},error:r};throw r}}async signInWithSSO(e){var s,n,r;try{await this._removeSession();let i=null,o=null;if(this.flowType==="pkce"){const a=At();await gt(this.storage,`${this.storageKey}-code-verifier`,a),i=await $t(a),o=a===i?"plain":"s256"}return await K(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&n!==void 0?n:void 0}),!((r=e==null?void 0:e.options)===null||r===void 0)&&r.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:af})}catch(i){if(H(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:n}=e;if(n)throw n;if(!s)throw new jt;const{error:r}=await K(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return{data:{user:null,session:null},error:r}})}catch(e){if(H(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{e.type!="email_change"&&e.type!="phone_change"&&await this._removeSession();const s=`${this.url}/resend`;if("email"in e){const{email:n,type:r,options:i}=e,{error:o}=await K(this.fetch,"POST",s,{headers:this.headers,body:{email:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:n,type:r,options:i}=e,{data:o,error:a}=await K(this.fetch,"POST",s,{headers:this.headers,body:{phone:n,type:r,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Ls("You must provide either an email or phone number and a type")}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async getSession(){return await this.initializePromise,this._acquireLock(-1,async()=>this._useSession(async e=>e))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await n,await s()))();return this.pendingInLock.push((async()=>{try{await r}catch{}})()),r}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=s();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const r=[...this.pendingInLock];await Promise.all(r),this.pendingInLock.splice(0,r.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await Is(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at<=Date.now()/1e3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n)return{data:{session:e},error:null};const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:r},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:at}):await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await K(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0,xform:at})})}catch(s){if(H(s))return{data:{user:null},error:s};throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async n=>{const{data:r,error:i}=n;if(i)throw i;if(!r.session)throw new jt;const o=r.session;let a=null,l=null;if(this.flowType==="pkce"&&e.email!=null){const h=At();await gt(this.storage,`${this.storageKey}-code-verifier`,h),a=await $t(h),l=h===a?"plain":"s256"}const{data:c,error:u}=await K(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s==null?void 0:s.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:at});if(u)throw u;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(n){if(H(n))return{data:{user:null},error:n};throw n}}_decodeJWT(e){return Oi(e)}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new jt;const s=Date.now()/1e3;let n=s,r=!0,i=null;const o=Oi(e.access_token);if(o.exp&&(n=o.exp,r=n<=s),r){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:n-s,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(s){if(H(s))return{data:{session:null,user:null},error:s};throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var n;if(!e){const{data:o,error:a}=s;if(a)throw a;e=(n=o.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new jt;const{session:r,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:r?{data:{user:r.user,session:r},error:null}:{data:{user:null,session:null},error:null}})}catch(s){if(H(s))return{data:{user:null,session:null},error:s};throw s}}async _getSessionFromURL(e){try{if(!Ke())throw new Us("No browser detected.");if(this.flowType==="implicit"&&!this._isImplicitGrantFlow())throw new Us("Not a valid implicit grant flow url.");if(this.flowType=="pkce"&&!e)throw new Ti("Not a valid PKCE flow url.");const s=Sn(window.location.href);if(e){if(!s.code)throw new Ti("No code detected.");const{data:j,error:N}=await this._exchangeCodeForSession(s.code);if(N)throw N;const C=new URL(window.location.href);return C.searchParams.delete("code"),window.history.replaceState(window.history.state,"",C.toString()),{data:{session:j.session,redirectType:null},error:null}}if(s.error||s.error_description||s.error_code)throw new Us(s.error_description||"Error in URL with unspecified error_description",{error:s.error||"unspecified_error",code:s.error_code||"unspecified_code"});const{provider_token:n,provider_refresh_token:r,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=s;if(!i||!a||!o||!c)throw new Us("No session defined in URL");const u=Math.round(Date.now()/1e3),h=parseInt(a);let p=u+h;l&&(p=parseInt(l));const _=p-u;_*1e3<=as&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${_}s, should have been closer to ${h}s`);const S=p-h;u-S>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",S,p,u):u-S<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clok for skew",S,p,u);const{data:E,error:k}=await this._getUser(i);if(k)throw k;const P={provider_token:n,provider_refresh_token:r,access_token:i,expires_in:h,expires_at:p,refresh_token:o,token_type:c,user:E.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:P,redirectType:s.type},error:null}}catch(s){if(H(s))return{data:{session:null,redirectType:null},error:s};throw s}}_isImplicitGrantFlow(){const e=Sn(window.location.href);return!!(Ke()&&(e.access_token||e.error_description))}async _isPKCEFlow(){const e=Sn(window.location.href),s=await Is(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{error:i};const o=(n=r.session)===null||n===void 0?void 0:n.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(ef(a)&&(a.status===404||a.status===401)))return{error:a}}return e!=="others"&&(await this._removeSession(),await On(this.storage,`${this.storageKey}-code-verifier`),await this._notifyAllSubscribers("SIGNED_OUT",null)),{error:null}})}onAuthStateChange(e){const s=zh(),n={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async s=>{var n,r;try{const{data:{session:i},error:o}=s;if(o)throw o;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,s={}){let n=null,r=null;if(this.flowType==="pkce"){const i=At();await gt(this.storage,`${this.storageKey}-code-verifier`,`${i}/PASSWORD_RECOVERY`),n=await $t(i),r=i===n?"plain":"s256"}try{return await K(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:r,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(i){if(H(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:s,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(s){if(H(s))return{data:null,error:s};throw s}}async linkIdentity(e){var s;try{const{data:n,error:r}=await this._useSession(async i=>{var o,a,l,c,u;const{data:h,error:p}=i;if(p)throw p;const _=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await K(this.fetch,"GET",_,{headers:this.headers,jwt:(u=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&u!==void 0?u:void 0})});if(r)throw r;return Ke()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(H(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)throw o;return await K(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(r=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&r!==void 0?r:void 0})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const n=Date.now();return await Gh(async r=>(await Vh(r*200),this._debug(s,"refreshing attempt",r),await K(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:nt})),(r,i,o)=>o&&o.error&&Rn(o.error)&&Date.now()+(r+1)*200-n<as)}catch(n){if(this._debug(s,"error",n),H(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",n),Ke()&&!s.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const s="#_recoverAndRefresh()";this._debug(s,"begin");try{const n=await Is(this.storage,this.storageKey);if(this._debug(s,"session from storage",n),!this._isValidSession(n)){this._debug(s,"session is not valid"),n!==null&&await this._removeSession();return}const r=Math.round(Date.now()/1e3),i=((e=n.expires_at)!==null&&e!==void 0?e:1/0)<r+ki;if(this._debug(s,`session has${i?"":" not"} expired with margin of ${ki}s`),i){if(this.autoRefreshToken&&n.refresh_token){const{error:o}=await this._callRefreshToken(n.refresh_token);o&&(console.error(o),Rn(o)||(this._debug(s,"refresh failed with a non-retryable error, removing the session",o),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(s,"error",n),console.error(n);return}finally{this._debug(s,"end")}}async _callRefreshToken(e){var s,n;if(!e)throw new jt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const r=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{this.refreshingDeferred=new un;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new jt;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(r,"error",i),H(i)){const o={session:null,error:i};return Rn(i)||(await this._removeSession(),await this._notifyAllSubscribers("SIGNED_OUT",null)),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(o),o}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(r,"end")}}async _notifyAllSubscribers(e,s,n=!0){const r=`#_notifyAllSubscribers(${e})`;this._debug(r,"begin",s,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:s});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,s)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(r,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),await gt(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await On(this.storage,this.storageKey)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ke()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),as);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:n}}=s;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const r=Math.floor((n.expires_at*1e3-e)/as);this._debug("#_autoRefreshTokenTick()",`access token expires in ${r} ticks, a tick lasts ${as}ms, refresh threshold is ${Pi} ticks`),r<=Pi&&await this._callRefreshToken(n.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof vf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ke()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,n){const r=[`provider=${encodeURIComponent(s)}`];if(n!=null&&n.redirectTo&&r.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&r.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const i=At();await gt(this.storage,`${this.storageKey}-code-verifier`,i);const o=await $t(i),a=i===o?"plain":"s256";this._debug("PKCE","code verifier",`${i.substring(0,5)}...`,"code challenge",o,"method",a);const l=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});r.push(l.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);r.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&r.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${r.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await K(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _enroll(e){try{return await this._useSession(async s=>{var n,r;const{data:i,error:o}=s;if(o)return{data:null,error:o};const{data:a,error:l}=await K(this.fetch,"POST",`${this.url}/factors`,{body:{friendly_name:e.friendlyName,factor_type:e.factorType,issuer:e.issuer},headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?{data:null,error:l}:(!((r=a==null?void 0:a.totp)===null||r===void 0)&&r.qr_code&&(a.totp.qr_code=`data:image/svg+xml;utf-8,${a.totp.qr_code}`),{data:a,error:null})})}catch(s){if(H(s))return{data:null,error:s};throw s}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;if(i)return{data:null,error:i};const{data:o,error:a}=await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(s){if(H(s))return{data:null,error:s};throw s}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async s=>{var n;const{data:r,error:i}=s;return i?{data:null,error:i}:await K(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{headers:this.headers,jwt:(n=r==null?void 0:r.session)===null||n===void 0?void 0:n.access_token})})}catch(s){if(H(s))return{data:null,error:s};throw s}})}async _challengeAndVerify(e){const{data:s,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){const{data:{user:e},error:s}=await this.getUser();if(s)return{data:null,error:s};const n=(e==null?void 0:e.factors)||[],r=n.filter(i=>i.factor_type==="totp"&&i.status==="verified");return{data:{all:n,totp:r},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var s,n;const{data:{session:r},error:i}=e;if(i)return{data:null,error:i};if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const o=this._decodeJWT(r.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((n=(s=r.user.factors)===null||s===void 0?void 0:s.filter(h=>h.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const u=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:u},error:null}}))}}Ts.nextInstanceID=0;class wf extends Ts{constructor(e){super(e)}}var Ef=globalThis&&globalThis.__awaiter||function(t,e,s,n){function r(i){return i instanceof s?i:new s(function(o){o(i)})}return new(s||(s=Promise))(function(i,o){function a(u){try{c(n.next(u))}catch(h){o(h)}}function l(u){try{c(n.throw(u))}catch(h){o(h)}}function c(u){u.done?i(u.value):r(u.value).then(a,l)}c((n=n.apply(t,e||[])).next())})};const Sf={headers:Dh},Of={schema:"public"},Tf={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Rf={};class kf{constructor(e,s,n){var r,i,o,a,l,c,u,h;if(this.supabaseUrl=e,this.supabaseKey=s,!e)throw new Error("supabaseUrl is required.");if(!s)throw new Error("supabaseKey is required.");const p=Hh(e);this.realtimeUrl=`${p}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${p}/auth/v1`,this.storageUrl=`${p}/storage/v1`,this.functionsUrl=`${p}/functions/v1`;const _=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,S={db:Of,realtime:Rf,auth:Object.assign(Object.assign({},Tf),{storageKey:_}),global:Sf},E=Kh(n??{},S);this.storageKey=(i=(r=E.auth)===null||r===void 0?void 0:r.storageKey)!==null&&i!==void 0?i:"",this.headers=(a=(o=E.global)===null||o===void 0?void 0:o.headers)!==null&&a!==void 0?a:{},this.auth=this._initSupabaseAuthClient((l=E.auth)!==null&&l!==void 0?l:{},this.headers,(c=E.global)===null||c===void 0?void 0:c.fetch),this.fetch=Bh(s,this._getAccessToken.bind(this),(u=E.global)===null||u===void 0?void 0:u.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers},E.realtime)),this.rest=new _r(`${p}/rest/v1`,{headers:this.headers,schema:(h=E.db)===null||h===void 0?void 0:h.schema,fetch:this.fetch}),this._listenForAuthEvents()}get functions(){return new eh(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Lh(this.storageUrl,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,s={},n){return this.rest.rpc(e,s,n)}channel(e,s={config:{}}){return this.realtime.channel(e,s)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,s;return Ef(this,void 0,void 0,function*(){const{data:n}=yield this.auth.getSession();return(s=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&s!==void 0?s:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,storageKey:i,flowType:o,debug:a},l,c){const u={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new wf({url:this.authUrl,headers:Object.assign(Object.assign({},u),l),storageKey:i,autoRefreshToken:e,persistSession:s,detectSessionInUrl:n,storage:r,flowType:o,debug:a,fetch:c})}_initRealtimeClient(e){return new Sh(this.realtimeUrl,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,s,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.realtime.setAuth(n??null),this.changedAccessToken=n):e==="SIGNED_OUT"&&(this.realtime.setAuth(this.supabaseKey),s=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const xf=(t,e,s)=>new kf(t,e,s),br=dc(zu);xf("https://uhtmxrngduhmkroxbcdk.supabase.co","eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVodG14cm5nZHVobWtyb3hiY2RrIiwicm9sZSI6ImFub24iLCJpYXQiOjE3MDE5NTY0ODIsImV4cCI6MjAxNzUzMjQ4Mn0.Q197mKs2njPugI0oJjportGxlkwDPVOHLeRhN2AxJpY");br.use(Vu);br.config.globalProperties.$supabase;br.mount("#app");export{qu as _,te as a,Ka as b,rs as c,or as d,Af as e,Z as f,xf as g,Cf as h,Ca as i,ae as j,Yn as n,It as o,Ha as p,Pf as r,xt as t,$f as u,Re as w};
