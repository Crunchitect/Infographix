import{d as B,l as k,u as I,e as C,o as r,c as n,a as e,m as a,t as j,j as S,F as P,q as E,i as F,s as N,p as L,b as O,_ as R}from"./index-6baec8ff.js";import{s as c,E as U}from"./ErrorBox-eb736b7f.js";const V=o=>(L("data-v-58a7b45b"),o=o(),O(),o),q={class:"user"},z={class:"userblock"},D=["src"],M=V(()=>e("div",{class:"projects"},[e("h1",{class:"big"},"Projects")],-1)),W={class:"project-panel"},$={key:0,class:"blank"},A=B({__name:"Projects",props:{language:String},setup(o){let l=k({});const _=I(),u=C();let d=c.auth.getUser().then(s=>{s.error&&(console.clear(),u.push("/sign-up"))});!_.hash&&!d?(console.log(d),u.push("/sign-up")):(_.hash.slice(1).split("&")[0].split("=")[1],(async()=>{const{data:{user:s}}=await c.auth.getUser();l.value=s})());const w=async()=>{let{error:s}=await c.auth.signOut();return u.push("/"),s};let t=k({data:{},error:null});return(async()=>t.value=await c.from("Projects").select("name"))(),(s,G)=>{var p,h,m,g,f,b,v,y;return r(),n(P,null,[e("div",q,[e("div",z,[e("img",{class:"profile",src:((h=(p=a(l))==null?void 0:p.user_metadata)==null?void 0:h.avatar_url)??"no",referrerpolicy:"no-referrer"},null,8,D),e("h1",null,j(((g=(m=a(l))==null?void 0:m.user_metadata)==null?void 0:g.name)??"Loading..."),1)]),e("button",{class:"sign-out",onClick:w},"Sign Out")]),M,e("div",W,[(f=a(t))!=null&&f.data[0]?S("",!0):(r(),n("p",$,"No Projects Found... Maybe create a new one?")),(r(!0),n(P,null,E((b=a(t))==null?void 0:b.data,(i,x)=>(r(),n("div",{class:"project",style:N(`--anim-order: ${x}`)},[e("p",null,j((i==null?void 0:i.name)??"What the fuck is in ur config?"),1)],4))),256))]),(v=a(t))!=null&&v.error?(r(),F(U,{key:0,msg:(y=a(t))==null?void 0:y.error},null,8,["msg"])):S("",!0)],64)}}});const K=R(A,[["__scopeId","data-v-58a7b45b"]]);export{K as default};
