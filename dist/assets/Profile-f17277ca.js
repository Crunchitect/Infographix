import{d as P,k as b,u as I,e as j,o,c as i,a as e,l as a,t as k,F as S,m as C,i as E,j as F,q as L,p as N,b as O,_ as R}from"./index-00991e8a.js";import{s as n,E as U}from"./ErrorBox-4f595dc4.js";const V=t=>(N("data-v-1fb222e4"),t=t(),O(),t),q={class:"user"},z={class:"userblock"},D=["src"],W=V(()=>e("div",{class:"projects"},[e("h1",{class:"big"},"Projects")],-1)),$={class:"project-panel"},A=P({__name:"Profile",props:{language:String},setup(t){let c=b({});const _=I(),d=j();let w=(async()=>{var s,l;return(l=(s=await n.auth.getUser())==null?void 0:s.data)==null?void 0:l.user})();!_.hash&&!w?d.push("/404"):(_.hash.slice(1).split("&")[0].split("=")[1],(async()=>{const{data:{user:s}}=await n.auth.getUser();c.value=s})());const x=async()=>{let{error:s}=await n.auth.signOut();return d.push("/"),s};let r=b({});return(async()=>r.value=await n.from("Projects").select("name"))(),(s,l)=>{var p,m,f,h,g,v,y;return o(),i(S,null,[e("div",q,[e("div",z,[e("img",{class:"profile",src:((m=(p=a(c))==null?void 0:p.user_metadata)==null?void 0:m.avatar_url)??"no",referrerpolicy:"no-referrer"},null,8,D),e("h1",null,k(((h=(f=a(c))==null?void 0:f.user_metadata)==null?void 0:h.name)??"Loading..."),1)]),e("button",{class:"sign-out",onClick:x},"Sign Out")]),W,e("div",$,[(o(!0),i(S,null,C((g=a(r))==null?void 0:g.data,(u,B)=>(o(),i("div",{class:"project",style:L(`--anim-order: ${B}`)},[e("p",null,k((u==null?void 0:u.name)??"What the fuck is in ur config?"),1)],4))),256))]),(v=a(r))!=null&&v.error?(o(),E(U,{key:0,msg:(y=a(r))==null?void 0:y.error},null,8,["msg"])):F("",!0)],64)}}});const J=R(A,[["__scopeId","data-v-1fb222e4"]]);export{J as default};
